(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},304:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(1),a=n.n(r),o=n(71),s=n.n(o),c=(n(137),n(6)),l=n(7),u=n(33),d=n(8),h=n(9),f=n(5),m=n(126),p=n.n(m),v=n(10),g=(n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(12)),b=n.n(g),k="/api/auth/",y=new(function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"login",value:function(e,t){return b.a.post(k+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,n){return b.a.post(k+"signup",{username:e,password:n,email:t})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),w=n(2),_=n(19),x=n(24),j=n(15),C=j.b().shape({username:j.c().required().min(3).max(20),email:j.c().required().email(),password:j.c().required().min(6).max(40)}),O=function(){var e=Object(r.useState)(),t=Object(w.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!1),s=Object(w.a)(o,2),c=s[0],l=s[1],u=Object(r.useState)(!0),d=Object(w.a)(u,2),h=d[0],f=d[1],m=Object(_.b)({resolver:Object(x.yupResolver)(C)}),p=m.register,v=m.handleSubmit,g=m.errors,b=function(){f(!0!==h)};return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"Subscribe"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"Subscribe on DoanStack for full access"})}),Object(i.jsx)("div",{className:"col-md-12",id:"Register",children:Object(i.jsxs)("div",{className:"card card-container",children:[Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"user-img-card"}),Object(i.jsxs)("form",{onSubmit:v((function(e){l(!0),y.register(e.username,e.email,e.password).then((function(e){a(Object(i.jsx)("div",{className:"alert alert-success",role:"alert",children:e.data.message})),l(!1)}),(function(e){a(Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:e.response.data.message})),l(!1)}))})),children:[n,Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Username"}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter username",name:"username",ref:p}),g.username&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:g.username.message})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Email"}),Object(i.jsx)("input",{type:"text",className:"form-control","aria-describedby":"emailHelp",name:"email",placeholder:"Enter email",ref:p}),Object(i.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"I'll never share your email with anyone else."}),g.email&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:g.email.message})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"New Password"}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("input",{type:h?"password":"text",className:"form-control",placeholder:"Enter new password",name:"password",autoComplete:"off",ref:p}),Object(i.jsxs)("div",{className:"input-group-append",children:[h&&Object(i.jsx)("span",{className:"input-group-text",onClick:b,children:Object(i.jsx)("i",{className:"far fa-eye"})}),!h&&Object(i.jsx)("span",{className:"input-group-text",onClick:b,children:Object(i.jsx)("i",{className:"fas fa-eye-slash"})})]}),g.password&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:g.password.message})]})]}),Object(i.jsx)("div",{className:"form-group",children:Object(i.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",children:[c&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(i.jsx)("span",{children:"Register"})]})})]})]})})]})},N=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)(O,{})})}}]),n}(a.a.Component),A=j.b().shape({username:j.c().required(),password:j.c().required()}),T=function(){var e=Object(v.f)(),t=Object(r.useState)(),n=Object(w.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(!1),c=Object(w.a)(s,2),l=c[0],u=c[1],d=Object(r.useState)(!0),h=Object(w.a)(d,2),f=h[0],m=h[1],p=Object(_.b)({resolver:Object(x.yupResolver)(A)}),g=p.register,b=p.handleSubmit,k=p.errors,j=function(){m(!0!==f)};return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"Signin"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"Signin on DoanStack for full access"})}),Object(i.jsx)("div",{className:"col-md-12",id:"Register",children:Object(i.jsxs)("div",{className:"card card-container",children:[Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"user-img-card"}),Object(i.jsxs)("form",{onSubmit:b((function(t){u(!0),y.login(t.username,t.password).then((function(){o(Object(i.jsx)("div",{className:"alert alert-success",role:"alert",children:'"Login Successfull!"'})),u(!1),e.push("/profile"),window.location.reload()}),(function(e){o(Object(i.jsx)("div",{className:"alert alert-success",role:"alert",children:e.response.data.message})),u(!1)}))})),children:[a,Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Username"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"username",ref:g}),k.username&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:k.username.message})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Password"}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("input",{type:f?"password":"text",className:"form-control",placeholder:"Enter password",name:"password",autoComplete:"current-password",ref:g}),Object(i.jsxs)("div",{className:"input-group-append",children:[f&&Object(i.jsx)("span",{className:"input-group-text",onClick:j,children:Object(i.jsx)("i",{className:"far fa-eye"})}),!f&&Object(i.jsx)("span",{className:"input-group-text",onClick:j,children:Object(i.jsx)("i",{className:"fas fa-eye-slash"})})]}),k.password&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:k.password.message})]})]}),Object(i.jsx)("div",{className:"form-group",children:Object(i.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",children:[l&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(i.jsx)("span",{children:"Login"})]})})]})]})})]})},S=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)(T,{})})}}]),n}(a.a.Component),M=function(){return Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("svg",{width:"100%",viewBox:"0 0 1018 760",fill:"none",children:[Object(i.jsx)("g",{id:"home 1",children:Object(i.jsx)("g",{id:"InlineSVGColor 1",children:Object(i.jsxs)("g",{id:"InlineSVG",children:[Object(i.jsx)("path",{id:"InlineSVG_2",d:"M326.845 325.464H954.236V679.377H326.845V325.464ZM326.845 325.464V679.377V325.464ZM326.845 325.464L774.813 679.377H326.845V325.464ZM355 336.308H372H355ZM355 336.308L363 332.5H380.5L355 336.308ZM355 336.308L380.5 332.5L355 336.308ZM355 336.308V351.5H372L355 336.308ZM355 336.308L372 351.5L355 336.308ZM372 336.308L380.5 332.5L372 336.308ZM372 336.308V351.5V336.308ZM380.5 332.5V346.5L372 351.5L380.5 332.5ZM380.5 332.5L372 351.5L380.5 332.5ZM323.5 105C319.358 105 316 106.791 316 109C316 111.209 319.358 113 323.5 113C327.642 113 331 111.209 331 109C331 106.791 327.642 105 323.5 105ZM323.5 105C321.567 105 320 106.567 320 108.5C320 110.433 321.567 112 323.5 112C325.433 112 327 110.433 327 108.5C327 106.567 325.433 105 323.5 105ZM353.5 105C349.358 105 346 106.791 346 109C346 111.209 349.358 113 353.5 113C357.642 113 361 111.209 361 109C361 106.791 357.642 105 353.5 105ZM353.5 105C351.567 105 350 106.567 350 108.5C350 110.433 351.567 112 353.5 112C355.433 112 357 110.433 357 108.5C357 106.567 355.433 105 353.5 105ZM326 128.5C329.833 131 340.2 134.5 351 128.5H326ZM646.439 309.377C646.439 312.931 643.558 315.812 640.004 315.812C636.45 315.812 633.569 312.931 633.569 309.377C633.569 305.823 636.45 302.942 640.004 302.942C643.558 302.942 646.439 305.823 646.439 309.377ZM683.614 441.307C683.614 474.613 656.613 501.614 623.307 501.614C590 501.614 563 474.613 563 441.307C563 408 590 381 623.307 381C656.613 381 683.614 408 683.614 441.307ZM597.016 542.032C582.179 542.032 567.676 537.632 555.339 529.389C543.003 521.146 533.388 509.43 527.71 495.723C522.032 482.016 520.547 466.933 523.441 452.381C526.336 437.829 533.48 424.463 543.972 413.972C554.463 403.481 567.829 396.336 582.381 393.441C596.933 390.547 612.016 392.033 625.723 397.71C639.43 403.388 651.146 413.003 659.389 425.339C667.632 437.676 672.032 452.179 672.032 467.016C672.009 486.904 664.098 505.972 650.035 520.035C635.972 534.098 616.904 542.009 597.016 542.032ZM597.016 392.981C582.373 392.981 568.059 397.323 555.884 405.458C543.709 413.593 534.22 425.156 528.616 438.684C523.013 452.212 521.547 467.098 524.403 481.459C527.26 495.821 534.311 509.013 544.665 519.367C555.019 529.721 568.211 536.772 582.572 539.628C596.934 542.485 611.82 541.019 625.348 535.415C638.876 529.812 650.439 520.323 658.574 508.148C666.709 495.973 671.051 481.659 671.051 467.016C671.029 447.387 663.222 428.569 649.342 414.69C635.463 400.81 616.644 393.003 597.016 392.981ZM791.851 619.343H850.456V631.589H791.851V619.343ZM721 524H921.307V529.248H721V524ZM721 540.619H921.307V545.868H721V540.619ZM721 557.239H921.307V562.487H721V557.239ZM721 573.858H921.307V579.106H721V573.858ZM721 590.478H921.307V595.726H721V590.478ZM721 394.576H736.264C739.912 394.576 743.128 395.28 745.912 396.688C748.728 398.064 750.904 400.016 752.44 402.544C754.008 405.072 754.792 408.016 754.792 411.376C754.792 414.736 754.008 417.68 752.44 420.208C750.904 422.736 748.728 424.704 745.912 426.112C743.128 427.488 739.912 428.176 736.264 428.176H721V394.576ZM735.88 421.792C739.24 421.792 741.912 420.864 743.896 419.008C745.912 417.12 746.92 414.576 746.92 411.376C746.92 408.176 745.912 405.648 743.896 403.792C741.912 401.904 739.24 400.96 735.88 400.96H728.776V421.792H735.88ZM776.928 428.752C773.44 428.752 770.288 428 767.472 426.496C764.688 424.992 762.496 422.928 760.896 420.304C759.328 417.648 758.544 414.672 758.544 411.376C758.544 408.08 759.328 405.12 760.896 402.496C762.496 399.84 764.688 397.76 767.472 396.256C770.288 394.752 773.44 394 776.928 394C780.416 394 783.552 394.752 786.336 396.256C789.12 397.76 791.312 399.84 792.912 402.496C794.512 405.12 795.312 408.08 795.312 411.376C795.312 414.672 794.512 417.648 792.912 420.304C791.312 422.928 789.12 424.992 786.336 426.496C783.552 428 780.416 428.752 776.928 428.752ZM776.928 422.128C778.912 422.128 780.704 421.68 782.304 420.784C783.904 419.856 785.152 418.576 786.048 416.944C786.976 415.312 787.44 413.456 787.44 411.376C787.44 409.296 786.976 407.44 786.048 405.808C785.152 404.176 783.904 402.912 782.304 402.016C780.704 401.088 778.912 400.624 776.928 400.624C774.944 400.624 773.152 401.088 771.552 402.016C769.952 402.912 768.688 404.176 767.76 405.808C766.864 407.44 766.416 409.296 766.416 411.376C766.416 413.456 766.864 415.312 767.76 416.944C768.688 418.576 769.952 419.856 771.552 420.784C773.152 421.68 774.944 422.128 776.928 422.128ZM822.815 420.976H807.216L804.24 428.176H796.271L811.247 394.576H818.927L833.951 428.176H825.792L822.815 420.976ZM820.367 415.072L815.039 402.208L809.711 415.072H820.367ZM868.253 394.576V428.176H861.87L845.117 407.776V428.176H837.438V394.576H843.87L860.573 414.976V394.576H868.253ZM751.816 453.576V487.176H745.432L728.68 466.776V487.176H721V453.576H727.432L744.136 473.976V453.576H751.816ZM782.47 469.848H789.574V483.48C787.75 484.856 785.638 485.912 783.238 486.648C780.838 487.384 778.422 487.752 775.99 487.752C772.502 487.752 769.366 487.016 766.582 485.544C763.798 484.04 761.606 481.976 760.006 479.352C758.438 476.696 757.654 473.704 757.654 470.376C757.654 467.048 758.438 464.072 760.006 461.448C761.606 458.792 763.814 456.728 766.63 455.256C769.446 453.752 772.614 453 776.134 453C779.078 453 781.75 453.496 784.15 454.488C786.55 455.48 788.566 456.92 790.198 458.808L785.206 463.416C782.806 460.888 779.91 459.624 776.518 459.624C774.374 459.624 772.47 460.072 770.806 460.968C769.142 461.864 767.846 463.128 766.918 464.76C765.99 466.392 765.526 468.264 765.526 470.376C765.526 472.456 765.99 474.312 766.918 475.944C767.846 477.576 769.126 478.856 770.758 479.784C772.422 480.68 774.31 481.128 776.422 481.128C778.662 481.128 780.678 480.648 782.47 479.688V469.848ZM811.725 487.752C806.925 487.752 803.181 486.424 800.493 483.768C797.837 481.112 796.509 477.32 796.509 472.392V453.576H804.285V472.104C804.285 478.12 806.781 481.128 811.773 481.128C814.205 481.128 816.061 480.408 817.341 478.968C818.621 477.496 819.261 475.208 819.261 472.104V453.576H826.941V472.392C826.941 477.32 825.597 481.112 822.909 483.768C820.253 486.424 816.525 487.752 811.725 487.752ZM850.284 475.272V487.176H842.508V475.176L829.5 453.576H837.756L846.732 468.504L855.708 453.576H863.34L850.284 475.272ZM892.282 480.936V487.176H866.266V453.576H891.658V459.816H873.994V467.112H889.594V473.16H873.994V480.936H892.282ZM929.285 453.576V487.176H922.901L906.149 466.776V487.176H898.469V453.576H904.901L921.605 473.976V453.576H929.285ZM354 331H493V351H354V331ZM386.494 332.4H392.218C393.586 332.4 394.792 332.664 395.836 333.192C396.892 333.708 397.708 334.44 398.284 335.388C398.872 336.336 399.166 337.44 399.166 338.7C399.166 339.96 398.872 341.064 398.284 342.012C397.708 342.96 396.892 343.698 395.836 344.226C394.792 344.742 393.586 345 392.218 345H386.494V332.4ZM392.074 342.606C393.334 342.606 394.336 342.258 395.08 341.562C395.836 340.854 396.214 339.9 396.214 338.7C396.214 337.5 395.836 336.552 395.08 335.856C394.336 335.148 393.334 334.794 392.074 334.794H389.41V342.606H392.074ZM405.775 345.144C404.755 345.144 403.837 344.934 403.021 344.514C402.217 344.082 401.587 343.488 401.131 342.732C400.675 341.976 400.447 341.118 400.447 340.158C400.447 339.198 400.675 338.34 401.131 337.584C401.587 336.828 402.217 336.24 403.021 335.82C403.837 335.388 404.755 335.172 405.775 335.172C406.795 335.172 407.707 335.388 408.511 335.82C409.315 336.24 409.945 336.828 410.401 337.584C410.857 338.34 411.085 339.198 411.085 340.158C411.085 341.118 410.857 341.976 410.401 342.732C409.945 343.488 409.315 344.082 408.511 344.514C407.707 344.934 406.795 345.144 405.775 345.144ZM405.775 342.84C406.495 342.84 407.083 342.6 407.539 342.12C408.007 341.628 408.241 340.974 408.241 340.158C408.241 339.342 408.007 338.694 407.539 338.214C407.083 337.722 406.495 337.476 405.775 337.476C405.055 337.476 404.461 337.722 403.993 338.214C403.525 338.694 403.291 339.342 403.291 340.158C403.291 340.974 403.525 341.628 403.993 342.12C404.461 342.6 405.055 342.84 405.775 342.84ZM416.71 335.172C418.21 335.172 419.362 335.532 420.166 336.252C420.97 336.96 421.372 338.034 421.372 339.474V345H418.744V343.794C418.216 344.694 417.232 345.144 415.792 345.144C415.048 345.144 414.4 345.018 413.848 344.766C413.308 344.514 412.894 344.166 412.606 343.722C412.318 343.278 412.174 342.774 412.174 342.21C412.174 341.31 412.51 340.602 413.182 340.086C413.866 339.57 414.916 339.312 416.332 339.312H418.564C418.564 338.7 418.378 338.232 418.006 337.908C417.634 337.572 417.076 337.404 416.332 337.404C415.816 337.404 415.306 337.488 414.802 337.656C414.31 337.812 413.89 338.028 413.542 338.304L412.534 336.342C413.062 335.97 413.692 335.682 414.424 335.478C415.168 335.274 415.93 335.172 416.71 335.172ZM416.494 343.254C416.974 343.254 417.4 343.146 417.772 342.93C418.144 342.702 418.408 342.372 418.564 341.94V340.95H416.638C415.486 340.95 414.91 341.328 414.91 342.084C414.91 342.444 415.048 342.732 415.324 342.948C415.612 343.152 416.002 343.254 416.494 343.254ZM429.799 335.172C430.999 335.172 431.965 335.532 432.697 336.252C433.441 336.972 433.813 338.04 433.813 339.456V345H431.005V339.888C431.005 339.12 430.837 338.55 430.501 338.178C430.165 337.794 429.679 337.602 429.043 337.602C428.335 337.602 427.771 337.824 427.351 338.268C426.931 338.7 426.721 339.348 426.721 340.212V345H423.913V335.316H426.595V336.45C426.967 336.042 427.429 335.73 427.981 335.514C428.533 335.286 429.139 335.172 429.799 335.172ZM440.697 345.216C439.701 345.216 438.735 345.084 437.799 344.82C436.875 344.544 436.13 344.19 435.566 343.758L436.557 341.562C437.097 341.958 437.738 342.276 438.482 342.516C439.226 342.756 439.97 342.876 440.714 342.876C441.542 342.876 442.155 342.756 442.551 342.516C442.947 342.264 443.145 341.934 443.145 341.526C443.145 341.226 443.025 340.98 442.785 340.788C442.557 340.584 442.257 340.422 441.885 340.302C441.525 340.182 441.032 340.05 440.408 339.906C439.448 339.678 438.663 339.45 438.051 339.222C437.439 338.994 436.911 338.628 436.467 338.124C436.035 337.62 435.818 336.948 435.818 336.108C435.818 335.376 436.017 334.716 436.413 334.128C436.809 333.528 437.403 333.054 438.195 332.706C438.999 332.358 439.976 332.184 441.128 332.184C441.932 332.184 442.719 332.28 443.487 332.472C444.255 332.664 444.927 332.94 445.503 333.3L444.603 335.514C443.439 334.854 442.275 334.524 441.111 334.524C440.295 334.524 439.688 334.656 439.292 334.92C438.908 335.184 438.717 335.532 438.717 335.964C438.717 336.396 438.939 336.72 439.383 336.936C439.839 337.14 440.528 337.344 441.452 337.548C442.412 337.776 443.198 338.004 443.81 338.232C444.422 338.46 444.944 338.82 445.376 339.312C445.82 339.804 446.043 340.47 446.043 341.31C446.043 342.03 445.839 342.69 445.431 343.29C445.035 343.878 444.434 344.346 443.63 344.694C442.826 345.042 441.849 345.216 440.697 345.216ZM454.083 344.532C453.807 344.736 453.465 344.892 453.057 345C452.661 345.096 452.241 345.144 451.797 345.144C450.645 345.144 449.751 344.85 449.115 344.262C448.491 343.674 448.179 342.81 448.179 341.67V337.692H446.685V335.532H448.179V333.174H450.987V335.532H453.399V337.692H450.987V341.634C450.987 342.042 451.089 342.36 451.293 342.588C451.509 342.804 451.809 342.912 452.193 342.912C452.637 342.912 453.015 342.792 453.327 342.552L454.083 344.532ZM459.565 335.172C461.065 335.172 462.217 335.532 463.021 336.252C463.825 336.96 464.227 338.034 464.227 339.474V345H461.599V343.794C461.071 344.694 460.087 345.144 458.647 345.144C457.903 345.144 457.255 345.018 456.703 344.766C456.163 344.514 455.749 344.166 455.461 343.722C455.173 343.278 455.029 342.774 455.029 342.21C455.029 341.31 455.365 340.602 456.037 340.086C456.721 339.57 457.771 339.312 459.187 339.312H461.419C461.419 338.7 461.233 338.232 460.861 337.908C460.489 337.572 459.931 337.404 459.187 337.404C458.671 337.404 458.161 337.488 457.657 337.656C457.165 337.812 456.745 338.028 456.397 338.304L455.389 336.342C455.917 335.97 456.547 335.682 457.279 335.478C458.023 335.274 458.785 335.172 459.565 335.172ZM459.349 343.254C459.829 343.254 460.255 343.146 460.627 342.93C460.999 342.702 461.263 342.372 461.419 341.94V340.95H459.493C458.341 340.95 457.765 341.328 457.765 342.084C457.765 342.444 457.903 342.732 458.179 342.948C458.467 343.152 458.857 343.254 459.349 343.254ZM471.554 345.144C470.522 345.144 469.592 344.934 468.764 344.514C467.948 344.082 467.306 343.488 466.838 342.732C466.382 341.976 466.154 341.118 466.154 340.158C466.154 339.198 466.382 338.34 466.838 337.584C467.306 336.828 467.948 336.24 468.764 335.82C469.592 335.388 470.522 335.172 471.554 335.172C472.574 335.172 473.462 335.388 474.218 335.82C474.986 336.24 475.544 336.846 475.892 337.638L473.714 338.808C473.21 337.92 472.484 337.476 471.536 337.476C470.804 337.476 470.198 337.716 469.718 338.196C469.238 338.676 468.998 339.33 468.998 340.158C468.998 340.986 469.238 341.64 469.718 342.12C470.198 342.6 470.804 342.84 471.536 342.84C472.496 342.84 473.222 342.396 473.714 341.508L475.892 342.696C475.544 343.464 474.986 344.064 474.218 344.496C473.462 344.928 472.574 345.144 471.554 345.144ZM481.597 341.202L480.247 342.534V345H477.439V331.644H480.247V339.204L484.351 335.316H487.699L483.667 339.42L488.059 345H484.657L481.597 341.202ZM214.104 117.069L220.7 150.223L287.047 178.604C287.492 178.827 287.971 179.142 288.462 179.555L300.5 176.58L319 169L321.097 169.732L320.945 166.521L324.063 148.959C317.32 143.06 312.04 133.82 308.545 125.76C307.93 124.34 307.169 122.871 306.387 121.361C305.951 120.518 305.507 119.661 305.078 118.793C302.977 117.728 300 112.372 300 96.5V95.7353L291 103.5C292.257 98.5735 293.5 95.7353 298.5 90C300.474 87.7359 296.911 85.9714 292.792 83.9313C289.146 82.125 285.063 80.1027 284 77.3263C295.936 77.3263 297.585 75.2706 298.882 73.6523C299.725 72.6017 300.419 71.7353 303.685 71.7353C303.247 70.7211 301.392 69.8853 299.223 68.9086C295.167 67.0819 290.017 64.7621 291 59.8592C292.133 63.384 296.818 62.2855 301.823 61.1118C304.449 60.4958 307.164 59.8592 309.5 59.8592C318.285 52.7646 341.32 44.0414 363.178 65.9055C363.178 64.5619 362.895 61.4715 361.764 59.8592C360.349 57.8437 366 60 365.534 68.5927C365.607 68.4268 365.687 68.235 365.774 68.0236C366.633 65.953 368.272 62 372 62C371.382 62.927 370.812 63.7108 370.301 64.4132C369.158 65.9836 368.312 67.1467 367.891 68.5927C370.562 69.0406 372 70.5 375 79.5C376.693 88.644 376.158 93.0599 375.403 99.2998C375.042 102.272 374.632 105.659 374.389 110.168C374.177 112.112 373.402 116.9 372 120.5C371.657 121.382 371.285 121.188 370.903 120.287C367.624 130.521 361.97 140.53 355.034 147.15C355.447 150.512 358.558 165.591 359.512 170.186L363 169L372.054 174.699L403.883 185.432C409.33 185.027 413.76 188.409 416.011 191.342L447.205 236.101L465.919 264.597L465.633 274.901L454.064 286.929L442.663 286.854L442.615 286.802C440.753 287.082 438.838 287.327 437.049 287.557H437.047C433.928 287.957 431.19 288.308 429.78 288.706C427.128 289.454 422.947 287.477 419.193 285.703C417.025 284.679 415 283.721 413.493 283.395L398.89 277.5L394.957 295.362H582.091V290H700.062V295.362H960.232C962.543 295.362 964.831 295.818 966.966 296.702C969.102 297.586 971.042 298.883 972.676 300.517C974.31 302.151 975.606 304.091 976.491 306.226C977.375 308.361 977.83 310.65 977.83 312.961V669.213C977.83 670.477 977.695 671.726 977.431 672.942H995.446C1001.01 672.942 1006.35 675.154 1010.29 679.091C1014.23 683.028 1016.44 688.367 1016.44 693.935V703.427C1016.44 708.995 1014.23 714.335 1010.29 718.272C1006.35 722.209 1001.01 724.42 995.446 724.42H297.432C291.864 724.42 286.525 722.209 282.588 718.272C281.599 717.283 280.72 716.207 279.957 715.061C267.794 717.916 253.111 718.538 253.111 718.538C253.111 718.538 236.965 734.684 203.617 720.203C170.27 705.722 219.652 695.734 219.652 695.734L233.079 680.197C233.079 680.197 240.013 673.557 243.976 669.822V539.035L263.567 470.459L288.976 393.852L295.796 379.189H295.5L283.5 292.5L278 254L273.295 224.489C270.716 224.082 268.444 223.168 266.894 222.309L238.507 203.322L197.764 179.116L195.815 173.017L193.003 171.036C190.76 169.94 189.628 167.082 188.55 164.361C188.033 163.057 187.529 161.784 186.922 160.752C185.623 158.545 187.365 149.052 188.624 142.192C189.184 139.14 189.648 136.609 189.707 135.472L202.131 75.6032C202.131 75.6032 207.93 52.3475 212.496 43.9278C219.193 31.5789 243.274 33.4642 243.285 39.4894C231.663 52.9527 230.257 60.0677 231.007 61.9422L238.841 58.5854C242.198 57.4679 241.647 61.9619 241.647 61.9619C236.062 70.0472 219.689 81.1586 219.689 81.1586L214.104 117.069ZM405.339 246.183C404.886 248.505 404.41 250.887 403.911 253.344L411.925 253.36L405.339 246.183ZM282.588 679.091C282.504 679.174 282.422 679.258 282.34 679.343C280.388 676.825 278.812 674.966 278.136 674.183L288.976 557.959L303.251 521.616V669.213C303.251 670.47 303.385 671.72 303.65 672.942H297.432C291.864 672.942 286.525 675.154 282.588 679.091ZM310.587 94.5153C309.48 96.0354 308.46 97.5367 307.534 98.9685C307.846 98.1409 308.191 97.3449 308.56 96.4953C309.302 94.7845 310.138 92.8542 311 90C310.646 91.6269 310.527 93.1318 310.587 94.5153ZM357.407 84.0914C356.285 83.1246 355.112 82.2012 353.887 81.3469C354.276 81.3788 354.648 81.4296 355 81.5C356.399 81.7798 356.881 82.6266 357.407 84.0914ZM352 129C352 134.523 345.956 139 338.5 139C331.044 139 325 134.523 325 129H352Z",stroke:"black"}),Object(i.jsxs)("g",{id:"ColorSVG",children:[Object(i.jsxs)("g",{id:"BulleOne",children:[Object(i.jsx)("path",{id:"Vector",d:"M392 146H410V128H392V146Z",fill:"#FF637F"}),Object(i.jsx)("path",{id:"Vector 2",d:"M401 113H423V137H401V113ZM422.043 114.043H401.957V135.957H422.043V114.043Z",fill:"#3F3D56"}),Object(i.jsx)("path",{id:"Rectangle 2",d:"M658 22H413V120H658V22Z",fill:"white"}),Object(i.jsxs)("g",{id:"Hello! Welcome to DoanStack",children:[Object(i.jsx)("path",{id:"Vector_2",d:"M442.282 61V53.778H433.703V61H431.725V45.107H433.703V52.099H442.282V45.107H444.26V61H442.282ZM451.857 59.666C452.961 59.666 454.065 59.3363 455.169 58.677L455.836 60.057C454.548 60.8697 453.168 61.276 451.696 61.276C450.24 61.276 449.082 60.816 448.223 59.896C447.365 58.9607 446.935 57.619 446.935 55.871C446.935 54.123 447.38 52.7507 448.269 51.754C449.159 50.742 450.339 50.236 451.811 50.236C453.145 50.236 454.196 50.65 454.962 51.478C455.284 51.8153 455.553 52.306 455.767 52.95C455.997 53.594 456.112 54.353 456.112 55.227L455.399 56.032H448.89C448.936 58.4547 449.925 59.666 451.857 59.666ZM454.18 54.583C454.18 53.7243 453.958 53.0343 453.513 52.513C453.069 51.9917 452.478 51.731 451.742 51.731C451.022 51.731 450.408 51.9917 449.902 52.513C449.396 53.019 449.09 53.709 448.982 54.583H454.18ZM458.427 44.486H460.313V61H458.427V44.486ZM463.436 44.486H465.322V61H463.436V44.486ZM472.838 51.731C472.255 51.731 471.749 51.8613 471.32 52.122C470.906 52.3827 470.599 52.72 470.4 53.134C470.032 53.916 469.848 54.7517 469.848 55.641C469.848 58.401 470.806 59.781 472.723 59.781C473.306 59.781 473.804 59.6507 474.218 59.39C474.632 59.1293 474.946 58.792 475.161 58.378C475.529 57.6113 475.713 56.7757 475.713 55.871C475.713 53.111 474.755 51.731 472.838 51.731ZM472.838 50.236C474.54 50.236 475.782 50.765 476.564 51.823C477.346 52.881 477.737 54.261 477.737 55.963C477.737 57.1897 477.415 58.3243 476.771 59.367C476.418 59.9343 475.889 60.3943 475.184 60.747C474.479 61.0997 473.635 61.276 472.654 61.276C470.967 61.276 469.741 60.77 468.974 59.758C468.207 58.746 467.824 57.389 467.824 55.687C467.824 54.6903 467.977 53.847 468.284 53.157C468.606 52.467 468.943 51.938 469.296 51.57C469.649 51.1867 470.132 50.8723 470.745 50.627C471.358 50.3663 472.056 50.236 472.838 50.236ZM482.238 60.862C482.008 61.092 481.724 61.207 481.387 61.207C481.05 61.207 480.758 61.092 480.513 60.862C480.283 60.6167 480.168 60.3177 480.168 59.965C480.168 59.6123 480.283 59.321 480.513 59.091C480.758 58.8457 481.05 58.723 481.387 58.723C481.724 58.723 482.008 58.8457 482.238 59.091C482.483 59.321 482.606 59.6123 482.606 59.965C482.606 60.3177 482.483 60.6167 482.238 60.862ZM482.606 46.142L481.985 57.136L480.881 57.343L480.168 46.142H482.606ZM441.155 75.107L444.49 88.815H444.582L447.94 75.107H449.964L445.916 91H443.087L440.074 79.178H439.982L436.992 91H434.232L430.115 75.107H432.369L435.704 88.815H435.796L439.154 75.107H441.155ZM454.8 89.666C455.904 89.666 457.008 89.3363 458.112 88.677L458.779 90.057C457.491 90.8697 456.111 91.276 454.639 91.276C453.182 91.276 452.024 90.816 451.166 89.896C450.307 88.9607 449.878 87.619 449.878 85.871C449.878 84.123 450.322 82.7507 451.212 81.754C452.101 80.742 453.282 80.236 454.754 80.236C456.088 80.236 457.138 80.65 457.905 81.478C458.227 81.8153 458.495 82.306 458.71 82.95C458.94 83.594 459.055 84.353 459.055 85.227L458.342 86.032H451.833C451.879 88.4547 452.868 89.666 454.8 89.666ZM457.123 84.583C457.123 83.7243 456.9 83.0343 456.456 82.513C456.011 81.9917 455.421 81.731 454.685 81.731C453.964 81.731 453.351 81.9917 452.845 82.513C452.339 83.019 452.032 83.709 451.925 84.583H457.123ZM461.37 74.486H463.256V91H461.37V74.486ZM470.587 80.236C471.615 80.236 472.657 80.466 473.715 80.926L473.14 82.352C472.358 82.0147 471.523 81.846 470.633 81.846C469.759 81.846 469.062 82.1757 468.54 82.835C468.034 83.4943 467.781 84.4603 467.781 85.733C467.781 87.0057 468.05 87.9793 468.586 88.654C469.123 89.3287 469.828 89.666 470.702 89.666C471.576 89.666 472.481 89.4513 473.416 89.022L473.853 90.54C472.78 91.0307 471.691 91.276 470.587 91.276C469.161 91.276 467.996 90.7623 467.091 89.735C466.202 88.6923 465.757 87.3583 465.757 85.733C465.757 84.0923 466.202 82.766 467.091 81.754C467.996 80.742 469.161 80.236 470.587 80.236ZM480.25 81.731C479.667 81.731 479.161 81.8613 478.732 82.122C478.318 82.3827 478.011 82.72 477.812 83.134C477.444 83.916 477.26 84.7517 477.26 85.641C477.26 88.401 478.218 89.781 480.135 89.781C480.718 89.781 481.216 89.6507 481.63 89.39C482.044 89.1293 482.358 88.792 482.573 88.378C482.941 87.6113 483.125 86.7757 483.125 85.871C483.125 83.111 482.167 81.731 480.25 81.731ZM480.25 80.236C481.952 80.236 483.194 80.765 483.976 81.823C484.758 82.881 485.149 84.261 485.149 85.963C485.149 87.1897 484.827 88.3243 484.183 89.367C483.83 89.9343 483.301 90.3943 482.596 90.747C481.891 91.0997 481.047 91.276 480.066 91.276C478.379 91.276 477.153 90.77 476.386 89.758C475.619 88.746 475.236 87.389 475.236 85.687C475.236 84.6903 475.389 83.847 475.696 83.157C476.018 82.467 476.355 81.938 476.708 81.57C477.061 81.1867 477.544 80.8723 478.157 80.627C478.77 80.3663 479.468 80.236 480.25 80.236ZM489.558 81.708C490.693 80.7267 491.95 80.236 493.33 80.236C494.71 80.236 495.653 80.7727 496.159 81.846C497.37 80.7727 498.643 80.236 499.977 80.236C500.958 80.236 501.733 80.4967 502.3 81.018C502.883 81.5393 503.174 82.2217 503.174 83.065V91H501.219V83.157C501.219 82.7583 501.073 82.4517 500.782 82.237C500.491 82.0223 500.1 81.915 499.609 81.915C498.612 81.915 497.547 82.3213 496.412 83.134V91H494.457V83.157C494.457 82.7583 494.311 82.4517 494.02 82.237C493.729 82.0223 493.338 81.915 492.847 81.915C491.82 81.915 490.769 82.306 489.696 83.088V91H487.741V80.512H488.983L489.558 81.708ZM510.593 89.666C511.697 89.666 512.801 89.3363 513.905 88.677L514.572 90.057C513.284 90.8697 511.904 91.276 510.432 91.276C508.975 91.276 507.817 90.816 506.959 89.896C506.1 88.9607 505.671 87.619 505.671 85.871C505.671 84.123 506.115 82.7507 507.005 81.754C507.894 80.742 509.075 80.236 510.547 80.236C511.881 80.236 512.931 80.65 513.698 81.478C514.02 81.8153 514.288 82.306 514.503 82.95C514.733 83.594 514.848 84.353 514.848 85.227L514.135 86.032H507.626C507.672 88.4547 508.661 89.666 510.593 89.666ZM512.916 84.583C512.916 83.7243 512.693 83.0343 512.249 82.513C511.804 81.9917 511.214 81.731 510.478 81.731C509.757 81.731 509.144 81.9917 508.638 82.513C508.132 83.019 507.825 83.709 507.718 84.583H512.916ZM525.8 81.961V88.263C525.8 89.183 526.237 89.643 527.111 89.643C527.617 89.643 528.223 89.4973 528.928 89.206L529.181 90.747C528.43 91.0997 527.64 91.276 526.812 91.276C525.984 91.276 525.294 91.0307 524.742 90.54C524.19 90.034 523.914 89.2673 523.914 88.24V81.961H522.465V80.512H523.914V78.442L525.34 77.131H525.8V80.512H528.767V81.961H525.8ZM535.549 81.731C534.966 81.731 534.46 81.8613 534.031 82.122C533.617 82.3827 533.31 82.72 533.111 83.134C532.743 83.916 532.559 84.7517 532.559 85.641C532.559 88.401 533.517 89.781 535.434 89.781C536.016 89.781 536.515 89.6507 536.929 89.39C537.343 89.1293 537.657 88.792 537.872 88.378C538.24 87.6113 538.424 86.7757 538.424 85.871C538.424 83.111 537.465 81.731 535.549 81.731ZM535.549 80.236C537.251 80.236 538.493 80.765 539.275 81.823C540.057 82.881 540.448 84.261 540.448 85.963C540.448 87.1897 540.126 88.3243 539.482 89.367C539.129 89.9343 538.6 90.3943 537.895 90.747C537.189 91.0997 536.346 91.276 535.365 91.276C533.678 91.276 532.451 90.77 531.685 89.758C530.918 88.746 530.535 87.389 530.535 85.687C530.535 84.6903 530.688 83.847 530.995 83.157C531.317 82.467 531.654 81.938 532.007 81.57C532.359 81.1867 532.842 80.8723 533.456 80.627C534.069 80.3663 534.767 80.236 535.549 80.236Z",fill:"black"}),Object(i.jsx)("path",{id:"Vector_3",d:"M549.308 91V75.107H555.288C556.438 75.107 557.473 75.314 558.393 75.728C559.313 76.142 560.057 76.694 560.624 77.384C561.789 78.8253 562.372 80.5273 562.372 82.49C562.372 84.974 561.621 87.0133 560.118 88.608C558.615 90.2027 556.614 91 554.115 91H549.308ZM555.035 76.855H551.286V89.252H554.115C556.016 89.252 557.488 88.654 558.531 87.458C559.574 86.262 560.095 84.606 560.095 82.49C560.095 80.9107 559.65 79.5767 558.761 78.488C557.887 77.3993 556.645 76.855 555.035 76.855ZM569.487 81.731C568.905 81.731 568.399 81.8613 567.969 82.122C567.555 82.3827 567.249 82.72 567.049 83.134C566.681 83.916 566.497 84.7517 566.497 85.641C566.497 88.401 567.456 89.781 569.372 89.781C569.955 89.781 570.453 89.6507 570.867 89.39C571.281 89.1293 571.596 88.792 571.81 88.378C572.178 87.6113 572.362 86.7757 572.362 85.871C572.362 83.111 571.404 81.731 569.487 81.731ZM569.487 80.236C571.189 80.236 572.431 80.765 573.213 81.823C573.995 82.881 574.386 84.261 574.386 85.963C574.386 87.1897 574.064 88.3243 573.42 89.367C573.068 89.9343 572.539 90.3943 571.833 90.747C571.128 91.0997 570.285 91.276 569.303 91.276C567.617 91.276 566.39 90.77 565.623 89.758C564.857 88.746 564.473 87.389 564.473 85.687C564.473 84.6903 564.627 83.847 564.933 83.157C565.255 82.467 565.593 81.938 565.945 81.57C566.298 81.1867 566.781 80.8723 567.394 80.627C568.008 80.3663 568.705 80.236 569.487 80.236ZM582.728 84.721V83.709C582.728 82.467 582.084 81.846 580.796 81.846C579.784 81.846 578.726 82.1757 577.622 82.835L576.955 81.455C578.243 80.6423 579.631 80.236 581.118 80.236C582.161 80.236 583.012 80.5043 583.671 81.041C584.346 81.5623 584.683 82.375 584.683 83.479V91H583.441L582.866 89.62C582.376 90.126 581.793 90.5323 581.118 90.839C580.444 91.1303 579.83 91.276 579.278 91.276C578.328 91.276 577.569 91.0153 577.001 90.494C576.434 89.9727 576.15 89.2903 576.15 88.447C576.15 85.963 578.343 84.721 582.728 84.721ZM578.91 86.952C578.619 87.2127 578.42 87.4503 578.312 87.665C578.22 87.8643 578.174 88.1327 578.174 88.47C578.174 88.792 578.312 89.0757 578.588 89.321C578.88 89.551 579.255 89.666 579.715 89.666C580.681 89.666 581.686 89.2367 582.728 88.378V86.078C580.796 86.1087 579.524 86.4 578.91 86.952ZM596.91 83.065V91H594.955V83.157C594.955 82.7583 594.794 82.4517 594.472 82.237C594.166 82.0223 593.752 81.915 593.23 81.915C592.142 81.915 591.015 82.306 589.849 83.088V91H587.894V80.512H589.136L589.711 81.708C590.892 80.7267 592.172 80.236 593.552 80.236C594.58 80.236 595.392 80.4967 595.99 81.018C596.604 81.5393 596.91 82.2217 596.91 83.065ZM607.955 77.085C606.882 76.717 605.885 76.533 604.965 76.533C604.045 76.533 603.294 76.7707 602.711 77.246C602.129 77.7213 601.837 78.2963 601.837 78.971C601.837 79.937 602.351 80.696 603.378 81.248L606.621 83.042C608.431 84.054 609.335 85.3573 609.335 86.952C609.335 88.2707 608.868 89.321 607.932 90.103C606.997 90.885 605.678 91.276 603.976 91.276C602.274 91.276 600.749 90.9693 599.399 90.356L599.974 88.746C601.232 89.298 602.466 89.574 603.677 89.574C604.904 89.574 605.809 89.3363 606.391 88.861C606.974 88.3857 607.265 87.8107 607.265 87.136C607.265 86.17 606.752 85.411 605.724 84.859L602.481 83.065C600.672 82.053 599.767 80.7497 599.767 79.155C599.767 77.8363 600.235 76.786 601.17 76.004C602.106 75.222 603.363 74.831 604.942 74.831C606.016 74.831 607.219 75.0533 608.553 75.498L607.955 77.085ZM614.251 81.961V88.263C614.251 89.183 614.688 89.643 615.562 89.643C616.068 89.643 616.674 89.4973 617.379 89.206L617.632 90.747C616.881 91.0997 616.091 91.276 615.263 91.276C614.435 91.276 613.745 91.0307 613.193 90.54C612.641 90.034 612.365 89.2673 612.365 88.24V81.961H610.916V80.512H612.365V78.442L613.791 77.131H614.251V80.512H617.218V81.961H614.251ZM625.449 84.721V83.709C625.449 82.467 624.805 81.846 623.517 81.846C622.505 81.846 621.447 82.1757 620.343 82.835L619.676 81.455C620.964 80.6423 622.352 80.236 623.839 80.236C624.882 80.236 625.733 80.5043 626.392 81.041C627.067 81.5623 627.404 82.375 627.404 83.479V91H626.162L625.587 89.62C625.096 90.126 624.514 90.5323 623.839 90.839C623.164 91.1303 622.551 91.276 621.999 91.276C621.048 91.276 620.289 91.0153 619.722 90.494C619.155 89.9727 618.871 89.2903 618.871 88.447C618.871 85.963 621.064 84.721 625.449 84.721ZM621.631 86.952C621.34 87.2127 621.14 87.4503 621.033 87.665C620.941 87.8643 620.895 88.1327 620.895 88.47C620.895 88.792 621.033 89.0757 621.309 89.321C621.6 89.551 621.976 89.666 622.436 89.666C623.402 89.666 624.406 89.2367 625.449 88.378V86.078C623.517 86.1087 622.244 86.4 621.631 86.952ZM634.732 80.236C635.759 80.236 636.802 80.466 637.86 80.926L637.285 82.352C636.503 82.0147 635.667 81.846 634.778 81.846C633.904 81.846 633.206 82.1757 632.685 82.835C632.179 83.4943 631.926 84.4603 631.926 85.733C631.926 87.0057 632.194 87.9793 632.731 88.654C633.268 89.3287 633.973 89.666 634.847 89.666C635.721 89.666 636.626 89.4513 637.561 89.022L637.998 90.54C636.925 91.0307 635.836 91.276 634.732 91.276C633.306 91.276 632.141 90.7623 631.236 89.735C630.347 88.6923 629.902 87.3583 629.902 85.733C629.902 84.0923 630.347 82.766 631.236 81.754C632.141 80.742 633.306 80.236 634.732 80.236ZM641.888 91H640.002V74.486H641.888V84.238L645.982 80.512H648.581L643.958 84.491L649.064 91H646.58L642.532 85.71L641.888 86.262V91Z",fill:"url(#paint0_linear)"})]})]}),Object(i.jsxs)("g",{id:"LeftArmUp",children:[Object(i.jsx)("path",{id:"Vector 5",d:"M444.303 219.094L404.803 237.594C398.676 239.763 390.303 233.109 390.303 224.594C390.303 202.094 391.505 189.042 395.803 187.697L447.803 171.309C447.803 171.309 471.862 166.777 476.303 167.094C490.303 168.094 493.043 181.416 491.303 187.697C490.228 191.576 484.182 197.407 480.803 199.594C463.803 210.594 444.303 219.094 444.303 219.094Z",fill:"#575A89"}),Object(i.jsx)("path",{id:"Vector 3",d:"M489.963 190.262C487.391 193.381 482.297 192.968 478.303 193.594C468.578 195.118 453.803 182.094 453.803 182.094C453.803 182.094 444.264 164.889 436.303 155.222C424.861 141.327 401.682 124.794 401.682 124.794C401.682 124.794 398.88 129.278 380.337 127.602C380.337 127.602 376.29 125.816 381.573 122.743C388.755 118.565 381.826 116.935 376.737 115.291C366.9 113.068 359.602 110.486 362.735 98.1711C364.334 91.883 376.551 90.5379 380.091 90.0776C390.712 88.6968 407.844 106.198 407.844 106.198C407.844 106.198 464.346 142.067 467.438 144.927C470.53 147.787 476.787 150.133 481.13 155.222C487.068 162.179 491.803 173.594 491.803 173.594C491.803 173.594 493.319 186.191 489.963 190.262Z",fill:"#FFB9B9"})]}),Object(i.jsxs)("g",{id:"BulleTwo",children:[Object(i.jsx)("path",{id:"Rectangle 3",d:"M237 82H2V277H237V82Z",fill:"white"}),Object(i.jsx)("path",{id:"Vector 4",d:"M272 123.272L259.272 136L272 148.728L284.728 136L272 123.272Z",fill:"#FF637F"}),Object(i.jsx)("path",{id:"Vector 5 2",d:"M267.91 135.854L252.354 151.41L236.09 135.146L251.646 119.59L267.91 135.854ZM252.323 150.026L266.526 135.823L251.677 120.974L237.474 135.177L252.323 150.026Z",fill:"#3F3D56"}),Object(i.jsxs)("g",{id:"My name is Doan! I am a Fullstack Dev who lives in Belgium. You\xc3\xa2\xc2\x80\xc2\x99ll find here all my projects and ideas.",children:[Object(i.jsx)("path",{id:"Vector_4",d:"M24.78 120H22.72L18.6 108.56H18.5L18.12 120H16.4L16.94 106.2H19.52L23.82 118.14H23.9L28.2 106.2H30.78L31.32 120H29.4L29.02 108.56H28.92L24.78 120ZM37.3548 121.62C36.9148 122.9 36.5082 123.753 36.1348 124.18C35.7748 124.62 35.2348 124.84 34.5148 124.84C33.7948 124.84 33.0015 124.64 32.1348 124.24L32.7548 122.94C33.3282 123.247 33.8215 123.4 34.2348 123.4C34.5948 123.4 34.8348 123.34 34.9548 123.22L35.2148 122.96C35.3882 122.787 35.5415 122.487 35.6748 122.06C35.8082 121.633 35.9148 121.3 35.9948 121.06C36.0748 120.833 36.1348 120.653 36.1748 120.52L32.8348 110.88H34.5548L36.9148 118.18H36.9948L39.3548 110.88H41.0748L37.3548 121.62ZM55.862 113.1V120H54.162V113.18C54.162 112.833 54.022 112.567 53.742 112.38C53.4754 112.193 53.1154 112.1 52.662 112.1C51.7154 112.1 50.7354 112.44 49.722 113.12V120H48.022V110.88H49.102L49.602 111.92C50.6287 111.067 51.742 110.64 52.942 110.64C53.8354 110.64 54.542 110.867 55.062 111.32C55.5954 111.773 55.862 112.367 55.862 113.1ZM63.6666 114.54V113.66C63.6666 112.58 63.1066 112.04 61.9866 112.04C61.1066 112.04 60.1866 112.327 59.2266 112.9L58.6466 111.7C59.7666 110.993 60.9732 110.64 62.2666 110.64C63.1732 110.64 63.9132 110.873 64.4866 111.34C65.0732 111.793 65.3666 112.5 65.3666 113.46V120H64.2866L63.7866 118.8C63.3599 119.24 62.8532 119.593 62.2666 119.86C61.6799 120.113 61.1466 120.24 60.6666 120.24C59.8399 120.24 59.1799 120.013 58.6866 119.56C58.1932 119.107 57.9466 118.513 57.9466 117.78C57.9466 115.62 59.8532 114.54 63.6666 114.54ZM60.3466 116.48C60.0932 116.707 59.9199 116.913 59.8266 117.1C59.7466 117.273 59.7066 117.507 59.7066 117.8C59.7066 118.08 59.8266 118.327 60.0666 118.54C60.3199 118.74 60.6466 118.84 61.0466 118.84C61.8866 118.84 62.7599 118.467 63.6666 117.72V115.72C61.9866 115.747 60.8799 116 60.3466 116.48ZM69.7388 111.92C70.7254 111.067 71.8188 110.64 73.0188 110.64C74.2188 110.64 75.0388 111.107 75.4788 112.04C76.5321 111.107 77.6388 110.64 78.7988 110.64C79.6521 110.64 80.3254 110.867 80.8188 111.32C81.3254 111.773 81.5788 112.367 81.5788 113.1V120H79.8788V113.18C79.8788 112.833 79.7521 112.567 79.4988 112.38C79.2454 112.193 78.9054 112.1 78.4787 112.1C77.6121 112.1 76.6854 112.453 75.6988 113.16V120H73.9988V113.18C73.9988 112.833 73.8721 112.567 73.6188 112.38C73.3654 112.193 73.0254 112.1 72.5987 112.1C71.7054 112.1 70.7921 112.44 69.8588 113.12V120H68.1588V110.88H69.2388L69.7388 111.92ZM88.0297 118.84C88.9897 118.84 89.9497 118.553 90.9097 117.98L91.4897 119.18C90.3697 119.887 89.1697 120.24 87.8897 120.24C86.623 120.24 85.6164 119.84 84.8697 119.04C84.123 118.227 83.7497 117.06 83.7497 115.54C83.7497 114.02 84.1364 112.827 84.9097 111.96C85.683 111.08 86.7097 110.64 87.9897 110.64C89.1497 110.64 90.063 111 90.7297 111.72C91.0097 112.013 91.243 112.44 91.4297 113C91.6297 113.56 91.7297 114.22 91.7297 114.98L91.1097 115.68H85.4497C85.4897 117.787 86.3497 118.84 88.0297 118.84ZM90.0497 114.42C90.0497 113.673 89.8564 113.073 89.4697 112.62C89.083 112.167 88.5697 111.94 87.9297 111.94C87.303 111.94 86.7697 112.167 86.3297 112.62C85.8897 113.06 85.623 113.66 85.5297 114.42H90.0497ZM100.993 108.74C100.78 108.953 100.52 109.06 100.213 109.06C99.9068 109.06 99.6468 108.953 99.4334 108.74C99.2201 108.513 99.1134 108.247 99.1134 107.94C99.1134 107.633 99.2201 107.373 99.4334 107.16C99.6601 106.933 99.9201 106.82 100.213 106.82C100.507 106.82 100.76 106.933 100.973 107.16C101.2 107.373 101.313 107.633 101.313 107.94C101.313 108.247 101.207 108.513 100.993 108.74ZM99.3734 110.88H101.073V120H99.3734V110.88ZM108.796 112.48C108.116 112.187 107.476 112.04 106.876 112.04C105.716 112.04 105.136 112.393 105.136 113.1C105.136 113.713 105.909 114.307 107.456 114.88C108.029 115.093 108.556 115.427 109.036 115.88C109.529 116.333 109.776 116.88 109.776 117.52C109.776 118.44 109.476 119.127 108.876 119.58C108.276 120.02 107.442 120.24 106.376 120.24C105.309 120.24 104.269 119.947 103.256 119.36L103.756 118.12C104.596 118.6 105.549 118.84 106.616 118.84C107.069 118.84 107.436 118.747 107.716 118.56C107.996 118.36 108.136 118.093 108.136 117.76C108.136 117.427 107.976 117.14 107.656 116.9C107.336 116.66 106.949 116.447 106.496 116.26C106.042 116.073 105.589 115.873 105.136 115.66C104.682 115.433 104.296 115.12 103.976 114.72C103.656 114.32 103.496 113.847 103.496 113.3C103.496 112.447 103.782 111.793 104.356 111.34C104.942 110.873 105.682 110.64 106.576 110.64C107.469 110.64 108.376 110.84 109.296 111.24L108.796 112.48ZM117.242 120V106.18H122.442C123.442 106.18 124.342 106.36 125.142 106.72C125.942 107.08 126.589 107.56 127.082 108.16C128.096 109.413 128.602 110.893 128.602 112.6C128.602 114.76 127.949 116.533 126.642 117.92C125.336 119.307 123.596 120 121.422 120H117.242ZM122.222 107.7H118.962V118.48H121.422C123.076 118.48 124.356 117.96 125.262 116.92C126.169 115.88 126.622 114.44 126.622 112.6C126.622 111.227 126.236 110.067 125.462 109.12C124.702 108.173 123.622 107.7 122.222 107.7ZM134.789 111.94C134.283 111.94 133.843 112.053 133.469 112.28C133.109 112.507 132.843 112.8 132.669 113.16C132.349 113.84 132.189 114.567 132.189 115.34C132.189 117.74 133.023 118.94 134.689 118.94C135.196 118.94 135.629 118.827 135.989 118.6C136.349 118.373 136.623 118.08 136.809 117.72C137.129 117.053 137.289 116.327 137.289 115.54C137.289 113.14 136.456 111.94 134.789 111.94ZM134.789 110.64C136.269 110.64 137.349 111.1 138.029 112.02C138.709 112.94 139.049 114.14 139.049 115.62C139.049 116.687 138.769 117.673 138.209 118.58C137.903 119.073 137.443 119.473 136.829 119.78C136.216 120.087 135.483 120.24 134.629 120.24C133.163 120.24 132.096 119.8 131.429 118.92C130.763 118.04 130.429 116.86 130.429 115.38C130.429 114.513 130.563 113.78 130.829 113.18C131.109 112.58 131.403 112.12 131.709 111.8C132.016 111.467 132.436 111.193 132.969 110.98C133.503 110.753 134.109 110.64 134.789 110.64ZM146.303 114.54V113.66C146.303 112.58 145.743 112.04 144.623 112.04C143.743 112.04 142.823 112.327 141.863 112.9L141.283 111.7C142.403 110.993 143.61 110.64 144.903 110.64C145.81 110.64 146.55 110.873 147.123 111.34C147.71 111.793 148.003 112.5 148.003 113.46V120H146.923L146.423 118.8C145.997 119.24 145.49 119.593 144.903 119.86C144.317 120.113 143.783 120.24 143.303 120.24C142.477 120.24 141.817 120.013 141.323 119.56C140.83 119.107 140.583 118.513 140.583 117.78C140.583 115.62 142.49 114.54 146.303 114.54ZM142.983 116.48C142.73 116.707 142.557 116.913 142.463 117.1C142.383 117.273 142.343 117.507 142.343 117.8C142.343 118.08 142.463 118.327 142.703 118.54C142.957 118.74 143.283 118.84 143.683 118.84C144.523 118.84 145.397 118.467 146.303 117.72V115.72C144.623 115.747 143.517 116 142.983 116.48ZM158.635 113.1V120H156.935V113.18C156.935 112.833 156.795 112.567 156.515 112.38C156.249 112.193 155.889 112.1 155.435 112.1C154.489 112.1 153.509 112.44 152.495 113.12V120H150.795V110.88H151.875L152.375 111.92C153.402 111.067 154.515 110.64 155.715 110.64C156.609 110.64 157.315 110.867 157.835 111.32C158.369 111.773 158.635 112.367 158.635 113.1ZM163.1 119.88C162.9 120.08 162.653 120.18 162.36 120.18C162.067 120.18 161.813 120.08 161.6 119.88C161.4 119.667 161.3 119.407 161.3 119.1C161.3 118.793 161.4 118.54 161.6 118.34C161.813 118.127 162.067 118.02 162.36 118.02C162.653 118.02 162.9 118.127 163.1 118.34C163.313 118.54 163.42 118.793 163.42 119.1C163.42 119.407 163.313 119.667 163.1 119.88ZM163.42 107.08L162.88 116.64L161.92 116.82L161.3 107.08H163.42ZM16.7 146V132.18H18.42V146H16.7ZM31.9478 140.54V139.66C31.9478 138.58 31.3878 138.04 30.2678 138.04C29.3878 138.04 28.4678 138.327 27.5078 138.9L26.9278 137.7C28.0478 136.993 29.2545 136.64 30.5478 136.64C31.4545 136.64 32.1945 136.873 32.7678 137.34C33.3545 137.793 33.6478 138.5 33.6478 139.46V146H32.5678L32.0678 144.8C31.6411 145.24 31.1345 145.593 30.5478 145.86C29.9611 146.113 29.4278 146.24 28.9478 146.24C28.1211 146.24 27.4611 146.013 26.9678 145.56C26.4745 145.107 26.2278 144.513 26.2278 143.78C26.2278 141.62 28.1345 140.54 31.9478 140.54ZM28.6278 142.48C28.3745 142.707 28.2011 142.913 28.1078 143.1C28.0278 143.273 27.9878 143.507 27.9878 143.8C27.9878 144.08 28.1078 144.327 28.3478 144.54C28.6011 144.74 28.9278 144.84 29.3278 144.84C30.1678 144.84 31.0411 144.467 31.9478 143.72V141.72C30.2678 141.747 29.1611 142 28.6278 142.48ZM38.02 137.92C39.0067 137.067 40.1 136.64 41.3 136.64C42.5 136.64 43.32 137.107 43.76 138.04C44.8133 137.107 45.92 136.64 47.08 136.64C47.9333 136.64 48.6067 136.867 49.1 137.32C49.6067 137.773 49.86 138.367 49.86 139.1V146H48.16V139.18C48.16 138.833 48.0333 138.567 47.78 138.38C47.5267 138.193 47.1867 138.1 46.76 138.1C45.8933 138.1 44.9667 138.453 43.98 139.16V146H42.28V139.18C42.28 138.833 42.1533 138.567 41.9 138.38C41.6467 138.193 41.3067 138.1 40.88 138.1C39.9867 138.1 39.0733 138.44 38.14 139.12V146H36.44V136.88H37.52L38.02 137.92ZM63.0416 140.54V139.66C63.0416 138.58 62.4816 138.04 61.3616 138.04C60.4816 138.04 59.5616 138.327 58.6016 138.9L58.0216 137.7C59.1416 136.993 60.3482 136.64 61.6416 136.64C62.5482 136.64 63.2882 136.873 63.8616 137.34C64.4482 137.793 64.7416 138.5 64.7416 139.46V146H63.6616L63.1616 144.8C62.7349 145.24 62.2282 145.593 61.6416 145.86C61.0549 146.113 60.5216 146.24 60.0416 146.24C59.2149 146.24 58.5549 146.013 58.0616 145.56C57.5682 145.107 57.3216 144.513 57.3216 143.78C57.3216 141.62 59.2282 140.54 63.0416 140.54ZM59.7216 142.48C59.4682 142.707 59.2949 142.913 59.2016 143.1C59.1216 143.273 59.0816 143.507 59.0816 143.8C59.0816 144.08 59.2016 144.327 59.4416 144.54C59.6949 144.74 60.0216 144.84 60.4216 144.84C61.2616 144.84 62.1349 144.467 63.0416 143.72V141.72C61.3616 141.747 60.2549 142 59.7216 142.48ZM189.05 146H187.17L184.69 136.88H186.41L188.07 144.18H188.15L190.29 136.88H191.91L194.07 144.18H194.15L195.81 136.88H197.53L195.05 146H193.17L191.13 139.5H191.03L189.05 146ZM200.697 131.64V137.82C201.697 137.033 202.77 136.64 203.917 136.64C204.81 136.64 205.517 136.867 206.037 137.32C206.57 137.76 206.837 138.34 206.837 139.06V146H205.137V139.18C205.137 138.833 204.997 138.567 204.717 138.38C204.45 138.193 204.09 138.1 203.637 138.1C202.69 138.1 201.71 138.44 200.697 139.12V146H198.997V131.64H200.697ZM213.383 137.94C212.876 137.94 212.436 138.053 212.063 138.28C211.703 138.507 211.436 138.8 211.263 139.16C210.943 139.84 210.783 140.567 210.783 141.34C210.783 143.74 211.616 144.94 213.283 144.94C213.79 144.94 214.223 144.827 214.583 144.6C214.943 144.373 215.216 144.08 215.403 143.72C215.723 143.053 215.883 142.327 215.883 141.54C215.883 139.14 215.05 137.94 213.383 137.94ZM213.383 136.64C214.863 136.64 215.943 137.1 216.623 138.02C217.303 138.94 217.643 140.14 217.643 141.62C217.643 142.687 217.363 143.673 216.803 144.58C216.496 145.073 216.036 145.473 215.423 145.78C214.81 146.087 214.076 146.24 213.223 146.24C211.756 146.24 210.69 145.8 210.023 144.92C209.356 144.04 209.023 142.86 209.023 141.38C209.023 140.513 209.156 139.78 209.423 139.18C209.703 138.58 209.996 138.12 210.303 137.8C210.61 137.467 211.03 137.193 211.563 136.98C212.096 136.753 212.703 136.64 213.383 136.64ZM16.36 157.64H18V172H16.36V157.64ZM22.5755 160.74C22.3621 160.953 22.1021 161.06 21.7955 161.06C21.4888 161.06 21.2288 160.953 21.0155 160.74C20.8021 160.513 20.6955 160.247 20.6955 159.94C20.6955 159.633 20.8021 159.373 21.0155 159.16C21.2421 158.933 21.5021 158.82 21.7955 158.82C22.0888 158.82 22.3421 158.933 22.5555 159.16C22.7821 159.373 22.8955 159.633 22.8955 159.94C22.8955 160.247 22.7888 160.513 22.5755 160.74ZM20.9555 162.88H22.6555V172H20.9555V162.88ZM29.4178 172H27.5378L24.3578 162.88H26.0778L28.4378 170.18H28.5178L30.8778 162.88H32.5978L29.4178 172ZM37.7953 170.84C38.7553 170.84 39.7153 170.553 40.6753 169.98L41.2553 171.18C40.1353 171.887 38.9353 172.24 37.6553 172.24C36.3886 172.24 35.382 171.84 34.6353 171.04C33.8886 170.227 33.5153 169.06 33.5153 167.54C33.5153 166.02 33.902 164.827 34.6753 163.96C35.4486 163.08 36.4753 162.64 37.7553 162.64C38.9153 162.64 39.8286 163 40.4953 163.72C40.7753 164.013 41.0086 164.44 41.1953 165C41.3953 165.56 41.4953 166.22 41.4953 166.98L40.8753 167.68H35.2153C35.2553 169.787 36.1153 170.84 37.7953 170.84ZM39.8153 166.42C39.8153 165.673 39.622 165.073 39.2353 164.62C38.8486 164.167 38.3353 163.94 37.6953 163.94C37.0686 163.94 36.5353 164.167 36.0953 164.62C35.6553 165.06 35.3886 165.66 35.2953 166.42H39.8153ZM48.2684 164.48C47.5884 164.187 46.9484 164.04 46.3484 164.04C45.1884 164.04 44.6084 164.393 44.6084 165.1C44.6084 165.713 45.3818 166.307 46.9284 166.88C47.5018 167.093 48.0284 167.427 48.5084 167.88C49.0018 168.333 49.2484 168.88 49.2484 169.52C49.2484 170.44 48.9484 171.127 48.3484 171.58C47.7484 172.02 46.9151 172.24 45.8484 172.24C44.7818 172.24 43.7418 171.947 42.7284 171.36L43.2284 170.12C44.0684 170.6 45.0218 170.84 46.0884 170.84C46.5418 170.84 46.9084 170.747 47.1884 170.56C47.4684 170.36 47.6084 170.093 47.6084 169.76C47.6084 169.427 47.4484 169.14 47.1284 168.9C46.8084 168.66 46.4218 168.447 45.9684 168.26C45.5151 168.073 45.0618 167.873 44.6084 167.66C44.1551 167.433 43.7684 167.12 43.4484 166.72C43.1284 166.32 42.9684 165.847 42.9684 165.3C42.9684 164.447 43.2551 163.793 43.8284 163.34C44.4151 162.873 45.1551 162.64 46.0484 162.64C46.9418 162.64 47.8484 162.84 48.7684 163.24L48.2684 164.48ZM58.4348 160.74C58.2215 160.953 57.9615 161.06 57.6548 161.06C57.3482 161.06 57.0882 160.953 56.8748 160.74C56.6615 160.513 56.5548 160.247 56.5548 159.94C56.5548 159.633 56.6615 159.373 56.8748 159.16C57.1015 158.933 57.3615 158.82 57.6548 158.82C57.9482 158.82 58.2015 158.933 58.4148 159.16C58.6415 159.373 58.7548 159.633 58.7548 159.94C58.7548 160.247 58.6482 160.513 58.4348 160.74ZM56.8148 162.88H58.5148V172H56.8148V162.88ZM69.3972 165.1V172H67.6972V165.18C67.6972 164.833 67.5572 164.567 67.2772 164.38C67.0105 164.193 66.6505 164.1 66.1972 164.1C65.2505 164.1 64.2705 164.44 63.2572 165.12V172H61.5572V162.88H62.6372L63.1372 163.92C64.1639 163.067 65.2772 162.64 66.4772 162.64C67.3705 162.64 68.0772 162.867 68.5972 163.32C69.1305 163.773 69.3972 164.367 69.3972 165.1ZM77.6523 172V158.18H81.1323C82.6123 158.18 83.7923 158.487 84.6723 159.1C85.5523 159.713 85.9923 160.613 85.9923 161.8C85.9923 163.147 85.3257 164.14 83.9923 164.78C84.8057 165.047 85.4457 165.46 85.9123 166.02C86.379 166.567 86.6123 167.233 86.6123 168.02C86.6123 169.273 86.1457 170.253 85.2123 170.96C84.2923 171.653 83.0723 172 81.5523 172H77.6523ZM81.5323 165.54H79.3723V170.48H81.5323C83.6923 170.48 84.7723 169.66 84.7723 168.02C84.7723 166.367 83.6923 165.54 81.5323 165.54ZM79.3723 164.22H81.1123C82.1123 164.22 82.8657 164.007 83.3723 163.58C83.8923 163.14 84.1523 162.553 84.1523 161.82C84.1523 161.087 83.899 160.553 83.3923 160.22C82.899 159.873 82.139 159.7 81.1123 159.7H79.3723V164.22ZM92.307 170.84C93.267 170.84 94.227 170.553 95.187 169.98L95.767 171.18C94.647 171.887 93.447 172.24 92.167 172.24C90.9004 172.24 89.8937 171.84 89.147 171.04C88.4004 170.227 88.027 169.06 88.027 167.54C88.027 166.02 88.4137 164.827 89.187 163.96C89.9604 163.08 90.987 162.64 92.267 162.64C93.427 162.64 94.3404 163 95.007 163.72C95.287 164.013 95.5204 164.44 95.707 165C95.907 165.56 96.007 166.22 96.007 166.98L95.387 167.68H89.727C89.767 169.787 90.627 170.84 92.307 170.84ZM94.327 166.42C94.327 165.673 94.1337 165.073 93.747 164.62C93.3604 164.167 92.847 163.94 92.207 163.94C91.5804 163.94 91.047 164.167 90.607 164.62C90.167 165.06 89.9004 165.66 89.807 166.42H94.327ZM98.0202 157.64H99.6602V172H98.0202V157.64ZM144.489 171.88C144.289 172.08 144.043 172.18 143.749 172.18C143.456 172.18 143.209 172.08 143.009 171.88C142.809 171.667 142.709 171.407 142.709 171.1C142.709 170.793 142.809 170.54 143.009 170.34C143.209 170.14 143.456 170.04 143.749 170.04C144.043 170.04 144.289 170.14 144.489 170.34C144.703 170.54 144.809 170.793 144.809 171.1C144.809 171.407 144.703 171.667 144.489 171.88ZM21.36 198H19.64V193.06L15.1 184.18H17L20.52 191.16H20.62L24.18 184.18H26.06L21.36 193.06V198ZM29.5355 189.94C29.0288 189.94 28.5888 190.053 28.2155 190.28C27.8555 190.507 27.5888 190.8 27.4155 191.16C27.0955 191.84 26.9355 192.567 26.9355 193.34C26.9355 195.74 27.7688 196.94 29.4355 196.94C29.9421 196.94 30.3755 196.827 30.7355 196.6C31.0955 196.373 31.3688 196.08 31.5555 195.72C31.8755 195.053 32.0355 194.327 32.0355 193.54C32.0355 191.14 31.2021 189.94 29.5355 189.94ZM29.5355 188.64C31.0155 188.64 32.0955 189.1 32.7755 190.02C33.4555 190.94 33.7955 192.14 33.7955 193.62C33.7955 194.687 33.5155 195.673 32.9555 196.58C32.6488 197.073 32.1888 197.473 31.5755 197.78C30.9621 198.087 30.2288 198.24 29.3755 198.24C27.9088 198.24 26.8421 197.8 26.1755 196.92C25.5088 196.04 25.1755 194.86 25.1755 193.38C25.1755 192.513 25.3088 191.78 25.5755 191.18C25.8555 190.58 26.1488 190.12 26.4555 189.8C26.7621 189.467 27.1821 189.193 27.7155 188.98C28.2488 188.753 28.8555 188.64 29.5355 188.64ZM37.6694 188.88V195.66C37.6694 196.033 37.8027 196.327 38.0694 196.54C38.3494 196.74 38.7094 196.84 39.1494 196.84C40.096 196.84 41.0694 196.467 42.0694 195.72V188.88H43.7694V198H42.6894L42.1894 196.8C41.1627 197.76 40.0227 198.24 38.7694 198.24C37.9694 198.24 37.3027 198.027 36.7694 197.6C36.236 197.173 35.9694 196.553 35.9694 195.74V188.88H37.6694ZM46.8548 189.06L45.9148 188.86L46.7348 184.78L48.6548 184.58L46.8548 189.06ZM50.7155 183.64H52.3555V198H50.7155V183.64ZM55.0709 183.64H56.7109V198H55.0709V183.64ZM65.357 188.88V186.46C65.357 185.473 65.5904 184.72 66.057 184.2C66.5237 183.667 67.1304 183.4 67.877 183.4C68.637 183.4 69.4437 183.6 70.297 184L69.717 185.2C69.1304 184.96 68.6237 184.84 68.197 184.84C67.397 184.84 66.997 185.373 66.997 186.44V188.88H72.957V198H71.257V190.14H66.997V198H65.357V190.14H63.997V188.88H65.357ZM72.877 186.74C72.6637 186.953 72.4037 187.06 72.097 187.06C71.7904 187.06 71.5304 186.953 71.317 186.74C71.1037 186.513 70.997 186.247 70.997 185.94C70.997 185.633 71.1037 185.373 71.317 185.16C71.5437 184.933 71.8037 184.82 72.097 184.82C72.3904 184.82 72.6437 184.933 72.857 185.16C73.0837 185.373 73.197 185.633 73.197 185.94C73.197 186.247 73.0904 186.513 72.877 186.74ZM83.8308 191.1V198H82.1308V191.18C82.1308 190.833 81.9908 190.567 81.7108 190.38C81.4441 190.193 81.0841 190.1 80.6308 190.1C79.6841 190.1 78.7041 190.44 77.6908 191.12V198H75.9908V188.88H77.0708L77.5708 189.92C78.5974 189.067 79.7108 188.64 80.9108 188.64C81.8041 188.64 82.5108 188.867 83.0308 189.32C83.5641 189.773 83.8308 190.367 83.8308 191.1ZM92.7753 183.64H94.4153V198H93.3353L92.8353 196.8C91.8353 197.76 90.802 198.24 89.7353 198.24C88.682 198.24 87.8086 197.833 87.1153 197.02C86.422 196.193 86.0753 195.08 86.0753 193.68C86.0753 192.28 86.4886 191.113 87.3153 190.18C88.142 189.233 89.2086 188.76 90.5153 188.76C91.222 188.76 91.9753 188.92 92.7753 189.24V183.64ZM90.9353 190.12C89.9353 190.12 89.162 190.46 88.6153 191.14C88.0686 191.82 87.7953 192.647 87.7953 193.62C87.7953 194.593 88.022 195.373 88.4753 195.96C88.9286 196.547 89.5153 196.84 90.2353 196.84C90.6353 196.84 91.062 196.733 91.5153 196.52C91.982 196.293 92.402 195.987 92.7753 195.6V190.48C92.1486 190.24 91.5353 190.12 90.9353 190.12ZM104.232 183.64V189.82C105.232 189.033 106.305 188.64 107.452 188.64C108.345 188.64 109.052 188.867 109.572 189.32C110.105 189.76 110.372 190.34 110.372 191.06V198H108.672V191.18C108.672 190.833 108.532 190.567 108.252 190.38C107.985 190.193 107.625 190.1 107.172 190.1C106.225 190.1 105.245 190.44 104.232 191.12V198H102.532V183.64H104.232ZM116.838 196.84C117.798 196.84 118.758 196.553 119.718 195.98L120.298 197.18C119.178 197.887 117.978 198.24 116.698 198.24C115.432 198.24 114.425 197.84 113.678 197.04C112.932 196.227 112.558 195.06 112.558 193.54C112.558 192.02 112.945 190.827 113.718 189.96C114.492 189.08 115.518 188.64 116.798 188.64C117.958 188.64 118.872 189 119.538 189.72C119.818 190.013 120.052 190.44 120.238 191C120.438 191.56 120.538 192.22 120.538 192.98L119.918 193.68H114.258C114.298 195.787 115.158 196.84 116.838 196.84ZM118.858 192.42C118.858 191.673 118.665 191.073 118.278 190.62C117.892 190.167 117.378 189.94 116.738 189.94C116.112 189.94 115.578 190.167 115.138 190.62C114.698 191.06 114.432 191.66 114.338 192.42H118.858ZM122.631 188.88H123.711L124.211 190.48H124.291C125.025 189.533 126.031 188.96 127.311 188.76L127.491 190.34C126.865 190.38 126.258 190.54 125.671 190.82C125.085 191.1 124.638 191.473 124.331 191.94V198H122.631V188.88ZM132.6 196.84C133.56 196.84 134.52 196.553 135.48 195.98L136.06 197.18C134.94 197.887 133.74 198.24 132.46 198.24C131.193 198.24 130.187 197.84 129.44 197.04C128.693 196.227 128.32 195.06 128.32 193.54C128.32 192.02 128.707 190.827 129.48 189.96C130.253 189.08 131.28 188.64 132.56 188.64C133.72 188.64 134.633 189 135.3 189.72C135.58 190.013 135.813 190.44 136 191C136.2 191.56 136.3 192.22 136.3 192.98L135.68 193.68H130.02C130.06 195.787 130.92 196.84 132.6 196.84ZM134.62 192.42C134.62 191.673 134.427 191.073 134.04 190.62C133.653 190.167 133.14 189.94 132.5 189.94C131.873 189.94 131.34 190.167 130.9 190.62C130.46 191.06 130.193 191.66 130.1 192.42H134.62ZM148.784 192.54V191.66C148.784 190.58 148.224 190.04 147.104 190.04C146.224 190.04 145.304 190.327 144.344 190.9L143.764 189.7C144.884 188.993 146.09 188.64 147.384 188.64C148.29 188.64 149.03 188.873 149.604 189.34C150.19 189.793 150.484 190.5 150.484 191.46V198H149.404L148.904 196.8C148.477 197.24 147.97 197.593 147.384 197.86C146.797 198.113 146.264 198.24 145.784 198.24C144.957 198.24 144.297 198.013 143.804 197.56C143.31 197.107 143.064 196.513 143.064 195.78C143.064 193.62 144.97 192.54 148.784 192.54ZM145.464 194.48C145.21 194.707 145.037 194.913 144.944 195.1C144.864 195.273 144.824 195.507 144.824 195.8C144.824 196.08 144.944 196.327 145.184 196.54C145.437 196.74 145.764 196.84 146.164 196.84C147.004 196.84 147.877 196.467 148.784 195.72V193.72C147.104 193.747 145.997 194 145.464 194.48ZM153.196 183.64H154.836V198H153.196V183.64ZM157.551 183.64H159.191V198H157.551V183.64ZM168.958 189.92C169.944 189.067 171.038 188.64 172.238 188.64C173.438 188.64 174.258 189.107 174.698 190.04C175.751 189.107 176.858 188.64 178.018 188.64C178.871 188.64 179.544 188.867 180.038 189.32C180.544 189.773 180.798 190.367 180.798 191.1V198H179.098V191.18C179.098 190.833 178.971 190.567 178.718 190.38C178.464 190.193 178.124 190.1 177.697 190.1C176.831 190.1 175.904 190.453 174.918 191.16V198H173.218V191.18C173.218 190.833 173.091 190.567 172.838 190.38C172.584 190.193 172.244 190.1 171.817 190.1C170.924 190.1 170.011 190.44 169.078 191.12V198H167.378V188.88H168.458L168.958 189.92ZM186.788 199.62C186.348 200.9 185.942 201.753 185.568 202.18C185.208 202.62 184.668 202.84 183.948 202.84C183.228 202.84 182.435 202.64 181.568 202.24L182.188 200.94C182.762 201.247 183.255 201.4 183.668 201.4C184.028 201.4 184.268 201.34 184.388 201.22L184.648 200.96C184.822 200.787 184.975 200.487 185.108 200.06C185.242 199.633 185.348 199.3 185.428 199.06C185.508 198.833 185.568 198.653 185.608 198.52L182.268 188.88H183.988L186.348 196.18H186.428L188.788 188.88H190.508L186.788 199.62ZM19.94 222.88C20.94 222.88 21.7133 222.54 22.26 221.86C22.8067 221.18 23.08 220.353 23.08 219.38C23.08 218.393 22.84 217.6 22.36 217C21.8933 216.4 21.2467 216.1 20.42 216.1C20.1 216.1 19.72 216.193 19.28 216.38C18.84 216.567 18.4467 216.813 18.1 217.12V222.52C18.7267 222.76 19.34 222.88 19.94 222.88ZM18.1 228.6H16.44V214.88H17.52L17.98 215.92C18.9533 215.067 19.9867 214.64 21.08 214.64C22.1733 214.64 23.0667 215.067 23.76 215.92C24.4533 216.773 24.8 217.887 24.8 219.26C24.8 220.62 24.3933 221.793 23.58 222.78C22.78 223.753 21.6333 224.24 20.14 224.24C19.4733 224.24 18.7933 224.147 18.1 223.96V228.6ZM27.0845 214.88H28.1645L28.6645 216.48H28.7445C29.4779 215.533 30.4845 214.96 31.7645 214.76L31.9445 216.34C31.3179 216.38 30.7112 216.54 30.1245 216.82C29.5379 217.1 29.0912 217.473 28.7845 217.94V224H27.0845V214.88ZM37.1331 215.94C36.6265 215.94 36.1865 216.053 35.8131 216.28C35.4531 216.507 35.1865 216.8 35.0131 217.16C34.6931 217.84 34.5331 218.567 34.5331 219.34C34.5331 221.74 35.3665 222.94 37.0331 222.94C37.5398 222.94 37.9731 222.827 38.3331 222.6C38.6931 222.373 38.9665 222.08 39.1531 221.72C39.4731 221.053 39.6331 220.327 39.6331 219.54C39.6331 217.14 38.7998 215.94 37.1331 215.94ZM37.1331 214.64C38.6131 214.64 39.6931 215.1 40.3731 216.02C41.0531 216.94 41.3931 218.14 41.3931 219.62C41.3931 220.687 41.1131 221.673 40.5531 222.58C40.2465 223.073 39.7865 223.473 39.1731 223.78C38.5598 224.087 37.8265 224.24 36.9731 224.24C35.5065 224.24 34.4398 223.8 33.7731 222.92C33.1065 222.04 32.7731 220.86 32.7731 219.38C32.7731 218.513 32.9065 217.78 33.1731 217.18C33.4531 216.58 33.7465 216.12 34.0531 215.8C34.3598 215.467 34.7798 215.193 35.3131 214.98C35.8465 214.753 36.4531 214.64 37.1331 214.64ZM45.427 212.74C45.2137 212.953 44.9537 213.06 44.647 213.06C44.3404 213.06 44.0804 212.953 43.867 212.74C43.6537 212.513 43.547 212.247 43.547 211.94C43.547 211.633 43.6537 211.373 43.867 211.16C44.0937 210.933 44.3537 210.82 44.647 210.82C44.9404 210.82 45.1937 210.933 45.407 211.16C45.6337 211.373 45.747 211.633 45.747 211.94C45.747 212.247 45.6404 212.513 45.427 212.74ZM45.447 214.88V225.78C45.447 226.767 45.2137 227.52 44.747 228.04C44.2804 228.573 43.6737 228.84 42.927 228.84C42.1804 228.84 41.3737 228.64 40.507 228.24L41.087 227.04C41.6737 227.28 42.1804 227.4 42.607 227.4C43.407 227.4 43.807 226.867 43.807 225.8V214.88H45.447ZM52.1508 222.84C53.1108 222.84 54.0708 222.553 55.0308 221.98L55.6108 223.18C54.4908 223.887 53.2908 224.24 52.0108 224.24C50.7441 224.24 49.7374 223.84 48.9908 223.04C48.2441 222.227 47.8708 221.06 47.8708 219.54C47.8708 218.02 48.2574 216.827 49.0308 215.96C49.8041 215.08 50.8308 214.64 52.1108 214.64C53.2708 214.64 54.1841 215 54.8508 215.72C55.1308 216.013 55.3641 216.44 55.5508 217C55.7508 217.56 55.8508 218.22 55.8508 218.98L55.2308 219.68H49.5708C49.6108 221.787 50.4708 222.84 52.1508 222.84ZM54.1708 218.42C54.1708 217.673 53.9774 217.073 53.5908 216.62C53.2041 216.167 52.6908 215.94 52.0508 215.94C51.4241 215.94 50.8908 216.167 50.4508 216.62C50.0108 217.06 49.7441 217.66 49.6508 218.42H54.1708ZM61.5239 214.64C62.4172 214.64 63.3239 214.84 64.2439 215.24L63.7439 216.48C63.0639 216.187 62.3372 216.04 61.5639 216.04C60.8039 216.04 60.1972 216.327 59.7439 216.9C59.3039 217.473 59.0839 218.313 59.0839 219.42C59.0839 220.527 59.3172 221.373 59.7839 221.96C60.2506 222.547 60.8639 222.84 61.6239 222.84C62.3839 222.84 63.1706 222.653 63.9839 222.28L64.3639 223.6C63.4306 224.027 62.4839 224.24 61.5239 224.24C60.2839 224.24 59.2706 223.793 58.4839 222.9C57.7106 221.993 57.3239 220.833 57.3239 219.42C57.3239 217.993 57.7106 216.84 58.4839 215.96C59.2706 215.08 60.2839 214.64 61.5239 214.64ZM68.2261 216.14V221.62C68.2261 222.42 68.6061 222.82 69.3661 222.82C69.8061 222.82 70.3328 222.693 70.9461 222.44L71.1661 223.78C70.5128 224.087 69.8261 224.24 69.1061 224.24C68.3861 224.24 67.7861 224.027 67.3061 223.6C66.8261 223.16 66.5861 222.493 66.5861 221.6V216.14H65.3261V214.88H66.5861V213.08L67.8261 211.94H68.2261V214.88H70.8061V216.14H68.2261ZM77.6434 216.48C76.9634 216.187 76.3234 216.04 75.7234 216.04C74.5634 216.04 73.9834 216.393 73.9834 217.1C73.9834 217.713 74.7568 218.307 76.3034 218.88C76.8768 219.093 77.4034 219.427 77.8834 219.88C78.3768 220.333 78.6234 220.88 78.6234 221.52C78.6234 222.44 78.3234 223.127 77.7234 223.58C77.1234 224.02 76.2901 224.24 75.2234 224.24C74.1568 224.24 73.1168 223.947 72.1034 223.36L72.6034 222.12C73.4434 222.6 74.3968 222.84 75.4634 222.84C75.9168 222.84 76.2834 222.747 76.5634 222.56C76.8434 222.36 76.9834 222.093 76.9834 221.76C76.9834 221.427 76.8234 221.14 76.5034 220.9C76.1834 220.66 75.7968 220.447 75.3434 220.26C74.8901 220.073 74.4368 219.873 73.9834 219.66C73.5301 219.433 73.1434 219.12 72.8234 218.72C72.5034 218.32 72.3434 217.847 72.3434 217.3C72.3434 216.447 72.6301 215.793 73.2034 215.34C73.7901 214.873 74.5301 214.64 75.4234 214.64C76.3168 214.64 77.2234 214.84 78.1434 215.24L77.6434 216.48ZM91.0298 218.54V217.66C91.0298 216.58 90.4698 216.04 89.3498 216.04C88.4698 216.04 87.5498 216.327 86.5898 216.9L86.0098 215.7C87.1298 214.993 88.3365 214.64 89.6298 214.64C90.5365 214.64 91.2765 214.873 91.8498 215.34C92.4365 215.793 92.7298 216.5 92.7298 217.46V224H91.6498L91.1498 222.8C90.7232 223.24 90.2165 223.593 89.6298 223.86C89.0432 224.113 88.5098 224.24 88.0298 224.24C87.2032 224.24 86.5432 224.013 86.0498 223.56C85.5565 223.107 85.3098 222.513 85.3098 221.78C85.3098 219.62 87.2165 218.54 91.0298 218.54ZM87.7098 220.48C87.4565 220.707 87.2832 220.913 87.1898 221.1C87.1098 221.273 87.0698 221.507 87.0698 221.8C87.0698 222.08 87.1898 222.327 87.4298 222.54C87.6832 222.74 88.0098 222.84 88.4098 222.84C89.2498 222.84 90.1232 222.467 91.0298 221.72V219.72C89.3498 219.747 88.2432 220 87.7098 220.48ZM103.362 217.1V224H101.662V217.18C101.662 216.833 101.522 216.567 101.242 216.38C100.975 216.193 100.615 216.1 100.162 216.1C99.2154 216.1 98.2354 216.44 97.222 217.12V224H95.522V214.88H96.602L97.102 215.92C98.1287 215.067 99.242 214.64 100.442 214.64C101.335 214.64 102.042 214.867 102.562 215.32C103.095 215.773 103.362 216.367 103.362 217.1ZM112.307 209.64H113.947V224H112.867L112.367 222.8C111.367 223.76 110.333 224.24 109.267 224.24C108.213 224.24 107.34 223.833 106.647 223.02C105.953 222.193 105.607 221.08 105.607 219.68C105.607 218.28 106.02 217.113 106.847 216.18C107.673 215.233 108.74 214.76 110.047 214.76C110.753 214.76 111.507 214.92 112.307 215.24V209.64ZM110.467 216.12C109.467 216.12 108.693 216.46 108.147 217.14C107.6 217.82 107.327 218.647 107.327 219.62C107.327 220.593 107.553 221.373 108.007 221.96C108.46 222.547 109.047 222.84 109.767 222.84C110.167 222.84 110.593 222.733 111.047 222.52C111.513 222.293 111.933 221.987 112.307 221.6V216.48C111.68 216.24 111.067 216.12 110.467 216.12ZM123.923 212.74C123.71 212.953 123.45 213.06 123.143 213.06C122.836 213.06 122.576 212.953 122.363 212.74C122.15 212.513 122.043 212.247 122.043 211.94C122.043 211.633 122.15 211.373 122.363 211.16C122.59 210.933 122.85 210.82 123.143 210.82C123.436 210.82 123.69 210.933 123.903 211.16C124.13 211.373 124.243 211.633 124.243 211.94C124.243 212.247 124.136 212.513 123.923 212.74ZM122.303 214.88H124.003V224H122.303V214.88ZM133.185 209.64H134.825V224H133.745L133.245 222.8C132.245 223.76 131.212 224.24 130.145 224.24C129.092 224.24 128.219 223.833 127.525 223.02C126.832 222.193 126.485 221.08 126.485 219.68C126.485 218.28 126.899 217.113 127.725 216.18C128.552 215.233 129.619 214.76 130.925 214.76C131.632 214.76 132.385 214.92 133.185 215.24V209.64ZM131.345 216.12C130.345 216.12 129.572 216.46 129.025 217.14C128.479 217.82 128.205 218.647 128.205 219.62C128.205 220.593 128.432 221.373 128.885 221.96C129.339 222.547 129.925 222.84 130.645 222.84C131.045 222.84 131.472 222.733 131.925 222.52C132.392 222.293 132.812 221.987 133.185 221.6V216.48C132.559 216.24 131.945 216.12 131.345 216.12ZM141.291 222.84C142.251 222.84 143.211 222.553 144.171 221.98L144.751 223.18C143.631 223.887 142.431 224.24 141.151 224.24C139.885 224.24 138.878 223.84 138.131 223.04C137.385 222.227 137.011 221.06 137.011 219.54C137.011 218.02 137.398 216.827 138.171 215.96C138.945 215.08 139.971 214.64 141.251 214.64C142.411 214.64 143.325 215 143.991 215.72C144.271 216.013 144.505 216.44 144.691 217C144.891 217.56 144.991 218.22 144.991 218.98L144.371 219.68H138.711C138.751 221.787 139.611 222.84 141.291 222.84ZM143.311 218.42C143.311 217.673 143.118 217.073 142.731 216.62C142.345 216.167 141.831 215.94 141.191 215.94C140.565 215.94 140.031 216.167 139.591 216.62C139.151 217.06 138.885 217.66 138.791 218.42H143.311ZM152.085 218.54V217.66C152.085 216.58 151.525 216.04 150.405 216.04C149.525 216.04 148.605 216.327 147.645 216.9L147.065 215.7C148.185 214.993 149.391 214.64 150.685 214.64C151.591 214.64 152.331 214.873 152.905 215.34C153.491 215.793 153.785 216.5 153.785 217.46V224H152.705L152.205 222.8C151.778 223.24 151.271 223.593 150.685 223.86C150.098 224.113 149.565 224.24 149.085 224.24C148.258 224.24 147.598 224.013 147.105 223.56C146.611 223.107 146.365 222.513 146.365 221.78C146.365 219.62 148.271 218.54 152.085 218.54ZM148.765 220.48C148.511 220.707 148.338 220.913 148.245 221.1C148.165 221.273 148.125 221.507 148.125 221.8C148.125 222.08 148.245 222.327 148.485 222.54C148.738 222.74 149.065 222.84 149.465 222.84C150.305 222.84 151.178 222.467 152.085 221.72V219.72C150.405 219.747 149.298 220 148.765 220.48ZM161.257 216.48C160.577 216.187 159.937 216.04 159.337 216.04C158.177 216.04 157.597 216.393 157.597 217.1C157.597 217.713 158.37 218.307 159.917 218.88C160.49 219.093 161.017 219.427 161.497 219.88C161.99 220.333 162.237 220.88 162.237 221.52C162.237 222.44 161.937 223.127 161.337 223.58C160.737 224.02 159.903 224.24 158.837 224.24C157.77 224.24 156.73 223.947 155.717 223.36L156.217 222.12C157.057 222.6 158.01 222.84 159.077 222.84C159.53 222.84 159.897 222.747 160.177 222.56C160.457 222.36 160.597 222.093 160.597 221.76C160.597 221.427 160.437 221.14 160.117 220.9C159.797 220.66 159.41 220.447 158.957 220.26C158.503 220.073 158.05 219.873 157.597 219.66C157.143 219.433 156.757 219.12 156.437 218.72C156.117 218.32 155.957 217.847 155.957 217.3C155.957 216.447 156.243 215.793 156.817 215.34C157.403 214.873 158.143 214.64 159.037 214.64C159.93 214.64 160.837 214.84 161.757 215.24L161.257 216.48ZM165.193 223.88C164.993 224.08 164.746 224.18 164.453 224.18C164.159 224.18 163.913 224.08 163.713 223.88C163.513 223.667 163.413 223.407 163.413 223.1C163.413 222.793 163.513 222.54 163.713 222.34C163.913 222.14 164.159 222.04 164.453 222.04C164.746 222.04 164.993 222.14 165.193 222.34C165.406 222.54 165.513 222.793 165.513 223.1C165.513 223.407 165.406 223.667 165.193 223.88Z",fill:"black"}),Object(i.jsx)("path",{id:"Vector_5",d:"M72.9844 146V132.18H80.7644L80.3844 133.7H74.7044V138.26H80.0444V139.72H74.7044V146H72.9844ZM84.4272 136.88V143.66C84.4272 144.033 84.5605 144.327 84.8272 144.54C85.1072 144.74 85.4672 144.84 85.9072 144.84C86.8539 144.84 87.8272 144.467 88.8272 143.72V136.88H90.5272V146H89.4472L88.9472 144.8C87.9205 145.76 86.7805 146.24 85.5272 146.24C84.7272 146.24 84.0605 146.027 83.5272 145.6C82.9939 145.173 82.7272 144.553 82.7272 143.74V136.88H84.4272ZM93.3327 131.64H94.9727V146H93.3327V131.64ZM97.6881 131.64H99.3281V146H97.6881V131.64ZM106.804 138.48C106.124 138.187 105.484 138.04 104.884 138.04C103.724 138.04 103.144 138.393 103.144 139.1C103.144 139.713 103.917 140.307 105.464 140.88C106.037 141.093 106.564 141.427 107.044 141.88C107.537 142.333 107.784 142.88 107.784 143.52C107.784 144.44 107.484 145.127 106.884 145.58C106.284 146.02 105.45 146.24 104.384 146.24C103.317 146.24 102.277 145.947 101.264 145.36L101.764 144.12C102.604 144.6 103.557 144.84 104.624 144.84C105.077 144.84 105.444 144.747 105.724 144.56C106.004 144.36 106.144 144.093 106.144 143.76C106.144 143.427 105.984 143.14 105.664 142.9C105.344 142.66 104.957 142.447 104.504 142.26C104.05 142.073 103.597 141.873 103.144 141.66C102.69 141.433 102.304 141.12 101.984 140.72C101.664 140.32 101.504 139.847 101.504 139.3C101.504 138.447 101.79 137.793 102.364 137.34C102.95 136.873 103.69 136.64 104.584 136.64C105.477 136.64 106.384 136.84 107.304 137.24L106.804 138.48ZM111.839 138.14V143.62C111.839 144.42 112.219 144.82 112.979 144.82C113.419 144.82 113.946 144.693 114.559 144.44L114.779 145.78C114.126 146.087 113.439 146.24 112.719 146.24C111.999 146.24 111.399 146.027 110.919 145.6C110.439 145.16 110.199 144.493 110.199 143.6V138.14H108.939V136.88H110.199V135.08L111.439 133.94H111.839V136.88H114.419V138.14H111.839ZM121.577 140.54V139.66C121.577 138.58 121.017 138.04 119.897 138.04C119.017 138.04 118.097 138.327 117.137 138.9L116.557 137.7C117.677 136.993 118.883 136.64 120.177 136.64C121.083 136.64 121.823 136.873 122.397 137.34C122.983 137.793 123.277 138.5 123.277 139.46V146H122.197L121.697 144.8C121.27 145.24 120.763 145.593 120.177 145.86C119.59 146.113 119.057 146.24 118.577 146.24C117.75 146.24 117.09 146.013 116.597 145.56C116.103 145.107 115.857 144.513 115.857 143.78C115.857 141.62 117.763 140.54 121.577 140.54ZM118.257 142.48C118.003 142.707 117.83 142.913 117.737 143.1C117.657 143.273 117.617 143.507 117.617 143.8C117.617 144.08 117.737 144.327 117.977 144.54C118.23 144.74 118.557 144.84 118.957 144.84C119.797 144.84 120.67 144.467 121.577 143.72V141.72C119.897 141.747 118.79 142 118.257 142.48ZM129.649 136.64C130.542 136.64 131.449 136.84 132.369 137.24L131.869 138.48C131.189 138.187 130.462 138.04 129.689 138.04C128.929 138.04 128.322 138.327 127.869 138.9C127.429 139.473 127.209 140.313 127.209 141.42C127.209 142.527 127.442 143.373 127.909 143.96C128.376 144.547 128.989 144.84 129.749 144.84C130.509 144.84 131.296 144.653 132.109 144.28L132.489 145.6C131.556 146.027 130.609 146.24 129.649 146.24C128.409 146.24 127.396 145.793 126.609 144.9C125.836 143.993 125.449 142.833 125.449 141.42C125.449 139.993 125.836 138.84 126.609 137.96C127.396 137.08 128.409 136.64 129.649 136.64ZM135.871 146H134.231V131.64H135.871V140.12L139.431 136.88H141.691L137.671 140.34L142.111 146H139.951L136.431 141.4L135.871 141.88V146ZM148.941 146V132.18H154.141C155.141 132.18 156.041 132.36 156.841 132.72C157.641 133.08 158.288 133.56 158.781 134.16C159.795 135.413 160.301 136.893 160.301 138.6C160.301 140.76 159.648 142.533 158.341 143.92C157.035 145.307 155.295 146 153.121 146H148.941ZM153.921 133.7H150.661V144.48H153.121C154.775 144.48 156.055 143.96 156.961 142.92C157.868 141.88 158.321 140.44 158.321 138.6C158.321 137.227 157.935 136.067 157.161 135.12C156.401 134.173 155.321 133.7 153.921 133.7ZM166.409 144.84C167.369 144.84 168.329 144.553 169.289 143.98L169.869 145.18C168.749 145.887 167.549 146.24 166.269 146.24C165.002 146.24 163.995 145.84 163.249 145.04C162.502 144.227 162.129 143.06 162.129 141.54C162.129 140.02 162.515 138.827 163.289 137.96C164.062 137.08 165.089 136.64 166.369 136.64C167.529 136.64 168.442 137 169.109 137.72C169.389 138.013 169.622 138.44 169.809 139C170.009 139.56 170.109 140.22 170.109 140.98L169.489 141.68H163.829C163.869 143.787 164.729 144.84 166.409 144.84ZM168.429 140.42C168.429 139.673 168.235 139.073 167.849 138.62C167.462 138.167 166.949 137.94 166.309 137.94C165.682 137.94 165.149 138.167 164.709 138.62C164.269 139.06 164.002 139.66 163.909 140.42H168.429ZM175.922 146H174.042L170.862 136.88H172.582L174.942 144.18H175.022L177.382 136.88H179.102L175.922 146Z",fill:"#00BC29"}),Object(i.jsx)("path",{id:"Vector_6",d:"M105.436 169.42C105.129 169.42 104.836 169.4 104.556 169.36C104.222 170 104.056 170.42 104.056 170.62C104.056 170.713 104.176 170.793 104.416 170.86L106.856 171.4C107.989 171.653 108.796 171.947 109.276 172.28C109.756 172.627 109.996 173.133 109.996 173.8C109.996 174.467 109.762 175.027 109.296 175.48C108.389 176.387 107.056 176.84 105.296 176.84C104.216 176.84 103.282 176.64 102.496 176.24C101.709 175.84 101.316 175.267 101.316 174.52C101.316 173.773 101.849 172.913 102.916 171.94C102.516 171.793 102.316 171.573 102.316 171.28C102.316 170.987 102.709 170.26 103.496 169.1C102.349 168.607 101.776 167.573 101.776 166C101.776 165.12 102.082 164.353 102.696 163.7C103.322 163.033 104.236 162.7 105.436 162.7C106.129 162.7 106.736 162.8 107.256 163L110.056 162.68V164.02H108.556C108.902 164.58 109.076 165.293 109.076 166.16C109.076 167.013 108.769 167.773 108.156 168.44C107.542 169.093 106.636 169.42 105.436 169.42ZM107.476 166.3C107.476 164.647 106.802 163.82 105.456 163.82C104.922 163.82 104.489 163.96 104.156 164.24C103.636 164.693 103.376 165.26 103.376 165.94C103.376 166.607 103.536 167.167 103.856 167.62C104.176 168.073 104.689 168.3 105.396 168.3C106.102 168.3 106.622 168.087 106.956 167.66C107.302 167.22 107.476 166.767 107.476 166.3ZM102.916 174.26C102.916 174.687 103.149 175.013 103.616 175.24C104.082 175.467 104.689 175.58 105.436 175.58C106.182 175.58 106.876 175.427 107.516 175.12C108.156 174.827 108.476 174.42 108.476 173.9C108.476 173.633 108.322 173.413 108.016 173.24C107.709 173.08 107.176 172.92 106.416 172.76L104.076 172.24C103.302 173.013 102.916 173.687 102.916 174.26ZM113.611 160.74C113.397 160.953 113.137 161.06 112.831 161.06C112.524 161.06 112.264 160.953 112.051 160.74C111.837 160.513 111.731 160.247 111.731 159.94C111.731 159.633 111.837 159.373 112.051 159.16C112.277 158.933 112.537 158.82 112.831 158.82C113.124 158.82 113.377 158.933 113.591 159.16C113.817 159.373 113.931 159.633 113.931 159.94C113.931 160.247 113.824 160.513 113.611 160.74ZM111.991 162.88H113.691V172H111.991V162.88Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector_7",d:"M118.353 162.88V169.66C118.353 170.033 118.486 170.327 118.753 170.54C119.033 170.74 119.393 170.84 119.833 170.84C120.78 170.84 121.753 170.467 122.753 169.72V162.88H124.453V172H123.373L122.873 170.8C121.846 171.76 120.706 172.24 119.453 172.24C118.653 172.24 117.986 172.027 117.453 171.6C116.92 171.173 116.653 170.553 116.653 169.74V162.88H118.353ZM128.918 163.92C129.905 163.067 130.998 162.64 132.198 162.64C133.398 162.64 134.218 163.107 134.658 164.04C135.712 163.107 136.818 162.64 137.978 162.64C138.832 162.64 139.505 162.867 139.998 163.32C140.505 163.773 140.758 164.367 140.758 165.1V172H139.058V165.18C139.058 164.833 138.932 164.567 138.678 164.38C138.425 164.193 138.085 164.1 137.658 164.1C136.792 164.1 135.865 164.453 134.878 165.16V172H133.178V165.18C133.178 164.833 133.052 164.567 132.798 164.38C132.545 164.193 132.205 164.1 131.778 164.1C130.885 164.1 129.972 164.44 129.038 165.12V172H127.338V162.88H128.418L128.918 163.92Z",fill:"#DD3A3A"})]})]}),Object(i.jsxs)("g",{id:"RightArmDown",children:[Object(i.jsx)("path",{id:"Vector 4 2",d:"M244.115 228.204L263 193.204L273.5 184.204C273.5 184.204 287 181.204 290 198.204C293.703 219.189 282.872 234.735 280 238.204L250.5 282.058H233L221.146 276.704V263.204L244.115 228.204Z",fill:"#575A89"}),Object(i.jsx)("path",{id:"Vector 6",d:"M218.5 268.204L223 262.204C223 262.204 233.53 260.729 241.5 267.204C249.5 273.704 249.5 280.704 249.5 280.704C246 285.204 239.5 290.204 236 292.204L170.5 327.204C170.5 327.204 157.638 334.263 144 335.704C132 335.704 117.135 323.561 116 317.204C119 304.001 129 317.204 136.414 315.559C141.786 314.367 148.855 313.943 141.896 308.913C132.5 307.204 140.5 302.704 140.5 302.704C153.5 305.704 162.446 309.558 162.446 309.558L218.5 268.204Z",fill:"#FFB9B9"})]}),Object(i.jsxs)("g",{id:"RightArmUp",children:[Object(i.jsx)("path",{id:"Vector 6 2",d:"M238.52 202.822L266.907 221.809C272.337 224.818 286.64 228.507 291.958 208.669C297.276 188.831 290.908 180.027 287.06 178.104L212.013 144.5H202.013L191.013 151.482L189.513 169L238.52 202.822Z",fill:"#575A89"}),Object(i.jsx)("path",{id:"Vector 7",d:"M202.144 170.536C206.314 170.74 210.013 165 210.013 165C210.013 165 216.176 160.027 217.513 151C219.526 137.413 214.446 130.3 214.117 116.569C213.777 102.381 219.702 80.6586 219.702 80.6586C219.702 80.6586 225.436 82.0853 231.021 74C231.021 74 245.366 61.0578 239.013 57.5L231.021 61.4422C230.271 59.5677 230.038 56.9633 241.66 43.5C241.66 32 236.013 28.5 210.013 47C202.209 52.553 205.513 74 205.513 74C205.513 74 186.013 122 183.013 135.5C180.013 149 175.725 155.588 183.013 164C186.069 167.527 189.699 168.915 193.016 170.536C193.016 170.536 197.46 170.306 202.144 170.536Z",fill:"#FFB9B9"})]}),Object(i.jsxs)("g",{id:"Body",children:[Object(i.jsx)("path",{id:"Vector 8",d:"M251.374 655.889L240.347 678.185L277.908 684.789L277.971 654.37L251.374 655.889Z",fill:"#FFB9B9"}),Object(i.jsx)("path",{id:"Vector 9",d:"M257.438 677.145C257.438 677.145 248.671 665.493 246.118 667.823C243.566 670.154 233.079 680.197 233.079 680.197L219.652 695.734C219.652 695.734 170.27 705.722 203.617 720.203C236.965 734.684 253.111 718.538 253.111 718.538C253.111 718.538 297.721 716.65 295.835 704.332C293.948 692.014 277.779 673.773 277.779 673.773C277.779 673.773 260.878 687.576 257.438 677.145Z",fill:"#2F2E41"}),Object(i.jsx)("path",{id:"Vector 10",d:"M288.976 393.852L263.567 470.459C263.567 470.459 247.08 511.356 243.976 539.035C241.89 557.634 243.976 586.959 243.976 586.959V677C256.365 681.664 265.109 680.511 277.873 677C277.873 677 285 607 288.976 557.959L318.433 482.959L355.976 384.852L308.976 350.852L288.976 393.852Z",fill:"#2F2E41"}),Object(i.jsx)("path",{id:"Vector 11",d:"M338.252 155C357.439 155 374 123.978 374 102.162C368.965 99.0844 357.439 76 338.252 76C319.065 76 305.524 102.162 302 108.318C302 114.579 306.265 120.5 308.545 125.76C314.211 138.828 324.571 155 338.252 155Z",fill:"#FFB9B9"}),Object(i.jsxs)("g",{id:"Top Body",children:[Object(i.jsx)("path",{id:"Vector 11 2",d:"M339 155C345.5 155 353.714 152.5 362 139C364.148 135.5 371 124.5 371 114.5C371 92 357.939 76.5 338.752 76.5C319.565 76.5 303.5 87.5 305.5 116.5C306.293 128 311.72 133.74 314 139C328 155 332.5 155 339 155Z",fill:"#FFB9B9"}),Object(i.jsx)("path",{id:"Vector 12",d:"M335.604 379.189C317.507 379.103 292.939 392.268 289.5 374.5C286.5 359 283 319 283 319L277 277C277 277 268 214 268 188L283 180.781L300.5 174.699L318.5 169L340.216 176.58L362.5 169L384 176.58L406.5 185.5C406.5 215 399.5 277 399.5 277L394 319L389 374.5C377.357 389.5 354.592 379.28 335.604 379.189Z",fill:"#575A89"}),Object(i.jsx)("path",{id:"Vector 13",d:"M324 146.5L320.445 166.521L320.768 173.346L341.275 191L359.29 171.52C359.29 171.52 354.217 147.277 354.5 146.5C354.783 145.723 324 146.5 324 146.5Z",fill:"#FFB9B9"}),Object(i.jsx)("path",{id:"Vector 7 2",d:"M361.264 59.8592C362.395 61.4715 362.678 64.5619 362.678 65.9055C340.82 44.0414 317.785 52.7646 309 59.8592C302.212 59.8592 292.228 65.2338 290.5 59.8592C288.991 67.3835 301.928 68.824 303.185 71.7353C294.889 71.7353 303.185 77.3263 283.5 77.3263C285.763 83.2385 301.722 85.7312 298 90C293 95.7353 291.757 98.5735 290.5 103.5L299.5 95.7353V96.5C299.5 114.9 303.5 119.167 305.5 119C304.5 98.5 307.333 100.49 310.5 90C308.5 99.2 314 104.5 317 106V101C317.4 89.9035 324.5 83.3765 328 81.5C324 85.6737 327 101 328 96.5C328.8 92.9 332.667 89.1569 334.5 87.7353C340.5 83.4706 349.5 80.5 354.5 81.5C358.5 82.3 355 87.7353 366.5 99C367.252 101.5 369.748 125 371.5 120.5C372.902 116.9 373.677 112.112 373.889 110.168C374.643 96.1942 377 93 374.5 79.5C371.5 70.5 370.062 69.0406 367.391 68.5927C368 66.5 369.5 65 371.5 62C367.391 62 365.82 66.8012 365.034 68.5927C365.5 60 359.849 57.8437 361.264 59.8592Z",fill:"black",stroke:"black"})]})]}),Object(i.jsxs)("g",{id:"Laptop",children:[Object(i.jsx)("path",{id:"Vector 14",d:"M960.232 295.362H700.062V290H582.091V295.362H320.849C318.538 295.362 316.25 295.818 314.114 296.702C311.979 297.586 310.039 298.883 308.405 300.517C306.771 302.151 305.475 304.091 304.59 306.226C303.706 308.361 303.251 310.65 303.251 312.961V669.213C303.251 671.524 303.706 673.813 304.59 675.948C305.475 678.083 306.771 680.023 308.405 681.657C310.039 683.291 311.979 684.588 314.114 685.472C316.25 686.356 318.538 686.812 320.849 686.812H960.232C964.899 686.812 969.375 684.957 972.676 681.657C975.976 678.357 977.83 673.88 977.83 669.213V312.961C977.83 310.65 977.375 308.361 976.491 306.226C975.606 304.091 974.31 302.151 972.676 300.517C971.042 298.883 969.102 297.586 966.966 296.702C964.831 295.818 962.543 295.362 960.232 295.362Z",fill:"#3F3D56"}),Object(i.jsx)("path",{id:"Vector 15",d:"M954.236 326.464H326.845V680.377H954.236V326.464Z",fill:"url(#paint1_linear)"}),Object(i.jsx)("path",{id:"Vector 16",d:"M640.004 316.812C643.558 316.812 646.439 313.931 646.439 310.377C646.439 306.823 643.558 303.942 640.004 303.942C636.45 303.942 633.569 306.823 633.569 310.377C633.569 313.931 636.45 316.812 640.004 316.812Z",fill:"#FF637F"}),Object(i.jsx)("path",{id:"Vector 17",opacity:"0.1",d:"M774.813 680.377H326.845V326.464L774.813 680.377Z",fill:"black"}),Object(i.jsx)("path",{id:"Vector 18",d:"M623.307 502.614C656.613 502.614 683.614 475.613 683.614 442.307C683.614 409 656.613 382 623.307 382C590 382 563 409 563 442.307C563 475.613 590 502.614 623.307 502.614Z",fill:"#F2F2F2"}),Object(i.jsx)("path",{id:"Vector 19",d:"M597.016 543.032C582.179 543.032 567.676 538.632 555.339 530.389C543.003 522.146 533.388 510.43 527.71 496.723C522.033 483.016 520.547 467.933 523.441 453.381C526.336 438.829 533.48 425.463 543.972 414.972C554.463 404.481 567.829 397.336 582.381 394.441C596.933 391.547 612.016 393.033 625.723 398.71C639.43 404.388 651.146 414.003 659.389 426.339C667.632 438.676 672.032 453.179 672.032 468.016C672.009 487.904 664.098 506.972 650.035 521.035C635.972 535.098 616.904 543.009 597.016 543.032ZM597.016 393.981C582.373 393.981 568.059 398.323 555.884 406.458C543.709 414.593 534.22 426.156 528.616 439.684C523.013 453.212 521.547 468.098 524.403 482.459C527.26 496.821 534.311 510.013 544.665 520.367C555.019 530.721 568.211 537.772 582.572 540.628C596.934 543.485 611.82 542.019 625.348 536.415C638.876 530.812 650.439 521.323 658.574 509.148C666.709 496.973 671.051 482.659 671.051 468.016C671.029 448.387 663.222 429.569 649.342 415.69C635.463 401.81 616.644 394.003 597.016 393.981Z",fill:"#3F3D56"}),Object(i.jsxs)("g",{id:"Vector 20",children:[Object(i.jsx)("path",{id:"Vector 2 2",d:"M850.456 620.343H791.851V632.589H850.456V620.343Z",fill:"#3F3D56"}),Object(i.jsx)("path",{id:"Vector 3 2",d:"M921.307 525H721V530.248H921.307V525Z",fill:"#3F3D56"}),Object(i.jsx)("path",{id:"Vector 4 3",d:"M921.307 541.619H721V546.868H921.307V541.619Z",fill:"#3F3D56"}),Object(i.jsx)("path",{id:"Vector 5 3",d:"M921.307 558.239H721V563.487H921.307V558.239Z",fill:"#3F3D56"}),Object(i.jsx)("path",{id:"Vector 6 3",d:"M921.307 574.858H721V580.106H921.307V574.858Z",fill:"#3F3D56"}),Object(i.jsx)("path",{id:"Vector 7 3",d:"M921.307 591.478H721V596.726H921.307V591.478Z",fill:"#3F3D56"})]}),Object(i.jsx)("path",{id:"Vector 21",d:"M995.446 673.942H934.217V669.53C934.217 669.416 934.194 669.302 934.15 669.196C934.106 669.09 934.042 668.993 933.961 668.912C933.879 668.831 933.783 668.766 933.677 668.722C933.571 668.678 933.457 668.656 933.342 668.656H912.349C912.234 668.656 912.121 668.678 912.014 668.722C911.908 668.766 911.812 668.831 911.731 668.912C911.649 668.993 911.585 669.09 911.541 669.196C911.497 669.302 911.475 669.416 911.475 669.53V673.942H898.354V669.53C898.354 669.416 898.331 669.302 898.287 669.196C898.243 669.09 898.179 668.993 898.098 668.912C898.016 668.831 897.92 668.766 897.814 668.722C897.708 668.678 897.594 668.656 897.479 668.656H876.486C876.371 668.656 876.258 668.678 876.152 668.722C876.045 668.766 875.949 668.831 875.868 668.912C875.787 668.993 875.722 669.09 875.678 669.196C875.634 669.302 875.612 669.416 875.612 669.53V673.942H862.491V669.53C862.491 669.416 862.468 669.302 862.424 669.196C862.381 669.09 862.316 668.993 862.235 668.912C862.154 668.831 862.057 668.766 861.951 668.722C861.845 668.678 861.731 668.656 861.616 668.656H840.623C840.508 668.656 840.395 668.678 840.289 668.722C840.183 668.766 840.086 668.831 840.005 668.912C839.924 668.993 839.859 669.09 839.815 669.196C839.771 669.302 839.749 669.416 839.749 669.53V673.942H826.628V669.53C826.628 669.416 826.606 669.302 826.562 669.196C826.518 669.09 826.453 668.993 826.372 668.912C826.291 668.831 826.194 668.766 826.088 668.722C825.982 668.678 825.868 668.656 825.753 668.656H804.761C804.646 668.656 804.532 668.678 804.426 668.722C804.32 668.766 804.223 668.831 804.142 668.912C804.061 668.993 803.996 669.09 803.952 669.196C803.908 669.302 803.886 669.416 803.886 669.53V673.942H790.765V669.53C790.765 669.416 790.743 669.302 790.699 669.196C790.655 669.09 790.59 668.993 790.509 668.912C790.428 668.831 790.331 668.766 790.225 668.722C790.119 668.678 790.005 668.656 789.891 668.656H768.898C768.783 668.656 768.669 668.678 768.563 668.722C768.457 668.766 768.36 668.831 768.279 668.912C768.198 668.993 768.133 669.09 768.09 669.196C768.046 669.302 768.023 669.416 768.023 669.53V673.942H754.902V669.53C754.902 669.416 754.88 669.302 754.836 669.196C754.792 669.09 754.727 668.993 754.646 668.912C754.565 668.831 754.469 668.766 754.362 668.722C754.256 668.678 754.143 668.656 754.028 668.656H733.035C732.92 668.656 732.806 668.678 732.7 668.722C732.594 668.766 732.497 668.831 732.416 668.912C732.335 668.993 732.271 669.09 732.227 669.196C732.183 669.302 732.16 669.416 732.16 669.53V673.942H719.04V669.53C719.04 669.416 719.017 669.302 718.973 669.196C718.929 669.09 718.865 668.993 718.783 668.912C718.702 668.831 718.606 668.766 718.5 668.722C718.393 668.678 718.28 668.656 718.165 668.656H553.72C553.605 668.656 553.492 668.678 553.386 668.722C553.279 668.766 553.183 668.831 553.102 668.912C553.021 668.993 552.956 669.09 552.912 669.196C552.868 669.302 552.846 669.416 552.846 669.53V673.942H539.725V669.53C539.725 669.416 539.702 669.302 539.658 669.196C539.615 669.09 539.55 668.993 539.469 668.912C539.388 668.831 539.291 668.766 539.185 668.722C539.079 668.678 538.965 668.656 538.85 668.656H517.858C517.743 668.656 517.629 668.678 517.523 668.722C517.417 668.766 517.32 668.831 517.239 668.912C517.158 668.993 517.093 669.09 517.049 669.196C517.005 669.302 516.983 669.416 516.983 669.53V673.942H503.862V669.53C503.862 669.416 503.84 669.302 503.796 669.196C503.752 669.09 503.687 668.993 503.606 668.912C503.525 668.831 503.428 668.766 503.322 668.722C503.216 668.678 503.102 668.656 502.987 668.656H481.995C481.88 668.656 481.766 668.678 481.66 668.722C481.554 668.766 481.457 668.831 481.376 668.912C481.295 668.993 481.23 669.09 481.186 669.196C481.142 669.302 481.12 669.416 481.12 669.53V673.942H467.999V669.53C467.999 669.416 467.977 669.302 467.933 669.196C467.889 669.09 467.824 668.993 467.743 668.912C467.662 668.831 467.565 668.766 467.459 668.722C467.353 668.678 467.239 668.656 467.125 668.656H446.132C446.017 668.656 445.903 668.678 445.797 668.722C445.691 668.766 445.594 668.831 445.513 668.912C445.432 668.993 445.368 669.09 445.324 669.196C445.28 669.302 445.257 669.416 445.257 669.53V673.942H432.136V669.53C432.136 669.416 432.114 669.302 432.07 669.196C432.026 669.09 431.961 668.993 431.88 668.912C431.799 668.831 431.703 668.766 431.596 668.722C431.49 668.678 431.377 668.656 431.262 668.656H410.269C410.154 668.656 410.04 668.678 409.934 668.722C409.828 668.766 409.732 668.831 409.65 668.912C409.569 668.993 409.505 669.09 409.461 669.196C409.417 669.302 409.394 669.416 409.394 669.53V673.942H396.274V669.53C396.274 669.416 396.251 669.302 396.207 669.196C396.163 669.09 396.099 668.993 396.017 668.912C395.936 668.831 395.84 668.766 395.734 668.722C395.627 668.678 395.514 668.656 395.399 668.656H374.406C374.291 668.656 374.177 668.678 374.071 668.722C373.965 668.766 373.869 668.831 373.787 668.912C373.706 668.993 373.642 669.09 373.598 669.196C373.554 669.302 373.531 669.416 373.531 669.53V673.942H360.411V669.53C360.411 669.416 360.388 669.302 360.344 669.196C360.3 669.09 360.236 668.993 360.154 668.912C360.073 668.831 359.977 668.766 359.871 668.722C359.765 668.678 359.651 668.656 359.536 668.656H338.543C338.428 668.656 338.314 668.678 338.208 668.722C338.102 668.766 338.006 668.831 337.925 668.912C337.843 668.993 337.779 669.09 337.735 669.196C337.691 669.302 337.668 669.416 337.668 669.53V673.942H297.432C291.864 673.942 286.525 676.154 282.588 680.091C278.651 684.028 276.439 689.367 276.439 694.935V704.427C276.439 709.995 278.651 715.335 282.588 719.272C286.525 723.209 291.864 725.42 297.432 725.42H995.446C1001.01 725.42 1006.35 723.209 1010.29 719.272C1014.23 715.335 1016.44 709.995 1016.44 704.427V694.935C1016.44 689.367 1014.23 684.028 1010.29 680.091C1006.35 676.154 1001.01 673.942 995.446 673.942Z",fill:"#3F3D56"}),Object(i.jsxs)("g",{id:"Vector 22",children:[Object(i.jsx)("path",{id:"Vector 8 2",d:"M721 395.576H736.264C739.912 395.576 743.128 396.28 745.912 397.688C748.728 399.064 750.904 401.016 752.44 403.544C754.008 406.072 754.792 409.016 754.792 412.376C754.792 415.736 754.008 418.68 752.44 421.208C750.904 423.736 748.728 425.704 745.912 427.112C743.128 428.488 739.912 429.176 736.264 429.176H721V395.576ZM735.88 422.792C739.24 422.792 741.912 421.864 743.896 420.008C745.912 418.12 746.92 415.576 746.92 412.376C746.92 409.176 745.912 406.648 743.896 404.792C741.912 402.904 739.24 401.96 735.88 401.96H728.776V422.792H735.88Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector 9 2",d:"M776.928 429.752C773.44 429.752 770.288 429 767.472 427.496C764.688 425.992 762.496 423.928 760.896 421.304C759.328 418.648 758.544 415.672 758.544 412.376C758.544 409.08 759.328 406.12 760.896 403.496C762.496 400.84 764.688 398.76 767.472 397.256C770.288 395.752 773.44 395 776.928 395C780.416 395 783.552 395.752 786.336 397.256C789.12 398.76 791.312 400.84 792.912 403.496C794.512 406.12 795.312 409.08 795.312 412.376C795.312 415.672 794.512 418.648 792.912 421.304C791.312 423.928 789.12 425.992 786.336 427.496C783.552 429 780.416 429.752 776.928 429.752ZM776.928 423.128C778.912 423.128 780.704 422.68 782.304 421.784C783.904 420.856 785.152 419.576 786.048 417.944C786.976 416.312 787.44 414.456 787.44 412.376C787.44 410.296 786.976 408.44 786.048 406.808C785.152 405.176 783.904 403.912 782.304 403.016C780.704 402.088 778.912 401.624 776.928 401.624C774.944 401.624 773.152 402.088 771.552 403.016C769.952 403.912 768.688 405.176 767.76 406.808C766.864 408.44 766.416 410.296 766.416 412.376C766.416 414.456 766.864 416.312 767.76 417.944C768.688 419.576 769.952 420.856 771.552 421.784C773.152 422.68 774.944 423.128 776.928 423.128Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector 10 2",d:"M822.815 421.976H807.215L804.24 429.176H796.271L811.247 395.576H818.927L833.951 429.176H825.792L822.815 421.976ZM820.368 416.072L815.04 403.208L809.712 416.072H820.368Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector 11 3",d:"M868.253 395.576V429.176H861.87L845.118 408.776V429.176H837.438V395.576H843.869L860.574 415.976V395.576H868.253Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector 12 2",d:"M751.816 454.576V488.176H745.432L728.68 467.776V488.176H721V454.576H727.432L744.136 474.976V454.576H751.816Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector 13 2",d:"M782.47 470.848H789.574V484.48C787.75 485.856 785.638 486.912 783.238 487.648C780.838 488.384 778.422 488.752 775.99 488.752C772.502 488.752 769.366 488.016 766.582 486.544C763.798 485.04 761.606 482.976 760.006 480.352C758.438 477.696 757.654 474.704 757.654 471.376C757.654 468.048 758.438 465.072 760.006 462.448C761.606 459.792 763.814 457.728 766.63 456.256C769.446 454.752 772.614 454 776.134 454C779.078 454 781.75 454.496 784.15 455.488C786.55 456.48 788.566 457.92 790.198 459.808L785.206 464.416C782.806 461.888 779.91 460.624 776.518 460.624C774.374 460.624 772.47 461.072 770.806 461.968C769.142 462.864 767.846 464.128 766.918 465.76C765.99 467.392 765.526 469.264 765.526 471.376C765.526 473.456 765.99 475.312 766.918 476.944C767.846 478.576 769.126 479.856 770.758 480.784C772.422 481.68 774.31 482.128 776.422 482.128C778.662 482.128 780.678 481.648 782.47 480.688V470.848Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector 14 2",d:"M811.725 488.752C806.925 488.752 803.181 487.424 800.493 484.768C797.837 482.112 796.509 478.32 796.509 473.392V454.576H804.285V473.104C804.285 479.12 806.781 482.128 811.773 482.128C814.205 482.128 816.061 481.408 817.341 479.968C818.621 478.496 819.261 476.208 819.261 473.104V454.576H826.941V473.392C826.941 478.32 825.597 482.112 822.909 484.768C820.253 487.424 816.525 488.752 811.725 488.752Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector 15 2",d:"M850.284 476.272V488.176H842.508V476.176L829.5 454.576H837.756L846.732 469.504L855.708 454.576H863.34L850.284 476.272Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector 16 2",d:"M892.282 481.936V488.176H866.266V454.576H891.658V460.816H873.994V468.112H889.594V474.16H873.994V481.936H892.282Z",fill:"#FFC700"}),Object(i.jsx)("path",{id:"Vector 17 2",d:"M929.285 454.576V488.176H922.901L906.149 467.776V488.176H898.469V454.576H904.901L921.605 474.976V454.576H929.285Z",fill:"#FFC700"})]}),Object(i.jsxs)("g",{id:"Logo",children:[Object(i.jsx)("path",{id:"Rectangle 1",d:"M493 332H354V352H493V332Z",fill:"white"}),Object(i.jsx)("path",{id:"DoanStack",d:"M386.494 333.4H392.218C393.586 333.4 394.792 333.664 395.836 334.192C396.892 334.708 397.708 335.44 398.284 336.388C398.872 337.336 399.166 338.44 399.166 339.7C399.166 340.96 398.872 342.064 398.284 343.012C397.708 343.96 396.892 344.698 395.836 345.226C394.792 345.742 393.586 346 392.218 346H386.494V333.4ZM392.074 343.606C393.334 343.606 394.336 343.258 395.08 342.562C395.836 341.854 396.214 340.9 396.214 339.7C396.214 338.5 395.836 337.552 395.08 336.856C394.336 336.148 393.334 335.794 392.074 335.794H389.41V343.606H392.074ZM405.775 346.144C404.755 346.144 403.837 345.934 403.021 345.514C402.217 345.082 401.587 344.488 401.131 343.732C400.675 342.976 400.447 342.118 400.447 341.158C400.447 340.198 400.675 339.34 401.131 338.584C401.587 337.828 402.217 337.24 403.021 336.82C403.837 336.388 404.755 336.172 405.775 336.172C406.795 336.172 407.707 336.388 408.511 336.82C409.315 337.24 409.945 337.828 410.401 338.584C410.857 339.34 411.085 340.198 411.085 341.158C411.085 342.118 410.857 342.976 410.401 343.732C409.945 344.488 409.315 345.082 408.511 345.514C407.707 345.934 406.795 346.144 405.775 346.144ZM405.775 343.84C406.495 343.84 407.083 343.6 407.539 343.12C408.007 342.628 408.241 341.974 408.241 341.158C408.241 340.342 408.007 339.694 407.539 339.214C407.083 338.722 406.495 338.476 405.775 338.476C405.055 338.476 404.461 338.722 403.993 339.214C403.525 339.694 403.291 340.342 403.291 341.158C403.291 341.974 403.525 342.628 403.993 343.12C404.461 343.6 405.055 343.84 405.775 343.84ZM416.71 336.172C418.21 336.172 419.362 336.532 420.166 337.252C420.97 337.96 421.372 339.034 421.372 340.474V346H418.744V344.794C418.216 345.694 417.232 346.144 415.792 346.144C415.048 346.144 414.4 346.018 413.848 345.766C413.308 345.514 412.894 345.166 412.606 344.722C412.318 344.278 412.174 343.774 412.174 343.21C412.174 342.31 412.51 341.602 413.182 341.086C413.866 340.57 414.916 340.312 416.332 340.312H418.564C418.564 339.7 418.378 339.232 418.006 338.908C417.634 338.572 417.076 338.404 416.332 338.404C415.816 338.404 415.306 338.488 414.802 338.656C414.31 338.812 413.89 339.028 413.542 339.304L412.534 337.342C413.062 336.97 413.692 336.682 414.424 336.478C415.168 336.274 415.93 336.172 416.71 336.172ZM416.494 344.254C416.974 344.254 417.4 344.146 417.772 343.93C418.144 343.702 418.408 343.372 418.564 342.94V341.95H416.638C415.486 341.95 414.91 342.328 414.91 343.084C414.91 343.444 415.048 343.732 415.324 343.948C415.612 344.152 416.002 344.254 416.494 344.254ZM429.799 336.172C430.999 336.172 431.965 336.532 432.697 337.252C433.441 337.972 433.813 339.04 433.813 340.456V346H431.005V340.888C431.005 340.12 430.837 339.55 430.501 339.178C430.165 338.794 429.679 338.602 429.043 338.602C428.335 338.602 427.771 338.824 427.351 339.268C426.931 339.7 426.721 340.348 426.721 341.212V346H423.913V336.316H426.595V337.45C426.967 337.042 427.429 336.73 427.981 336.514C428.533 336.286 429.139 336.172 429.799 336.172ZM440.697 346.216C439.701 346.216 438.735 346.084 437.799 345.82C436.875 345.544 436.131 345.19 435.567 344.758L436.557 342.562C437.097 342.958 437.739 343.276 438.483 343.516C439.227 343.756 439.971 343.876 440.715 343.876C441.543 343.876 442.155 343.756 442.551 343.516C442.947 343.264 443.145 342.934 443.145 342.526C443.145 342.226 443.025 341.98 442.785 341.788C442.557 341.584 442.257 341.422 441.885 341.302C441.525 341.182 441.033 341.05 440.409 340.906C439.449 340.678 438.663 340.45 438.051 340.222C437.439 339.994 436.911 339.628 436.467 339.124C436.035 338.62 435.819 337.948 435.819 337.108C435.819 336.376 436.017 335.716 436.413 335.128C436.809 334.528 437.403 334.054 438.195 333.706C438.999 333.358 439.977 333.184 441.129 333.184C441.933 333.184 442.719 333.28 443.487 333.472C444.255 333.664 444.927 333.94 445.503 334.3L444.603 336.514C443.439 335.854 442.275 335.524 441.111 335.524C440.295 335.524 439.689 335.656 439.293 335.92C438.909 336.184 438.717 336.532 438.717 336.964C438.717 337.396 438.939 337.72 439.383 337.936C439.839 338.14 440.529 338.344 441.453 338.548C442.413 338.776 443.199 339.004 443.811 339.232C444.423 339.46 444.945 339.82 445.377 340.312C445.821 340.804 446.043 341.47 446.043 342.31C446.043 343.03 445.839 343.69 445.431 344.29C445.035 344.878 444.435 345.346 443.631 345.694C442.827 346.042 441.849 346.216 440.697 346.216ZM454.083 345.532C453.807 345.736 453.465 345.892 453.057 346C452.661 346.096 452.241 346.144 451.797 346.144C450.645 346.144 449.751 345.85 449.115 345.262C448.491 344.674 448.179 343.81 448.179 342.67V338.692H446.685V336.532H448.179V334.174H450.987V336.532H453.399V338.692H450.987V342.634C450.987 343.042 451.089 343.36 451.293 343.588C451.509 343.804 451.809 343.912 452.193 343.912C452.637 343.912 453.015 343.792 453.327 343.552L454.083 345.532ZM459.565 336.172C461.065 336.172 462.217 336.532 463.021 337.252C463.825 337.96 464.227 339.034 464.227 340.474V346H461.599V344.794C461.071 345.694 460.087 346.144 458.647 346.144C457.903 346.144 457.255 346.018 456.703 345.766C456.163 345.514 455.749 345.166 455.461 344.722C455.173 344.278 455.029 343.774 455.029 343.21C455.029 342.31 455.365 341.602 456.037 341.086C456.721 340.57 457.771 340.312 459.187 340.312H461.419C461.419 339.7 461.233 339.232 460.861 338.908C460.489 338.572 459.931 338.404 459.187 338.404C458.671 338.404 458.161 338.488 457.657 338.656C457.165 338.812 456.745 339.028 456.397 339.304L455.389 337.342C455.917 336.97 456.547 336.682 457.279 336.478C458.023 336.274 458.785 336.172 459.565 336.172ZM459.349 344.254C459.829 344.254 460.255 344.146 460.627 343.93C460.999 343.702 461.263 343.372 461.419 342.94V341.95H459.493C458.341 341.95 457.765 342.328 457.765 343.084C457.765 343.444 457.903 343.732 458.179 343.948C458.467 344.152 458.857 344.254 459.349 344.254ZM471.554 346.144C470.522 346.144 469.592 345.934 468.764 345.514C467.948 345.082 467.306 344.488 466.838 343.732C466.382 342.976 466.154 342.118 466.154 341.158C466.154 340.198 466.382 339.34 466.838 338.584C467.306 337.828 467.948 337.24 468.764 336.82C469.592 336.388 470.522 336.172 471.554 336.172C472.574 336.172 473.462 336.388 474.218 336.82C474.986 337.24 475.544 337.846 475.892 338.638L473.714 339.808C473.21 338.92 472.484 338.476 471.536 338.476C470.804 338.476 470.198 338.716 469.718 339.196C469.238 339.676 468.998 340.33 468.998 341.158C468.998 341.986 469.238 342.64 469.718 343.12C470.198 343.6 470.804 343.84 471.536 343.84C472.496 343.84 473.222 343.396 473.714 342.508L475.892 343.696C475.544 344.464 474.986 345.064 474.218 345.496C473.462 345.928 472.574 346.144 471.554 346.144ZM481.597 342.202L480.247 343.534V346H477.439V332.644H480.247V340.204L484.351 336.316H487.699L483.667 340.42L488.059 346H484.657L481.597 342.202Z",fill:"url(#paint2_linear)"}),Object(i.jsx)("path",{id:"Vector 2 2_2",d:"M363 333.5H380.5V347.5L372 352.5H355V337.308L363 333.5Z",fill:"url(#paint3_linear)"})]})]}),Object(i.jsxs)("g",{id:"LeftArmDown",children:[Object(i.jsx)("path",{id:"Vector 5 2_2",d:"M443.652 241.604L425.152 206.604L409.152 187.104C404.152 183.604 401.152 188.604 397.152 199.604C394.152 228.104 401.28 238.135 404.152 241.604L435.152 293.104C435.152 293.104 441.392 292.627 444.652 290.604C447.945 288.56 449.347 286.534 451.152 283.104C453.114 279.373 453.229 276.798 453.652 272.604C454.928 259.947 443.652 241.604 443.652 241.604Z",fill:"#575A89"}),Object(i.jsx)("path",{id:"Vector 23",d:"M453.152 278.604C454.231 274.708 453.794 270.532 451.652 267.104C446.652 259.104 442.652 257.104 428.152 257.104C408.422 257.104 396.652 260.104 396.652 260.104L360.437 250.682C360.437 250.682 362.503 245.815 350.494 231.587C350.494 231.587 346.71 229.297 347.223 235.386C347.92 243.666 342.611 238.925 338.345 235.699C330.882 228.916 325.652 218.104 316.29 234.049C312.152 250.682 318.652 253.104 326.152 260.104C338.345 265.604 354.152 265.604 354.152 265.604C354.152 265.604 391.652 285.604 396.652 288.104C401.652 290.604 418.492 292.862 425.152 293.501C434.256 294.374 442.796 291.962 445.652 289.104C448.508 286.246 451.742 283.688 453.152 278.604Z",fill:"#FFB9B9"})]}),Object(i.jsxs)("g",{id:"Mouth",children:[Object(i.jsx)("path",{id:"Polygon 1",d:"M338.5 127L334.603 123.25H342.397L338.5 127Z",fill:"#DDA0A0"}),Object(i.jsx)("path",{id:"Smile",d:"M326 132.5C329.833 135 340.2 138.5 351 132.5",stroke:"black"}),Object(i.jsx)("path",{id:"BigSmile",d:"M338.5 136C341.5 136 347 134.5 349 133L350.5 131H338.5H327.5L329 133C332 134.5 335.5 136 338.5 136Z",fill:"white"}),Object(i.jsx)("path",{id:"Mask",d:"M338 161C336.756 161 335.259 160.555 333.627 159.803C332.002 159.055 330.285 158.024 328.61 156.897C325.953 155.107 323.439 153.1 321.603 151.634C321.138 151.263 320.716 150.926 320.346 150.636L320.34 150.628C320.314 150.599 320.277 150.556 320.228 150.499C320.13 150.385 319.987 150.217 319.805 150.002C319.44 149.572 318.921 148.951 318.302 148.192C317.063 146.673 315.43 144.604 313.844 142.396C312.256 140.185 310.726 137.85 309.689 135.798C309.169 134.771 308.782 133.831 308.569 133.024C308.352 132.205 308.333 131.584 308.474 131.158C308.497 131.091 308.634 130.909 309.13 130.68C309.594 130.466 310.259 130.262 311.116 130.073C312.826 129.697 315.207 129.4 318.047 129.178C323.721 128.735 331.158 128.594 338.556 128.687C345.954 128.781 353.3 129.109 358.792 129.6C361.54 129.845 363.81 130.13 365.386 130.444C366.178 130.602 366.77 130.763 367.154 130.919C367.326 130.989 367.433 131.049 367.494 131.093C367.48 131.202 367.445 131.355 367.375 131.557C367.286 131.82 367.15 132.135 366.971 132.5C366.613 133.23 366.096 134.123 365.467 135.125C364.211 137.126 362.531 139.521 360.846 141.83C359.162 144.138 357.478 146.353 356.214 147.991C355.582 148.811 355.055 149.485 354.687 149.955C354.503 150.19 354.358 150.374 354.259 150.499L354.147 150.641L354.145 150.643C353.411 151.221 352.524 151.989 351.544 152.838C351.311 153.04 351.072 153.246 350.829 153.456C349.536 154.572 348.103 155.787 346.618 156.913C345.131 158.039 343.603 159.067 342.124 159.811C340.639 160.557 339.239 161 338 161ZM367.539 131.132C367.539 131.132 367.538 131.131 367.536 131.129C367.539 131.131 367.539 131.132 367.539 131.132Z",fill:"#3F3D56",stroke:"black"})]}),Object(i.jsxs)("g",{id:"Eyes",children:[Object(i.jsxs)("g",{id:"RightEye",children:[Object(i.jsx)("path",{id:"Ellipse 6",d:"M359.029 109.917C359.029 110.454 358.897 110.882 358.651 111.231C358.403 111.585 358.015 111.894 357.449 112.148C356.301 112.665 354.515 112.917 352.03 112.917C349.524 112.917 347.473 112.789 346.181 112.378C345.533 112.172 345.164 111.921 344.992 111.663C344.844 111.44 344.786 111.123 344.994 110.603C345.481 109.385 345.928 108.638 346.846 108.098C347.804 107.534 349.33 107.164 352.075 106.915C354.795 106.668 356.551 106.928 357.609 107.484C358.128 107.757 358.475 108.099 358.696 108.491C358.918 108.885 359.029 109.359 359.029 109.917Z",fill:"white",stroke:"black"}),Object(i.jsx)("path",{id:"Ellipse 7",d:"M352.529 112.417C354.186 112.417 355.529 111.074 355.529 109.417C355.529 107.76 354.186 106.417 352.529 106.417C350.873 106.417 349.529 107.76 349.529 109.417C349.529 111.074 350.873 112.417 352.529 112.417Z",fill:"black"})]}),Object(i.jsxs)("g",{id:"LeftEye",children:[Object(i.jsx)("path",{id:"Ellipse 8",d:"M316.858 109.917C316.858 110.454 316.991 110.882 317.236 111.231C317.485 111.585 317.873 111.894 318.438 112.148C319.587 112.665 321.373 112.917 323.858 112.917C326.364 112.917 328.415 112.789 329.707 112.378C330.355 112.172 330.724 111.921 330.895 111.663C331.044 111.44 331.102 111.123 330.894 110.603C330.407 109.385 329.96 108.638 329.042 108.098C328.084 107.534 326.558 107.164 323.813 106.915C321.093 106.668 319.337 106.928 318.279 107.484C317.76 107.757 317.413 108.099 317.192 108.491C316.97 108.885 316.858 109.359 316.858 109.917Z",fill:"white",stroke:"black"}),Object(i.jsx)("path",{id:"Ellipse 9",d:"M324.529 112.417C322.873 112.417 321.529 111.074 321.529 109.417C321.529 107.76 322.873 106.917 324.529 106.917C326.186 106.917 327.529 107.76 327.529 109.417C327.529 111.074 326.186 112.417 324.529 112.417Z",fill:"black"})]}),Object(i.jsx)("path",{id:"Union",d:"M352.577 101.716L361.79 101.019L365.123 101.898L353.063 104.207C352.135 104.563 350.954 104.88 349.644 105.102C346.391 105.654 343.57 105.407 343.344 104.551C342.906 102.897 345.009 102.618 347.548 102.282C348.04 102.217 348.548 102.149 349.057 102.069L348.992 101.987L350.118 101.902C351.044 101.772 351.873 101.712 352.577 101.716Z",fill:"black"}),Object(i.jsx)("path",{id:"Union 2",d:"M322.649 101.743L313.45 100.885L310.102 101.706L322.12 104.225C323.041 104.597 324.216 104.935 325.522 105.18C328.765 105.788 331.59 105.59 331.832 104.739C332.298 103.092 330.2 102.777 327.667 102.396C327.177 102.322 326.67 102.246 326.162 102.157L326.229 102.077L325.105 101.972C324.181 101.826 323.353 101.751 322.649 101.743Z",fill:"black"})]})]})]})})}),Object(i.jsxs)("defs",{children:[Object(i.jsxs)("linearGradient",{id:"paint0_linear",x1:"539.5",y1:"37",x2:"539.5",y2:"97",gradientUnits:"userSpaceOnUse",children:[Object(i.jsx)("stop",{}),Object(i.jsx)("stop",{offset:"0.609375"}),Object(i.jsx)("stop",{offset:"1"})]}),Object(i.jsx)("linearGradient",{id:"paint1_linear",x1:"640.54",y1:"326.464",x2:"640.54",y2:"680.377",gradientUnits:"userSpaceOnUse",children:Object(i.jsx)("stop",{stopColor:"#F2F2F2"})}),Object(i.jsxs)("linearGradient",{id:"paint2_linear",x1:"437",y1:"329",x2:"437",y2:"344",gradientUnits:"userSpaceOnUse",children:[Object(i.jsx)("stop",{}),Object(i.jsx)("stop",{offset:"1"})]}),Object(i.jsxs)("linearGradient",{id:"paint3_linear",x1:"367.5",y1:"332",x2:"367.5",y2:"355",gradientUnits:"userSpaceOnUse",children:[Object(i.jsx)("stop",{stopColor:"#0D41F7"}),Object(i.jsx)("stop",{offset:"1",stopColor:"#F70C36"})]})]})]})})};function L(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var E=new(function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"getPublicContent",value:function(){return b.a.get("/api/test/all")}},{key:"getUserBoard",value:function(){return b.a.get("/api/test/user",{headers:L()})}},{key:"getModeratorBoard",value:function(){return b.a.get("/api/test/mod",{headers:L()})}},{key:"getAdminBoard",value:function(){return b.a.get("/api/test/admin",{headers:L()})}}]),e}()),P=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:""},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.getPublicContent().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data||t.message||t.toString()})}))}},{key:"render",value:function(){return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"Greetings, it's so nice to meet you!"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:'"Welcome to my React Web Portfolio"'})}),Object(i.jsx)("div",{className:"homeBody",children:Object(i.jsx)(M,{})})]})}}]),n}(a.a.Component),I=n(3),V=n.n(I),R=n(4),D=function(e){var t,n=e.currentUser,a=Object(r.useState)(n.username),o=Object(w.a)(a,2),s=o[0],c=o[1],l=Object(r.useState)(n.email),u=Object(w.a)(l,2),d=u[0],h=u[1],f=Object(r.useState)(n.password),m=Object(w.a)(f,2),p=m[0],v=m[1],g=Object(r.useState)(),k=Object(w.a)(g,2),y=k[0],_=k[1],x=Object(r.useState)(""),j=Object(w.a)(x,2),C=j[0],O=j[1],N=Object(r.useState)({name:"",path:""}),A=Object(w.a)(N,2),T=A[0],S=A[1],M=Object(r.useState)(0),L=Object(w.a)(M,2),E=L[0],P=L[1],I=Object(r.useRef)(),D=function(){var e=Object(R.a)(V.a.mark((function e(t){var i,r,a,o,c,l,u,h;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(T.path),""!==T.path){e.next=20;break}return i=n.avatar,t.preventDefault(),e.prev=4,r={username:s,email:d,password:p,avatar:i},e.next=8,fetch("/api/user/".concat(n.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 8:a=e.sent,o={id:n.id,username:s,avatar:i,email:d,password:p,passwordcrypt:n.passwordcrypt,roles:n.roles,accessToken:n.accessToken},localStorage.setItem("user",JSON.stringify(o)),window.location="",console.log(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0.message);case 18:e.next=36;break;case 20:return c=T.path,t.preventDefault(),e.prev=22,l={username:s,email:d,password:p,avatar:c},e.next=26,fetch("/api/user/".concat(n.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(l)});case 26:u=e.sent,h={id:n.id,username:s,avatar:c,email:d,password:p,passwordcrypt:n.passwordcrypt,roles:n.roles,accessToken:n.accessToken},localStorage.setItem("user",JSON.stringify(h)),window.location="",console.log(u),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(22),console.error(e.t1.message);case 36:case"end":return e.stop()}}),e,null,[[4,15],[22,33]])})));return function(t){return e.apply(this,arguments)}}();return y&&(t=Object(i.jsx)("img",{src:y.file,alt:"profile-img",className:"profile-img-card",style:{marginTop:"20px",marginBottom:"0px"}})),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{id:"userEdit",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Edit your profile"})})}),Object(i.jsx)("div",{className:"form-row",children:Object(i.jsxs)("div",{className:"uploadContainer",children:[Object(i.jsxs)("div",{className:"file-upload",children:[Object(i.jsx)("input",{type:"file",ref:I,onChange:function(e){P(0);var t=e.target.files[0];console.log(t),O(t),e.target.files[0]?_({file:URL.createObjectURL(e.target.files[0])}):_({file:null})},className:"inputImage",style:{overflow:"hidden"}}),Object(i.jsx)("p",{style:{width:"".concat(E,"%")},"data-value":E}),Object(i.jsx)("progress",{max:"100",value:E,className:"imageProgressBar",children:Object(i.jsx)("div",{className:"progress-bar",children:Object(i.jsx)("span",{style:{width:"".concat(E,"%")},children:E})})}),Object(i.jsx)("div",{className:"form-group profile",children:t})]}),Object(i.jsxs)("button",{id:"uploadButton",onClick:function(){var e=new FormData;e.append("file",C),b.a.post("/upload",e,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);P(t)}}).then((function(e){console.log(e),S({name:e.data.filename,path:e.data.path})})).catch((function(e){return console.log(e)}))},children:[Object(i.jsx)("i",{className:"fas fa-upload"}),Object(i.jsx)("p",{children:"Upload"})]})]})}),Object(i.jsx)("div",{className:"editUserForm",onSubmit:D,children:Object(i.jsxs)("form",{className:"mt-2 text-center",children:[Object(i.jsx)("div",{className:"form-row",children:Object(i.jsx)("div",{className:"form-group col-md-12",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Username:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:n.username,onChange:function(e){return c(e.target.value)}})]})})}),Object(i.jsx)("div",{className:"form-row",children:Object(i.jsx)("div",{className:"form-group col-md-12",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Email:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:n.email,onChange:function(e){return h(e.target.value)}})]})})}),Object(i.jsx)("div",{className:"form-row",children:Object(i.jsx)("div",{className:"form-group col-md-12",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Password:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"New Password",onChange:function(e){return v(e.target.value)}})]})})}),Object(i.jsx)("div",{className:"wrap",children:Object(i.jsxs)("button",{id:"createButton",children:[Object(i.jsx)("i",{className:"fas fa-plus"}),Object(i.jsx)("p",{children:"Save Profile"})]})})]})})]})})},z=function(e){var t=e.currentUser,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1],c=Object(r.useState)([]),l=Object(w.a)(c,2),u=l[0],d=l[1],h=Object(r.useState)([]),f=Object(w.a)(h,2),m=f[0],p=f[1];return Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/user/user_id/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,s(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.id]),Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/products/vendor_id/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,d(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.id]),Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/articles/author_id/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,p(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.id]),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{id:"userProfile",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Profile"})})}),o.map((function(e){return Object(i.jsxs)("div",{id:"profileCard",children:[!e.avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"no-avatar",className:"user-img-card",style:{marginTop:"20px"}}),e.avatar&&Object(i.jsx)("img",{src:e.avatar,alt:e.username,className:"user-img-card",style:{marginTop:"20px"}}),Object(i.jsx)("h1",{children:e.username}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Email: "}),e.email]}),!u.length&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Products: "})," no product"]}),1===u.length&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Products :"})," ",u.length," product"]}),u.length>1&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Products: "})," ",u.length," products"]}),!m.length&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Articles: "})," No article"]}),1===m.length&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Articles :"})," ",m.length," article"]}),m.length>1&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Articles: "})," ",m.length," articles"]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Roles: "}),e.roles.map((function(e){return Object(i.jsxs)("span",{style:{display:"inline-block"},children:["admin"===e.name&&Object(i.jsx)("li",{className:"btn btn-danger",style:{display:"inline-block",marginRight:"3px"},children:e.name}),"moderator"===e.name&&Object(i.jsx)("li",{className:"btn btn-warning",style:{display:"inline-block",marginRight:"3px"},children:e.name}),"user"===e.name&&Object(i.jsx)("li",{className:"btn btn-success",style:{display:"inline-block",marginRight:"3px"},children:e.name})]},e.user_roles.roleId)}))]})]},e.id)}))]})})},B=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={currentUser:y.getCurrentUser()},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.getUserBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){var e=this.state.currentUser;return null==e?Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"No Authorisation"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"No access"})}),Object(i.jsx)("div",{})]}):Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"Manage your account"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsxs)("p",{children:[!e.avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"guest",className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),e.avatar&&Object(i.jsx)("img",{src:e.avatar,className:"profile-img-card",alt:e.username,style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),e.username," is connected."]})}),Object(i.jsxs)("div",{id:"ProfileFrame",children:[Object(i.jsx)(z,{currentUser:e}),Object(i.jsx)(D,{currentUser:e})]})]})}}]),n}(a.a.Component),F=n(31),H=n(32),U=n.n(H),q=n(13);function W(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new Z(e)}}var Z=function(){function e(t){Object(c.a)(this,e),this.loader=t}return Object(l.a)(e,[{key:"upload",value:function(){return this.loader.file.then((function(e){return new Promise((function(t,n){var i=new FormData;i.append("file",e);var r,a=Object(q.a)(i.values());try{for(a.s();!(r=a.n()).done;){var o=r.value;console.log(o)}}catch(s){a.e(s)}finally{a.f()}b.a.post("/ckeditorupload",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data?t({default:e.data.url}):n(e.data.message)})).catch((function(e){n("Upload Failed")}))}))}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}}]),e}(),G=function(e){var t,n=e.currentUser,a=Object(r.useState)(),o=Object(w.a)(a,2),s=o[0],c=o[1],l=Object(r.useState)("".concat(n.id)),u=Object(w.a)(l,2),d=u[0],h=u[1],f=Object(r.useState)("".concat(n.username)),m=Object(w.a)(f,2),p=m[0],v=m[1],g=Object(r.useState)("".concat(n.avatar)),k=Object(w.a)(g,2),y=k[0],_=k[1],x=Object(r.useState)(),j=Object(w.a)(x,2),C=j[0],O=j[1],N=Object(r.useState)(""),A=Object(w.a)(N,2),T=A[0],S=A[1],M=Object(r.useState)("0.00"),L=Object(w.a)(M,2),E=L[0],P=L[1],I=Object(r.useState)("0"),D=Object(w.a)(I,2),z=D[0],B=D[1],H=Object(r.useState)("Others"),q=Object(w.a)(H,2),Z=q[0],G=q[1],Y=Object(r.useState)(),Q=Object(w.a)(Y,2),K=Q[0],$=Q[1],J=Object(r.useState)(),X=Object(w.a)(J,2),ee=X[0],te=X[1],ne=Object(r.useState)(""),ie=Object(w.a)(ne,2),re=ie[0],ae=ie[1],oe=Object(r.useState)({name:"",path:""}),se=Object(w.a)(oe,2),ce=se[0],le=se[1],ue=Object(r.useState)(0),de=Object(w.a)(ue,2),he=de[0],fe=de[1],me=Object(r.useRef)(),pe=function(){var e=Object(R.a)(V.a.mark((function e(t){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={name:s,vendor:p,vendor_id:d,vendor_avatar:y,description:C,price:E,quantity:z,status:K,category:Z,image:T},e.next=5,fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.clone().json()}));case 5:"400"===(i=e.sent).status?te(i.message):window.location="",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return T&&(t=Object(i.jsx)("img",{src:T.file,alt:""})),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{id:"productCreate",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Add a new product"})})}),Object(i.jsx)("div",{className:"form-row",children:Object(i.jsxs)("div",{className:"uploadContainer",children:[Object(i.jsxs)("div",{className:"file-upload",children:[Object(i.jsx)("input",{type:"file",ref:me,onChange:function(e){fe(0);var t=e.target.files[0];console.log(t),ae(t),e.target.files[0]?S({file:URL.createObjectURL(e.target.files[0])}):S({file:null})},className:"inputImage",style:{overflow:"hidden"}}),Object(i.jsx)("p",{style:{width:"".concat(he,"%")},"data-value":he}),Object(i.jsx)("progress",{max:"100",value:he,className:"imageProgressBar",children:Object(i.jsx)("div",{className:"progress-bar",children:Object(i.jsx)("span",{style:{width:"".concat(he,"%")},children:he})})}),Object(i.jsx)("div",{className:"form-group preview",children:t})]}),Object(i.jsxs)("button",{id:"uploadButton",onClick:function(){var e=new FormData;e.append("file",re),b.a.post("/upload",e,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);fe(t)}}).then((function(e){console.log(e),le({name:e.data.name,path:e.data.path})})).catch((function(e){return console.log(e)}))},children:[Object(i.jsx)("i",{className:"fas fa-upload"}),Object(i.jsx)("p",{children:"Upload"})]})]})}),Object(i.jsxs)("form",{className:"mt-5",style:{maxWidth:"780px",margin:"auto"},onSubmit:pe,children:[Object(i.jsx)("div",{id:"AlertMessage",children:ee&&Object(i.jsxs)("p",{children:["Error: ",ee]})}),Object(i.jsxs)("div",{className:"form-row",children:[Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Name:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"Product Name..",onChange:function(e){return c(e.target.value)}})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Vendor:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:p,onChange:function(e){return v(e.target.value)}}),Object(i.jsx)("input",{type:"hidden",className:"form-control",placeholder:d,onChange:function(e){return h(e.target.value)}}),Object(i.jsx)("input",{type:"hidden",className:"form-control",placeholder:y,onChange:function(e){return _(e.target.value)}})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Quantity"})}),Object(i.jsx)("input",{type:"number",min:"0",step:"1",value:z,onChange:function(e){return B(e.target.value)},className:"form-control"})]})})]}),Object(i.jsx)("div",{className:"editor",children:Object(i.jsx)(F.CKEditor,{editor:U.a,data:"<p>Write a description for you product..</p>",config:{extraPlugins:[W]},onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var n=t.getData();O(n),console.log({event:e,editor:t,data:n})},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})}),Object(i.jsxs)("div",{className:"form-row mt-3",children:[Object(i.jsx)("div",{className:"form-group col-md-2",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"\u20ac"})}),Object(i.jsx)("input",{type:"number",min:"0.00",step:"0.05",value:E,onChange:function(e){return P(e.target.value)},className:"form-control"})]})}),Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Status:"})}),Object(i.jsxs)("select",{id:"selectStatus",className:"form-control",onChange:function(e){return $(e.target.value)},children:[Object(i.jsx)("option",{value:"false",children:"Waiting"}),Object(i.jsx)("option",{value:"true",children:"On Sale"})]})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Category:"})}),Object(i.jsxs)("select",{id:"selectCat",className:"form-control",onChange:function(e){return G(e.target.value)},children:[Object(i.jsx)("option",{value:"others",children:"Choose.."}),Object(i.jsx)("option",{children:"Cosmetic"}),Object(i.jsx)("option",{children:"Fashion"}),Object(i.jsx)("option",{children:"PC"}),Object(i.jsx)("option",{children:"Estate"}),Object(i.jsx)("option",{children:"Services"})]})]})})]}),Object(i.jsx)("div",{className:"wrap",children:Object(i.jsxs)("button",{id:"createButton",onClick:function(e){return S(ce.path)},children:[Object(i.jsx)("i",{className:"fas fa-plus"}),Object(i.jsx)("p",{children:"ADD PRODUCT"})]})})]})]})})},Y=n(57),Q=n.n(Y),K=function(e){var t=e.product,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1],c=[];return Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productimgs/product_id/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,s(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.id]),Object(r.useEffect)((function(){c.push({original:t.image,thumbnail:t.image});for(var e=0;e<o.length;e++)c.push({original:o[e].path,thumbnail:o[e].path})})),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{className:"productContainer",children:[Object(i.jsxs)("div",{className:"productHeader",children:[Object(i.jsx)(Q.a,{showBullets:!0,showIndex:!0,slideOnThumbnailOver:!0,items:c}),Object(i.jsx)("div",{className:"productName",children:t.name}),Object(i.jsxs)("div",{id:"ProductInfo",style:{display:"flex",flexDirection:"column"},children:[Object(i.jsx)("div",{id:"ProductInfoTop",style:{width:"50%",margin:"auto"},children:Object(i.jsx)("div",{id:"productPrice",children:Object(i.jsx)("p",{children:new Intl.NumberFormat("fr-BE",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t.price)})})}),Object(i.jsxs)("div",{id:"ProductInfoBottom",style:{margin:"auto"},children:[Object(i.jsx)("div",{className:"productVendor",children:Object(i.jsxs)("p",{children:["null"===t.vendor_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",className:"user-img-card",alt:t.author,style:{width:"40px",height:"40px",display:"inline-block",marginBottom:"0"}}),"null"!==t.vendor_avatar&&Object(i.jsx)("img",{src:t.vendor_avatar,className:"user-img-card",alt:t.author,style:{width:"40px",height:"40px",display:"inline-block",marginBottom:"0"}}),Object(i.jsx)("b",{children:t.vendor})]})}),Object(i.jsx)("div",{className:"productDate",children:Object(i.jsx)("p",{children:Object(i.jsxs)("b",{children:["Since \xa0",new Intl.DateTimeFormat("nl-BE",{year:"2-digit",month:"2-digit",day:"2-digit"}).format(Date.parse(t.createdAt))]})})}),!1===t.status&&Object(i.jsx)("div",{className:"productStatus",children:Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Waiting "}),Object(i.jsx)("i",{className:"fas fa-circle",id:"ProductStatusFalse"})]})}),!0===t.status&&Object(i.jsx)("div",{className:"productStatus",children:Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"On Sale "}),Object(i.jsx)("i",{className:"fas fa-circle",id:"ProductStatusTrue"})]})}),Object(i.jsx)("div",{className:"productStock",children:Object(i.jsx)("p",{style:{color:"rgb(204, 7, 7)"},children:Object(i.jsxs)("b",{children:[t.quantity," ",Object(i.jsx)("span",{style:{color:"black"},children:"pcs left"})]})})})]})]})]}),Object(i.jsx)("div",{className:"productBody",children:Object(i.jsx)("div",{className:"productDescription",children:Object(i.jsx)("div",{className:"productDescription",dangerouslySetInnerHTML:{__html:t.description}})})})]})})},$=function(e){var t=e.product;return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("button",{type:"button",id:"miniViewButton","data-toggle":"modal","data-target":"#id".concat(t.id),children:[Object(i.jsx)("i",{className:"fas fa-eye"})," ",Object(i.jsx)("p",{children:"View"})]}),Object(i.jsx)("div",{className:"modal",id:"id".concat(t.id),children:Object(i.jsx)("div",{className:"modal-dialog modal-xl",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsxs)("h1",{className:"modal-title",children:[t.category," / ",t.name]}),Object(i.jsx)("button",{type:"button",id:"closeButton","data-dismiss":"modal",children:Object(i.jsx)("i",{className:"far fa-times-circle"})})]}),Object(i.jsx)("div",{className:"modal-body",children:Object(i.jsx)(K,{product:t})}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsx)("button",{type:"button",id:"closeButton","data-dismiss":"modal",children:Object(i.jsx)("i",{className:"far fa-times-circle"})})})]})})})]})},J=function(e){var t=e.product,n=Object(r.useState)(t.id),a=Object(w.a)(n,1)[0],o=Object(r.useState)(t.name),s=Object(w.a)(o,2),c=s[0],l=s[1],u=Object(r.useState)(t.vendor_id),d=Object(w.a)(u,1)[0],h=Object(r.useState)(t.vendor),f=Object(w.a)(h,2),m=f[0],p=f[1],v=Object(r.useState)(t.description),g=Object(w.a)(v,2),k=g[0],y=g[1],_=Object(r.useState)(t.price),x=Object(w.a)(_,2),j=x[0],C=x[1],O=Object(r.useState)(t.quantity),N=Object(w.a)(O,2),A=N[0],T=N[1],S=Object(r.useState)(t.status),M=Object(w.a)(S,2),L=M[0],E=M[1],P=Object(r.useState)(t.category),I=Object(w.a)(P,2),D=I[0],z=I[1],B=Object(r.useState)(),H=Object(w.a)(B,2),Z=H[0],G=H[1],Y=Object(r.useState)(""),Q=Object(w.a)(Y,2),K=Q[0],$=Q[1],J=Object(r.useState)({name:"",path:""}),X=Object(w.a)(J,2),ee=X[0],te=X[1],ne=Object(r.useState)(0),ie=Object(w.a)(ne,2),re=ie[0],ae=ie[1],oe=Object(r.useRef)(),se=Object(r.useState)([]),ce=Object(w.a)(se,2),le=ce[0],ue=ce[1],de=Object(r.useState)([]),he=Object(w.a)(de,2),fe=he[0],me=he[1],pe=Object(r.useState)(),ve=Object(w.a)(pe,2),ge=ve[0],be=ve[1],ke=Object(r.useState)([]),ye=Object(w.a)(ke,2),we=ye[0],_e=ye[1],xe=Object(r.useState)(0),je=Object(w.a)(xe,2),Ce=je[0],Oe=je[1],Ne=Object(r.useRef)(),Ae=Object(r.useState)([]),Te=Object(w.a)(Ae,2),Se=Te[0],Me=Te[1],Le=Object(r.useState)(5),Ee=Object(w.a)(Le,2),Pe=Ee[0],Ie=Ee[1],Ve=Object(r.useState)([]),Re=Object(w.a)(Ve,1)[0],De=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productimgs/".concat(t),{method:"DELETE"});case 3:n=e.sent,Me(Se.filter((function(e){return e.id!==t}))),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(R.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{_e(we.filter((function(e){return e!==t}))),me(fe.filter((function(e){return e!==t}))),console.log(le),Ie(Pe+1)}catch(n){console.error(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productimgs/product_id/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,Me(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.id]),Object(r.useEffect)((function(){var e=5-Se.length;Ie(e)}),[Se]);var Be,Fe,He,Ue=function(){var e=Object(R.a)(V.a.mark((function e(n){var i,r,a,o,s,l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(ee.path),""!==ee.path){e.next=18;break}return i=t.image,n.preventDefault(),e.prev=4,r={description:k,name:c,vendor:m,image:i,price:j,status:L,category:D,quantity:A},e.next=8,fetch("/api/products/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 8:a=e.sent,window.location="",console.log(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0.message);case 16:e.next=33;break;case 18:return o=ee.path,console.log(o),n.preventDefault(),e.prev=21,s={description:k,name:c,vendor:m,image:o,price:j,status:L,category:D,quantity:A},e.next=25,fetch("/api/products/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 25:l=e.sent,window.location="",console.log(l),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(21),console.error(e.t1.message);case 33:case"end":return e.stop()}}),e,null,[[4,13],[21,30]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(R.a)(V.a.mark((function e(t){var n,i,r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!we){e.next=20;break}n=0;case 3:if(!(n<we.length)){e.next=20;break}return i=we[n],console.log(i),e.prev=6,r={path:i,vendor_id:d,product_id:a},e.next=10,fetch("/api/productimgs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 10:o=e.sent,console.log(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error(e.t0.message);case 17:n++,e.next=3;break;case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();if(K&&(Be=Object(i.jsx)("img",{src:K.file,alt:""})),le)for(var We=0;We<le.length;We++)Fe=le.map((function(e){return Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:e,alt:""})},e)}));if(we)for(var Ze=0;Ze<we.length;Ze++)He=we.map((function(e){return Object(i.jsxs)("div",{className:"galeryItem",style:{position:"relative",maxWidth:"130px",margin:"5px"},children:[Object(i.jsx)("button",{className:"tinyDeleteButton",onClick:function(){return ze(e)},style:{position:"absolute",right:"0"},children:Object(i.jsx)("i",{className:"far fa-trash-alt"})}),Object(i.jsx)("img",{src:e,className:"galeryImage",alt:"",style:{maxWidth:"130px",height:"auto",border:"1px solid rgb(189, 184, 184)"}})]},e)}));return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("button",{type:"button",id:"miniEditButton","data-toggle":"modal","data-target":"#Edit-id".concat(t.id),children:[Object(i.jsx)("i",{className:"far fa-edit"})," ",Object(i.jsx)("p",{children:"Edit"})]}),Object(i.jsx)("div",{className:"modal",id:"Edit-id".concat(t.id),children:Object(i.jsx)("div",{className:"modal-dialog modal-xl",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsx)("h4",{className:"modal-name",children:"Edit Product"}),Object(i.jsx)("button",{type:"button",id:"closeButton","data-dismiss":"modal",onClick:function(){y(t.description),l(t.name),C(t.price),E(t.status),p(t.vendor),T(t.quantity)},children:Object(i.jsx)("i",{className:"far fa-times-circle"})})]}),Object(i.jsxs)("div",{className:"modal-body",children:[Object(i.jsxs)("div",{className:"uploadContainer",children:[Object(i.jsx)("p",{style:{textAlign:"center"},children:"Change your product image:"}),Object(i.jsxs)("div",{className:"file-upload",children:[Object(i.jsx)("input",{type:"file",name:"file",ref:oe,multiple:!0,onChange:function(e){ae(0);var t=e.target.files[0];console.log(t),G(e.target.files[0]),e.target.files?$({file:URL.createObjectURL(e.target.files[0])}):$({file:null})},className:"inputImage"}),Object(i.jsx)("p",{style:{width:"".concat(re,"%")},"data-value":re}),Object(i.jsx)("progress",{max:"100",value:re,className:"imageProgressBar",children:Object(i.jsx)("div",{className:"progress-bar",children:Object(i.jsx)("span",{style:{width:"".concat(re,"%")},children:re})})}),Object(i.jsx)("div",{className:"form-group preview",children:Be})]}),Object(i.jsxs)("button",{id:"uploadButton",onClick:function(){var e=new FormData;e.append("file",Z);var t,n=Object(q.a)(e.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;console.log(i)}}catch(r){n.e(r)}finally{n.f()}b.a.post("/upload",e,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);ae(t)}}).then((function(e){console.log(e),te({name:e.data.name,path:e.data.path})})).catch((function(e){return console.log(e)}))},children:[Object(i.jsx)("i",{className:"fas fa-upload"}),Object(i.jsx)("p",{children:"Upload"})]})]}),Object(i.jsxs)("div",{className:"uploadContainer",style:{marginTop:"20px"},children:[Object(i.jsx)("p",{style:{textAlign:"center"},children:"Add more images for your product (max:5!)"}),Object(i.jsxs)("div",{className:"file-upload",children:[Object(i.jsx)("p",{children:"Your product galery"}),Object(i.jsxs)("div",{className:"productGalery",style:{width:"100%",backgroundColor:" #414141",display:"flex",flexDirection:"row",flexWrap:"wrap",border:"1px solid rgb(189, 184, 184)",marginBottom:"10px",justifyContent:"center"},children:[Se.map((function(e){return Object(i.jsxs)("div",{className:"galeryItem",style:{position:"relative",maxWidth:"130px",margin:"5px"},children:[Object(i.jsx)("button",{className:"tinyDeleteButton",onClick:function(){return De(e.id)},style:{position:"absolute",right:"0"},children:Object(i.jsx)("i",{className:"far fa-trash-alt"})}),Object(i.jsx)("img",{src:e.path,className:"galeryImage",alt:"",style:{maxWidth:"130px",height:"auto",border:"1px solid rgb(189, 184, 184)"}})]},e.id)})),He]}),Object(i.jsx)("input",{type:"file",name:"file",ref:Ne,multiple:!0,onChange:function(e){var t=e.target.files;if(t.length>5)be("Cannot exceed 5!");else if(be(),Oe(0),console.log(t),t.length<=Pe)if(e.target.files){for(var n=0;n<t.length;n++)le.push(URL.createObjectURL(t[n])),fe.push(t[n]);console.log(5),console.log(t.length);var i=Pe-t.length;Ie(i)}else ue({file:null});else be("Cannot exceed 5!")},className:"inputImage"}),0===Pe&&Object(i.jsxs)("small",{id:"emailHelp",className:"form-text text-muted",children:["Your product galery is",Object(i.jsx)("span",{style:{color:"red"},children:" full"}),"."]}),1===Pe&&Object(i.jsxs)("small",{id:"emailHelp",className:"form-text text-muted",children:[Object(i.jsx)("span",{style:{color:"blue"},children:Pe})," image left"]}),Pe>1&&Object(i.jsxs)("small",{id:"emailHelp",className:"form-text text-muted",children:[Object(i.jsx)("span",{style:{color:"blue"},children:Pe})," images available"]}),ge&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:ge}),Object(i.jsx)("p",{style:{width:"".concat(Ce,"%")},"data-value":Ce}),Object(i.jsx)("progress",{max:"100",value:Ce,className:"imageProgressBar",children:Object(i.jsx)("div",{className:"progress-bar",children:Object(i.jsx)("span",{style:{width:"".concat(Ce,"%")},children:Ce})})}),Object(i.jsx)("div",{className:"form-group preview",children:Fe})]}),Object(i.jsxs)("button",{id:"uploadButton",onClick:function(){for(var e=new FormData,t=0;t<fe.length;t++)e.append("file",fe[t]);b.a.post("/multiuploads",e,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);Oe(t)}}).then((function(e){for(var t=0;t<e.data.data.length;t++)Re.push(e.data.data[t].url);_e(Re),ue([])})).catch((function(e){return console.log(e)}))},children:[Object(i.jsx)("i",{className:"fas fa-upload"}),Object(i.jsx)("p",{children:"Upload"})]})]}),Object(i.jsxs)("form",{className:"mt-2",children:[Object(i.jsxs)("div",{className:"form-row",children:[Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Name:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",value:c,onChange:function(e){return l(e.target.value)}})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Vendor:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",value:m,onChange:function(e){return p(e.target.value)}})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Quantity"})}),Object(i.jsx)("input",{type:"number",min:"0",step:"1",value:A,onChange:function(e){return T(e.target.value)},className:"form-control"})]})})]}),Object(i.jsx)("div",{className:"editor",children:Object(i.jsx)(F.CKEditor,{editor:U.a,data:k,config:{extraPlugins:[W]},onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var n=t.getData();y(n),console.log(e,t,n)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})}),Object(i.jsxs)("div",{className:"form-row mt-3",children:[Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"\u20ac"})}),Object(i.jsx)("input",{type:"number",min:"0.00",step:"0.05",value:j,onChange:function(e){return C(e.target.value)},className:"form-control"})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Status:"})}),Object(i.jsxs)("select",{className:"form-control",onChange:function(e){return E(e.target.value)},children:[!0===L&&Object(i.jsx)("option",{value:"true",children:"On Sale"}),!1!==L&&Object(i.jsx)("option",{value:"false",children:"Waiting"}),!1===L&&Object(i.jsx)("option",{value:"false",children:"Waiting"}),!0!==L&&Object(i.jsx)("option",{value:"true",children:"On sale"})]})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Category:"})}),Object(i.jsxs)("select",{className:"form-control",onChange:function(e){return z(e.target.value)},children:[Object(i.jsx)("option",{value:D,children:D}),"Cosmetic"!==D&&Object(i.jsx)("option",{children:"Cosmetic"}),"Fashion"!==D&&Object(i.jsx)("option",{children:"Fashion"}),"PC"!==D&&Object(i.jsx)("option",{children:"PC"}),"Estate"!==D&&Object(i.jsx)("option",{children:"Estate"}),"Services"!==D&&Object(i.jsx)("option",{children:"Services"})]})]})})]})]})]}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsxs)("button",{type:"button",id:"editButton","data-dismiss":"modal",onClick:function(e){Ue(e),qe(e)},children:[Object(i.jsx)("i",{className:"far fa-edit"}),Object(i.jsx)("p",{children:"Edit"})]})})]})})})]})},X=n(11),ee=n(17),te=n(14),ne=n(26),ie=n.n(ne),re=(n(302),n(131)),ae=n.n(re),oe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).getMetaTagElements=function(e){var t=document.createElement("div");return t.innerHTML=e,t.getElementsByTagName("meta")},e}return Object(l.a)(n,[{key:"onPaste",value:function(){var e=Object(R.a)(V.a.mark((function e(t){var i,r,a,o=this;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.clipboardData||window.clipboardData,e.next=3,i.getData("Text");case 3:r=e.sent,(a=r.match(/\b(http|https)?:\/\/\S+/gi)||[]).length>0?(t.preventDefault(),a.forEach((function(e){b.a.get(e).then((function(e){var t,n,i,r,a=Object(q.a)(o.getMetaTagElements(e));try{for(a.s();!(r=a.n()).done;){var s=r.value;"og:title"===s.getAttribute("property")&&(t=s.getAttribute("content")),"og:image"===s.getAttribute("property")&&(n=s.getAttribute("content")),"og:url"===s.getAttribute("property")&&(i=s.getAttribute("content"))}}catch(d){a.e(d)}finally{a.f()}var c="<a href=".concat(i,' target="_blank"><div><img src=').concat(n," alt=").concat(t,' width="100%"/><span>').concat(t,"</span></div></a>"),l=o.quill.getSelection(),u=l?l.index:0;o.quill.pasteHTML(u,c,"silent"),o.quill.setSelection(u+c.length)})).catch((function(e){return console.error(e)}))}))):Object(ee.a)(Object(te.a)(n.prototype),"onPaste",this).call(this,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ne.Quill.import("modules/clipboard"));ne.Quill.register("modules/clipboard",oe,!0),ne.Quill.register("modules/blotFormatter",ae.a);var se=ne.Quill.import("blots/block/embed"),ce=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,null,[{key:"create",value:function(e){var t=Object(ee.a)(Object(te.a)(n),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("alt",e.alt),t.setAttribute("style",e.style),t.setAttribute("width",e.width),t.setAttribute("height",e.height),t}},{key:"value",value:function(e){return{src:e.getAttribute("src"),alt:e.getAttribute("alt"),style:e.getAttribute("style"),width:e.getAttribute("width"),height:e.getAttribute("height"),maxWidth:e.getAttribute("max-width")}}}]),n}(se);ce.blotName="image",ce.tagName="img",ne.Quill.register(ce);var le=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,null,[{key:"create",value:function(e){if(e&&e.src){var t=Object(ee.a)(Object(te.a)(n),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("title",e.title),t.setAttribute("width","100%"),t.setAttribute("controls",""),t}var i=document.createElement("iframe");return i.setAttribute("src",e),i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen",!0),i.setAttribute("width","100%"),i}},{key:"value",value:function(e){return e.getAttribute("title")?{src:e.getAttribute("src"),alt:e.getAttribute("title")}:e.getAttribute("src")}}]),n}(se);le.blotName="video",le.tagName="video",ne.Quill.register(le);var ue=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ucca8\ubd80\ud30c\uc77c - ";var i=document.createElement("b");i.innerText=e;var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("target","_blank"),r.setAttribute("className","file-link-inner-post"),r.appendChild(i);var a=Object(ee.a)(Object(te.a)(n),"create",this).call(this);return a.appendChild(t),a.appendChild(r),a}},{key:"value",value:function(e){return e.querySelector("a").getAttribute("href")}}]),n}(se);ue.blotName="file",ue.tagName="p",ue.className="file-inner-post",ne.Quill.register(ue);var de=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ud22c\ud45c - ";var i=document.createElement("b");i.innerText=e.title;var r=Object(ee.a)(Object(te.a)(n),"create",this).call(this);return r.setAttribute("id",e.id),r.appendChild(t),r.appendChild(i),r}},{key:"value",value:function(e){return{id:e.getAttribute("id"),title:e.querySelector("b").innerText}}}]),n}(se);de.blotName="poll",de.tagName="p",de.className="poll-inner-post",ne.Quill.register(de);var he=ne.Quill.import("formats/size");he.whitelist=["extra-small","small","medium","large"],ne.Quill.register(he,!0);var fe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).handleChange=function(e){i.setState({editorHtml:e},(function(){i.props.onEditorChange(i.state.editorHtml)}))},i.imageHandler=function(){i.inputOpenImageRef.current.click()},i.videoHandler=function(){i.inputOpenVideoRef.current.click()},i.fileHandler=function(){i.inputOpenFileRef.current.click()},i.insertImage=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],n=new FormData;n.append("file",t),b.a.post("/uploadfiles",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var n=i.reactQuillRef.getEditor();n.focus();var r=n.getSelection(),a=r?r.index:0;n.insertEmbed(a,"image",{src:e.data.url,alt:e.data.fileName}),n.setSelection(a+1),i._isMounted&&i.setState({files:[].concat(Object(X.a)(i.state.files),[t])},(function(){i.props.onFilesChange(i.state.files)}))}))}},i.insertVideo=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],n=new FormData;n.append("file",t),b.a.post("/uploadfiles",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var n=i.reactQuillRef.getEditor();n.focus();var r=n.getSelection(),a=r?r.index:0;n.insertEmbed(a,"video",{src:e.data.url,title:e.data.fileName}),n.setSelection(a+1),i._isMounted&&i.setState({files:[].concat(Object(X.a)(i.state.files),[t])},(function(){i.props.onFilesChange(i.state.files)}))}))}},i.insertFile=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],n=new FormData;n.append("file",t),b.a.post("/uploadfiles",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(e.data.success){var n=i.reactQuillRef.getEditor();n.focus();var r=n.getSelection(),a=r?r.index:0;n.insertEmbed(a,"file",e.data.fileName),n.setSelection(a+1),i._isMounted&&i.setState({files:[].concat(Object(X.a)(i.state.files),[t])},(function(){i.props.onFilesChange(i.state.files)}))}}))}},i.modules={syntax:!0,toolbar:{container:"#"+i.props.toolbarId,handlers:{Image:i.imageHandler,insertVideo:i.videoHandler,insertFile:i.fileHandler,insertPoll:i.pollHandler}},blotFormatter:{}},i.formats=["header","size","bold","italic","underline","align","strike","script","blockquote","list","bullet","indent","link","image","video","color","background","code-block"],i.state={editorHtml:i.props.value,files:[]},i.reactQuillRef=null,i.inputOpenImageRef=a.a.createRef(),i.inputOpenVideoRef=a.a.createRef(),i.inputOpenFileRef=a.a.createRef(),i}return Object(l.a)(n,[{key:"UNSAFE_componentDidMount",value:function(){this._isMounted=!0}},{key:"UNSAFE_componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{id:this.props.toolbarId,children:[Object(i.jsxs)("span",{className:"ql-formats",children:[Object(i.jsxs)("select",{className:"ql-size",defaultValue:"",onChange:function(e){return e.persist()},children:[Object(i.jsx)("option",{value:"small",children:"Size 1"}),Object(i.jsx)("option",{value:"",children:"Size 2"}),Object(i.jsx)("option",{value:"large",children:"Size 3"})]}),Object(i.jsxs)("select",{className:"ql-header",defaultValue:"",onChange:function(e){return e.persist()},children:[Object(i.jsx)("option",{value:"1"}),Object(i.jsx)("option",{value:"2"}),Object(i.jsx)("option",{value:""})]})]}),Object(i.jsxs)("span",{className:"ql-formats",children:[Object(i.jsx)("button",{className:"ql-bold"}),Object(i.jsx)("button",{className:"ql-italic"}),Object(i.jsx)("button",{className:"ql-underline"}),Object(i.jsx)("button",{className:"ql-strike"})]}),Object(i.jsxs)("span",{className:"ql-formats",children:[Object(i.jsx)("button",{className:"ql-list",value:"ordered"}),Object(i.jsx)("button",{className:"ql-list",value:"bullet"}),Object(i.jsx)("button",{className:"ql-indent",value:"-1"}),Object(i.jsx)("button",{className:"ql-indent",value:"+1"})]}),Object(i.jsxs)("span",{className:"ql-formats",children:[Object(i.jsx)("button",{className:"ql-script",value:"super"}),Object(i.jsx)("button",{className:"ql-script",value:"sub"}),Object(i.jsx)("button",{className:"ql-blockquote"}),Object(i.jsx)("button",{className:"ql-direction"})]}),Object(i.jsxs)("span",{className:"ql-formats",children:[Object(i.jsx)("select",{className:"ql-align"}),Object(i.jsx)("select",{className:"ql-color"}),Object(i.jsx)("select",{className:"ql-background"})]}),Object(i.jsxs)("span",{className:"ql-formats",children:[Object(i.jsx)("button",{className:"ql-link"}),Object(i.jsx)("button",{className:"ql-image"}),Object(i.jsx)("button",{className:"ql-video"})]}),Object(i.jsxs)("span",{className:"ql-formats",children:[Object(i.jsx)("button",{className:"ql-code-block"}),Object(i.jsx)("button",{className:"ql-clean"})]})]}),Object(i.jsx)(ie.a,{ref:function(t){e.reactQuillRef=t},theme:"snow",onChange:this.handleChange,modules:this.modules,formats:this.formats,value:this.state.editorHtml,placeholder:this.props.placeholder}),Object(i.jsx)("input",{type:"file",accept:"image/*",ref:this.inputOpenImageRef,style:{display:"none"},onChange:this.insertImage}),Object(i.jsx)("input",{type:"file",accept:"video/*",ref:this.inputOpenVideoRef,style:{display:"none"},onChange:this.insertVideo}),Object(i.jsx)("input",{type:"file",accept:"*",ref:this.inputOpenFileRef,style:{display:"none"},onChange:this.insertFile})]})}}]),n}(a.a.Component),me=function(e){var t=e.product,n=Object(r.useState)(t.id),a=Object(w.a)(n,1)[0],o=Object(r.useState)(t.name),s=Object(w.a)(o,2),c=s[0],l=s[1],u=Object(r.useState)(t.vendor_id),d=Object(w.a)(u,1)[0],h=Object(r.useState)(t.vendor),f=Object(w.a)(h,2),m=f[0],p=f[1],v=Object(r.useState)(t.description),g=Object(w.a)(v,2),k=g[0],y=g[1],_=Object(r.useState)(t.price),x=Object(w.a)(_,2),j=x[0],C=x[1],O=Object(r.useState)(t.quantity),N=Object(w.a)(O,2),A=N[0],T=N[1],S=Object(r.useState)(t.status),M=Object(w.a)(S,2),L=M[0],E=M[1],P=Object(r.useState)(t.category),I=Object(w.a)(P,2),D=I[0],z=I[1],B=Object(r.useState)(),F=Object(w.a)(B,2),H=F[0],U=F[1],W=Object(r.useState)(""),Z=Object(w.a)(W,2),G=Z[0],Y=Z[1],Q=Object(r.useState)({name:"",path:""}),K=Object(w.a)(Q,2),$=K[0],J=K[1],X=Object(r.useState)(0),ee=Object(w.a)(X,2),te=ee[0],ne=ee[1],ie=Object(r.useRef)(),re=Object(r.useState)([]),ae=Object(w.a)(re,2),oe=ae[0],se=ae[1],ce=Object(r.useState)(),le=Object(w.a)(ce,2),ue=le[0],de=le[1],he=Object(r.useState)(),me=Object(w.a)(he,2),pe=me[0],ve=me[1],ge=Object(r.useState)([]),be=Object(w.a)(ge,2),ke=be[0],ye=be[1],we=Object(r.useState)(0),_e=Object(w.a)(we,2),xe=_e[0],je=_e[1],Ce=Object(r.useRef)(),Oe=Object(r.useState)([]),Ne=Object(w.a)(Oe,2),Ae=Ne[0],Te=Ne[1],Se=Object(r.useState)(5),Me=Object(w.a)(Se,2),Le=Me[0],Ee=Me[1],Pe=Object(r.useState)([]),Ie=Object(w.a)(Pe,1)[0],Ve=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productimgs/".concat(t),{method:"DELETE"});case 3:n=e.sent,Te(Ae.filter((function(e){return e.id!==t}))),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(R.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{ye(ke.filter((function(e){return e!==t}))),de(ue.filter((function(e){return e!==t}))),console.log(oe),Ee(Le+1)}catch(n){console.error(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productimgs/product_id/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,Te(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.id]),Object(r.useEffect)((function(){var e=5-Ae.length;Ee(e)}),[Ae]);var De,ze,Be,Fe=function(){var e=Object(R.a)(V.a.mark((function e(n){var i,r,a,o,s,l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==$.path){e.next=17;break}return i=t.image,n.preventDefault(),e.prev=3,r={description:k,name:c,vendor:m,image:i,price:j,status:L,category:D,quantity:A},e.next=7,fetch("/api/products/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:a=e.sent,console.log(a),window.location="",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0.message);case 15:e.next=31;break;case 17:return o=$.path,n.preventDefault(),e.prev=19,s={description:k,name:c,vendor:m,image:o,price:j,status:L,category:D,quantity:A},e.next=23,fetch("/api/products/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 23:l=e.sent,console.log(l),window.location="",e.next=31;break;case 28:e.prev=28,e.t1=e.catch(19),console.error(e.t1.message);case 31:case"end":return e.stop()}}),e,null,[[3,12],[19,28]])})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(R.a)(V.a.mark((function e(t){var n,i,r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!ke){e.next=19;break}n=0;case 3:if(!(n<ke.length)){e.next=19;break}return i=ke[n],e.prev=5,r={path:i,vendor_id:d,product_id:a},e.next=9,fetch("/api/productimgs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 9:o=e.sent,console.log(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0.message);case 16:n++,e.next=3;break;case 19:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();if(G&&(De=Object(i.jsx)("img",{src:G.file,alt:""})),oe)for(var Ue=0;Ue<oe.length;Ue++)ze=oe.map((function(e){return Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:e,alt:""})},e)}));if(ke)for(var qe=0;qe<ke.length;qe++)Be=ke.map((function(e){return Object(i.jsxs)("div",{className:"galeryItem",style:{position:"relative",maxWidth:"130px",margin:"5px"},children:[Object(i.jsx)("button",{className:"tinyDeleteButton",onClick:function(){return Re(e)},style:{position:"absolute",right:"0"},children:Object(i.jsx)("i",{className:"far fa-trash-alt"})}),Object(i.jsx)("img",{src:e,className:"galeryImage",alt:"",style:{maxWidth:"130px",height:"auto",border:"1px solid rgb(189, 184, 184)"}})]},e)}));return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("button",{type:"button",id:"miniEditButton","data-toggle":"modal","data-target":"#EditQuill-id".concat(t.id),children:[Object(i.jsx)("i",{className:"far fa-edit"})," ",Object(i.jsx)("p",{children:"Edit Quill"})]}),Object(i.jsx)("div",{className:"modal",id:"EditQuill-id".concat(t.id),children:Object(i.jsx)("div",{className:"modal-dialog modal-xl",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsx)("h4",{className:"modal-name",children:"Edit Product"}),Object(i.jsx)("button",{type:"button",id:"closeButton","data-dismiss":"modal",onClick:function(){y(t.description),l(t.name),C(t.price),E(t.status),p(t.vendor),T(t.quantity)},children:Object(i.jsx)("i",{className:"far fa-times-circle"})})]}),Object(i.jsxs)("div",{className:"modal-body",children:[Object(i.jsxs)("div",{className:"uploadContainer",children:[Object(i.jsx)("p",{style:{textAlign:"center"},children:"Change your product image:"}),Object(i.jsxs)("div",{className:"file-upload",children:[Object(i.jsx)("input",{type:"file",name:"file",ref:ie,multiple:!0,onChange:function(e){ne(0);var t=e.target.files[0];console.log(t),U(e.target.files[0]),e.target.files?Y({file:URL.createObjectURL(e.target.files[0])}):Y({file:null})},className:"inputImage"}),Object(i.jsx)("p",{style:{width:"".concat(te,"%")},"data-value":te}),Object(i.jsx)("progress",{max:"100",value:te,className:"imageProgressBar",children:Object(i.jsx)("div",{className:"progress-bar",children:Object(i.jsx)("span",{style:{width:"".concat(te,"%")},children:te})})}),Object(i.jsx)("div",{className:"form-group preview",children:De})]}),Object(i.jsxs)("button",{id:"uploadButton",onClick:function(){var e=new FormData;e.append("file",H);var t,n=Object(q.a)(e.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;console.log(i)}}catch(r){n.e(r)}finally{n.f()}b.a.post("/upload",e,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);ne(t)}}).then((function(e){J({name:e.data.name,path:e.data.path})})).catch((function(e){return console.log(e)}))},children:[Object(i.jsx)("i",{className:"fas fa-upload"}),Object(i.jsx)("p",{children:"Upload"})]})]}),Object(i.jsxs)("div",{className:"uploadContainer",style:{marginTop:"20px"},children:[Object(i.jsx)("p",{style:{textAlign:"center"},children:"Add more images for your product (max:5!)"}),Object(i.jsxs)("div",{className:"file-upload",children:[Object(i.jsx)("p",{children:"Your product galery"}),Object(i.jsxs)("div",{className:"productGalery",style:{width:"100%",backgroundColor:" #414141",display:"flex",flexDirection:"row",flexWrap:"wrap",border:"1px solid rgb(189, 184, 184)",marginBottom:"10px",justifyContent:"center"},children:[Ae.map((function(e){return Object(i.jsxs)("div",{className:"galeryItem",style:{position:"relative",maxWidth:"130px",margin:"5px"},children:[Object(i.jsx)("button",{className:"tinyDeleteButton",onClick:function(){return Ve(e.id)},style:{position:"absolute",right:"0"},children:Object(i.jsx)("i",{className:"far fa-trash-alt"})}),Object(i.jsx)("img",{src:e.path,className:"galeryImage",alt:"",style:{maxWidth:"130px",height:"auto",border:"1px solid rgb(189, 184, 184)"}})]},e.id)})),Be]}),Object(i.jsx)("input",{type:"file",name:"file",ref:Ce,multiple:!0,onChange:function(e){var t=e.target.files;if(t.length>5)ve("Cannot exceed 5!");else if(ve(),je(0),console.log(t),t.length<=Le)if(e.target.files){for(var n=0;n<t.length;n++)oe.push(URL.createObjectURL(t[n])),ue.push(t[n]);console.log(5),console.log(t.length);var i=Le-t.length;Ee(i)}else se({file:null});else ve("Cannot exceed 5!")},className:"inputImage"}),0===Le&&Object(i.jsxs)("small",{id:"emailHelp",className:"form-text text-muted",children:["Your product galery is",Object(i.jsx)("span",{style:{color:"red"},children:" full"}),"."]}),1===Le&&Object(i.jsxs)("small",{id:"emailHelp",className:"form-text text-muted",children:[Object(i.jsx)("span",{style:{color:"blue"},children:Le})," image left"]}),Le>1&&Object(i.jsxs)("small",{id:"emailHelp",className:"form-text text-muted",children:[Object(i.jsx)("span",{style:{color:"blue"},children:Le})," images available"]}),pe&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:pe}),Object(i.jsx)("p",{style:{width:"".concat(xe,"%")},"data-value":xe}),Object(i.jsx)("progress",{max:"100",value:xe,className:"imageProgressBar",children:Object(i.jsx)("div",{className:"progress-bar",children:Object(i.jsx)("span",{style:{width:"".concat(xe,"%")},children:xe})})}),Object(i.jsx)("div",{className:"form-group preview",children:ze})]}),Object(i.jsxs)("button",{id:"uploadButton",onClick:function(){console.log(ue);for(var e=new FormData,t=0;t<ue.length;t++)e.append("file",ue[t]);console.log(e),b.a.post("/multiuploads",e,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);je(t)}}).then((function(e){console.log(e),console.log(e.data),console.log(e.data.data.length);for(var t=0;t<e.data.data.length;t++)Ie.push(e.data.data[t].url);ye(Ie),se([])})).catch((function(e){return console.log(e)}))},children:[Object(i.jsx)("i",{className:"fas fa-upload"}),Object(i.jsx)("p",{children:"Upload"})]})]}),Object(i.jsxs)("form",{className:"mt-2",children:[Object(i.jsxs)("div",{className:"form-row",children:[Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Name:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",value:c,onChange:function(e){return l(e.target.value)}})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Vendor:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",value:m,onChange:function(e){return p(e.target.value)}})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Quantity"})}),Object(i.jsx)("input",{type:"number",min:"0",step:"1",value:A,onChange:function(e){return T(e.target.value)},className:"form-control"})]})})]}),Object(i.jsx)(fe,{toolbarId:"toolbar".concat(a),value:k,onEditorChange:function(e){y(e)}}),Object(i.jsxs)("div",{className:"form-row mt-3",children:[Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"\u20ac"})}),Object(i.jsx)("input",{type:"number",min:"0.00",step:"0.05",value:j,onChange:function(e){return C(e.target.value)},className:"form-control"})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Status:"})}),Object(i.jsxs)("select",{className:"form-control",onChange:function(e){return E(e.target.value)},children:[!0===L&&Object(i.jsx)("option",{value:"true",children:"On Sale"}),!1!==L&&Object(i.jsx)("option",{value:"false",children:"Waiting"}),!1===L&&Object(i.jsx)("option",{value:"false",children:"Waiting"}),!0!==L&&Object(i.jsx)("option",{value:"true",children:"On sale"})]})]})}),Object(i.jsx)("div",{className:"form-group col-md-4",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Category:"})}),Object(i.jsxs)("select",{className:"form-control",onChange:function(e){return z(e.target.value)},children:[Object(i.jsx)("option",{value:D,children:D}),"Cosmetic"!==D&&Object(i.jsx)("option",{children:"Cosmetic"}),"Fashion"!==D&&Object(i.jsx)("option",{children:"Fashion"}),"PC"!==D&&Object(i.jsx)("option",{children:"PC"}),"Estate"!==D&&Object(i.jsx)("option",{children:"Estate"}),"Services"!==D&&Object(i.jsx)("option",{children:"Services"})]})]})})]})]})]}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsxs)("button",{type:"button",id:"editButton","data-dismiss":"modal",onClick:function(e){Fe(e),He(e)},children:[Object(i.jsx)("i",{className:"far fa-edit"}),Object(i.jsx)("p",{children:"Edit"})]})})]})})})]})},pe=function(e){var t=e.currentUser,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1],c=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/products/".concat(t),{method:"DELETE"});case 3:n=e.sent,s(o.filter((function(e){return e.id!==t}))),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/products/vendor_id/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,s(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.id]),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{className:"container text-center",id:"productsList",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{children:["All ",t.username,"'s products (",o.length,")"]})})}),!o.length&&Object(i.jsx)("div",{className:"ComponentEmpty",children:Object(i.jsx)("div",{children:"Empty"})}),o.map((function(e){return Object(i.jsxs)("div",{className:"productCard",children:[Object(i.jsx)("div",{className:"productCardName",children:Object(i.jsxs)("p",{children:[!1===e.status&&Object(i.jsx)("i",{className:"fas fa-circle",id:"miniStatusFalse"}),!0===e.status&&Object(i.jsx)("i",{className:"fas fa-circle",id:"miniStatusTrue"}),e.name]})}),Object(i.jsx)("div",{className:"productCardImage",children:Object(i.jsx)("img",{id:"productCardImage",src:e.image,alt:e.name})}),Object(i.jsx)("div",{className:"productCardDescription",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.description}})}),Object(i.jsxs)("div",{className:"productCardPrice",children:["Price:"," ",Object(i.jsx)("b",{children:new Intl.NumberFormat("fr-BE",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.price)})," ","| Date:"," ",Object(i.jsx)("b",{children:new Intl.DateTimeFormat("nl-BE",{year:"numeric",month:"numeric",day:"2-digit"}).format(Date.parse(e.createdAt))})]}),Object(i.jsxs)("div",{className:"productCardAction",children:[Object(i.jsx)($,{product:e}),Object(i.jsx)(J,{product:e}),Object(i.jsx)(me,{product:e}),Object(i.jsxs)("button",{className:"miniDeleteButton",onClick:function(){return c(e.id)},children:[Object(i.jsx)("i",{className:"far fa-trash-alt"}),Object(i.jsx)("p",{children:"Delete"})]})]})]},e.id)}))]})})},ve=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:"",currentUser:y.getCurrentUser()},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.getUserBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){var e=this.state.currentUser;return null==e?Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"No access"})}),Object(i.jsx)("div",{})]}):Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"USER PANEL"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:'"Manage all your products here" - DoanStack.be'})}),Object(i.jsx)(pe,{currentUser:e}),Object(i.jsx)(G,{currentUser:e})]})}}]),n}(a.a.Component),ge=j.b().shape({title:j.c().required(),message:j.c().required(),recipient:j.a().required()}),be=function(e){var t=e.currentUser,n=Object(r.useState)(),a=Object(w.a)(n,2),o=a[0],s=a[1],c=Object(r.useState)([]),l=Object(w.a)(c,2),u=l[0],d=l[1],h=Object(v.f)(),f=Object(_.b)({resolver:Object(x.yupResolver)(ge)}),m=f.register,p=f.handleSubmit,g=f.errors;Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var t,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,d(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var b=function(){var e=Object(R.a)(V.a.mark((function e(n){var i,r,a,o,c,l,u,d;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=t.username,r=t.email,a=n.title,o=n.message,c=t.id,l=n.recipient,!0,u={name:i,email:r,title:a,message:o,sender_id:c,owner_id:l,recent:true},console.log(u),e.next=12,fetch("/api/mails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then((function(e){return e.clone().json()}));case 12:d=e.sent,console.log(d),d&&s("Message Sended!"),h.go(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("form",{style:{width:"80%",margin:"auto",marginTop:"25px"},onSubmit:p(b),children:[o&&Object(i.jsx)("div",{className:"alert alert-success",role:"alert",children:o}),Object(i.jsx)("div",{className:"mt-3",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("label",{className:"input-group-text",children:"Send to: "})}),Object(i.jsxs)("select",{className:"form-control",name:"recipient",ref:m,children:[Object(i.jsx)("option",{children:"Choose..."}),u.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.username},e.id)}))]})]})}),g.recipient&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:"No user chosen!"}),Object(i.jsx)("div",{className:"mt-3",children:Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Title:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"Message title...",name:"title",ref:m})]})}),g.title&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:"A title is required!"}),Object(i.jsx)("div",{className:"mt-3",children:Object(i.jsx)("div",{className:"input-group",children:Object(i.jsx)("textarea",{className:"form-control",style:{minHeight:"250px"},placeholder:"Write your message...",name:"message",ref:m})})}),g.message&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Message is empty!"}),Object(i.jsx)("div",{className:"mt-3",children:Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",style:{maxWidth:"200px",margin:"auto"},children:Object(i.jsxs)("span",{children:["Send ",Object(i.jsx)("i",{className:"far fa-paper-plane"})]})})})})]})})},ke=function(e){var t=e.currentUser,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1],c=Object(r.useState)(),l=Object(w.a)(c,2),u=l[0],d=l[1],h=Object(r.useState)([]),f=Object(w.a)(h,2),m=f[0],p=f[1],v=Object(r.useState)(!0),g=Object(w.a)(v,2),b=g[0],k=g[1],y=Object(r.useState)(!1),_=Object(w.a)(y,2),x=_[0],j=_[1];Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/mails/owner_id/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,s(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.id]);var C=function(){var e=Object(R.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0),j(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(R.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1),j(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(R.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{d(t)}catch(n){console.error(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=o.filter((function(e){return e.id===t})),p(n)}catch(i){console.error(i.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(R.a)(V.a.mark((function e(t,n){var i,r,a,c,l,u,d,h,f,m,v,g;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,i=n.name,r=n.title,a=n.email,c=n.message,l=n.sender_id,u=n.owner_id,h=[],f={name:i,email:a,title:r,message:c,sender_id:l,owner_id:u,recent:d=!1},e.next=13,fetch("/api/mails/".concat(n.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(f)}).then((function(e){return e.clone().json()}));case 13:m=e.sent,v={id:n.id,name:i,title:r,email:a,message:c,sender_id:l,owner_id:u,recent:d,createdAt:n.createdAt,updatedAt:n.updatedAt},h.push(v),p(h),g=o.map((function(e){return e.id===n.id?v:e})),s(g),console.log(m),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),console.error(e.t0.message);case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/mails/".concat(t),{method:"DELETE"}).then((function(e){return e.clone().json()}));case 3:n=e.sent,s(o.filter((function(e){return e.id!==t}))),p(m.filter((function(e){return e.id!==t}))),console.log(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{className:"container text-center",id:"usersList",style:{marginTop:"50px",marginBottom:"50px"},children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"MailBox"})})}),Object(i.jsxs)("div",{className:"mailtoolbar",style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(i.jsxs)("button",{type:"button",className:"btn btn-primary",style:{marginRight:"10px"},onClick:function(){return C()},children:[Object(i.jsx)("i",{className:"far fa-edit"}),"Inbox"]}),Object(i.jsxs)("button",{type:"button",className:"btn btn-warning",onClick:function(){return O()},children:[Object(i.jsx)("i",{className:"far fa-edit"}),"New Message"]})]}),b&&Object(i.jsxs)("div",{className:"mailbox",style:{border:"1px solid #bdbdbd",minHeight:"500px",maxHeight:"700px",backgroundColor:"white",display:"flex",flexDirection:"row",marginTop:"10px"},children:[Object(i.jsx)("div",{style:{width:"20%",borderRight:"1px solid #bdbdbd",overflow:"auto",backgroundColor:"grey"},children:Object(i.jsx)("ul",{style:{listStyleType:"none",padding:"0",display:"flex",flexDirection:"column"},children:o.sort((function(e,t){var n=e.id;return t.id-n})).map((function(e,t){return Object(i.jsxs)("li",{children:[u===e.id&&Object(i.jsxs)("div",{className:"mailboxname",style:{position:"relative",borderBottom:"1px solid #bdbdbd",backgroundColor:" rgb(210, 250, 146)",padding:"10px 5px",wordBreak:"break-word"},onClick:function(t){N(e.id),A(e.id)},children:[!0===e.recent&&Object(i.jsx)("div",{className:"recentMessage",style:{position:"absolute",right:"0",top:"0",padding:"0px 5px",fontSize:"8px",color:"white"},children:Object(i.jsx)("p",{children:"NEW"})}),Object(i.jsx)("p",{children:new Date(e.createdAt).toLocaleDateString("nl-BE",{year:"numeric",month:"2-digit",day:"2-digit"})}),Object(i.jsx)("p",{children:e.name})]}),u!==e.id&&Object(i.jsxs)("div",{className:"mailboxname",style:{position:"relative",borderBottom:"1px solid #bdbdbd",padding:"10px 5px",wordBreak:"break-word"},onClick:function(t){N(e.id),A(e.id)},children:[!0===e.recent&&Object(i.jsx)("div",{className:"recentMessage",style:{position:"absolute",right:"0",top:"0",padding:"0px 5px",fontSize:"8px",color:"white"},children:Object(i.jsx)("p",{children:"NEW"})}),Object(i.jsx)("p",{children:new Date(e.createdAt).toLocaleDateString("nl-BE",{year:"numeric",month:"2-digit",day:"2-digit"})}),Object(i.jsx)("p",{children:e.name})]})]},t)}))})}),Object(i.jsx)("div",{style:{position:"relative",width:"80%"},children:m.map((function(e){return Object(i.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",zIndex:"10"},children:[Object(i.jsxs)("div",{style:{position:"relative",borderBottom:"1px solid black",padding:"10px",textAlign:"left",backgroundColor:" white"},children:[!0===e.recent&&Object(i.jsx)("div",{className:"recentMessage",style:{position:"absolute",right:"0",top:"0",padding:"0px 5px",fontSize:"15px",color:"white"},children:Object(i.jsx)("p",{children:"NEW"})}),Object(i.jsxs)("p",{children:["From: ",e.name]}),Object(i.jsxs)("p",{children:["Email: ",e.email]}),Object(i.jsxs)("p",{children:["Title: ",e.title]})]}),Object(i.jsxs)("div",{style:{position:"relative",height:"100%",textAlign:"left",padding:"10px"},children:[Object(i.jsx)("p",{children:e.message}),Object(i.jsxs)("div",{style:{position:"absolute",width:"auto",bottom:"10px",right:"0",textAlign:"center",display:"flex",flexDirection:"row"},children:[Object(i.jsx)("button",{type:"button",className:"btn btn-outline-danger",style:{marginRight:"10px",color:"orange",padding:"1px 6px",fontSize:"30px"},onClick:function(){S(e.id)},children:Object(i.jsx)("i",{className:"fas fa-trash"})}),Object(i.jsx)("button",{type:"button",className:"btn btn-outline-success",style:{color:" rgb(161, 255, 55)",marginRight:"10px",padding:"1px 6px",fontSize:"30px"},onClick:function(t){return T(t,e)},children:Object(i.jsx)("i",{className:"far fa-check-circle"})})]})]})]},e.id)}))})]}),x&&Object(i.jsx)("div",{className:"mailbox",style:{border:"1px solid #bdbdbd",minHeight:"500px",maxHeight:"700px",backgroundColor:"white",display:"flex",flexDirection:"row",marginTop:"10px"},children:Object(i.jsx)(be,{currentUser:t})})]})})},ye=function(e){var t=e.user_id,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1],c=Object(r.useState)([]),l=Object(w.a)(c,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/products/vendor_id/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,s(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/articles/author_id/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,d(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("div",{className:"userCardInfo",children:[!o.length&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Product Activity: "}),"No product"]}),1===o.length&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Product Activity: "}),o.length," product"]}),o.length>1&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Product Activity: "}),o.length," products"]})]}),Object(i.jsxs)("div",{className:"userCardInfo",children:[!u.length&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Articles Activity: "}),"No article"]}),1===u.length&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Articles Activity: "}),u.length," article"]}),u.length>1&&Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Articles Activity: "}),u.length," articles"]})]})]})},we=function(e){var t=e.currentUser,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1],c=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users/".concat(t),{method:"DELETE"});case 3:n=e.sent,s(o.filter((function(e){return e.id!==t}))),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var t,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,s(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{className:"container text-center",id:"usersList",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{children:["Users (",o.length,")"]})})}),o.map((function(e){return Object(i.jsxs)("div",{className:"userCard",children:[Object(i.jsxs)("div",{className:"userCardName",children:[!e.avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"no-avatar",className:"user-img-card",style:{marginTop:"20px"}}),e.avatar&&Object(i.jsx)("img",{src:e.avatar,alt:e.username,className:"user-img-card",style:{marginTop:"20px"}}),Object(i.jsx)("h1",{children:e.username})]}),Object(i.jsx)("div",{className:"userCardInfo",children:Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Email: "}),e.email]})}),Object(i.jsx)(ye,{user_id:e.id}),Object(i.jsxs)("div",{className:"userCardInfo",children:[Object(i.jsx)("strong",{children:"Roles:"})," \xa0",e.roles.map((function(e){return Object(i.jsxs)("div",{style:{display:"inline-block"},children:["admin"===e.name&&Object(i.jsx)("li",{className:"btn btn-danger",style:{display:"inline-block",marginRight:"3px"},children:"Admin"}),"moderator"===e.name&&Object(i.jsx)("li",{className:"btn btn-warning",style:{display:"inline-block",marginRight:"3px"},children:"Moderator"}),"user"===e.name&&Object(i.jsx)("li",{className:"btn btn-success",style:{display:"inline-block",marginRight:"3px"},children:"User"})]},e.user_roles.roleId)}))]}),"Role: ADMIN"===t.roles[2]&&Object(i.jsx)("div",{className:"userCardAction",children:Object(i.jsxs)("button",{className:"miniDeleteButton",onClick:function(){return c(e.id)},children:[Object(i.jsx)("i",{className:"far fa-trash-alt"}),Object(i.jsx)("p",{children:"Delete"})]})})]},e.id)}))]})})},_e=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:"",currentUser:y.getCurrentUser()},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.getUserBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){var e=this.state.currentUser;return null==e?Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"No access"})}),Object(i.jsx)("div",{})]}):Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"Mail"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:'"send messages to members"'})}),Object(i.jsx)(we,{currentUser:e}),Object(i.jsx)(ke,{currentUser:e})]})}}]),n}(a.a.Component),xe=function(e){var t,n=e.currentUser,a=Object(r.useState)(),o=Object(w.a)(a,2),s=o[0],c=o[1],l=Object(r.useState)("".concat(n.username)),u=Object(w.a)(l,2),d=u[0],h=u[1],f=Object(r.useState)("".concat(n.id)),m=Object(w.a)(f,2),p=m[0],v=m[1],g=Object(r.useState)("".concat(n.avatar)),k=Object(w.a)(g,2),y=k[0],_=k[1],x=Object(r.useState)(""),j=Object(w.a)(x,2),C=j[0],O=j[1],N=Object(r.useState)(),A=Object(w.a)(N,2),T=A[0],S=A[1],M=Object(r.useState)("Others"),L=Object(w.a)(M,2),E=L[0],P=L[1],I=Object(r.useState)(),D=Object(w.a)(I,2),z=D[0],B=D[1],H=Object(r.useState)(),Z=Object(w.a)(H,2),G=Z[0],Y=Z[1],Q=Object(r.useState)(""),K=Object(w.a)(Q,2),$=K[0],J=K[1],X=Object(r.useState)({name:"",path:""}),ee=Object(w.a)(X,2),te=ee[0],ne=ee[1],ie=Object(r.useState)(0),re=Object(w.a)(ie,2),ae=re[0],oe=re[1],se=Object(r.useRef)(),ce=function(){var e=Object(R.a)(V.a.mark((function e(t){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={title:s,author:d,author_id:p,author_avatar:y,image:C,content:T,category:E,published:z},e.next=5,fetch("/api/articles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.clone().json()}));case 5:"400"===(i=e.sent).status?Y(i.message):window.location="",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return C&&(t=Object(i.jsx)("img",{src:C.file,alt:""})),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{id:"articleCreate",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsxs)("div",{children:[" ",Object(i.jsx)("h1",{children:"Add a new article"})]})}),Object(i.jsx)("div",{className:"form-row",children:Object(i.jsxs)("div",{className:"uploadContainer",children:[Object(i.jsxs)("div",{className:"file-upload",children:[Object(i.jsx)("input",{type:"file",ref:se,onChange:function(e){oe(0);var t=e.target.files[0];J(t),e.target.files[0]?O({file:URL.createObjectURL(e.target.files[0])}):O({file:null})},className:"inputImage",style:{overflow:"hidden"}}),Object(i.jsx)("p",{style:{width:"".concat(ae,"%")},"data-value":ae}),Object(i.jsx)("progress",{max:"100",value:ae,className:"imageProgressBar",children:Object(i.jsx)("div",{className:"progress-bar",children:Object(i.jsx)("span",{style:{width:"".concat(ae,"%")},children:ae})})}),Object(i.jsx)("div",{className:"form-group preview",children:t})]}),Object(i.jsxs)("button",{id:"uploadButton",onClick:function(){var e=new FormData;e.append("file",$);var t,n=Object(q.a)(e.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;console.log(i)}}catch(r){n.e(r)}finally{n.f()}b.a.post("/upload",e,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);oe(t)}}).then((function(e){ne({name:e.data.name,path:e.data.path}),console.log(te)})).catch((function(e){return console.log(e)}))},children:[Object(i.jsx)("i",{className:"fas fa-upload"}),Object(i.jsx)("p",{children:"Upload"})]})]})}),Object(i.jsxs)("form",{className:"mt-5",style:{maxWidth:"780px",margin:"auto"},onSubmit:ce,children:[Object(i.jsx)("div",{id:"AlertMessage",children:G&&Object(i.jsxs)("p",{children:["Error: ",G]})}),Object(i.jsxs)("div",{className:"form-row",children:[Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Title:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"Article Title...",onChange:function(e){return c(e.target.value)}})]})}),Object(i.jsxs)("div",{className:"form-group col-md-6",children:[Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Author:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:d,onChange:function(e){return h(e.target.value)}})]}),Object(i.jsx)("input",{type:"hidden",className:"form-control",placeholder:p,onChange:function(e){return v(e.target.value)}}),Object(i.jsx)("input",{type:"hidden",className:"form-control",placeholder:y,onChange:function(e){return _(e.target.value)}})]})]}),Object(i.jsx)("div",{className:"editor",children:Object(i.jsx)(F.CKEditor,{editor:U.a,data:"<p>Write something here..</p>",config:{extraPlugins:[W]},onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){console.log(e);var n=t.getData();S(n),console.log({event:e,editor:t,data:n})},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})}),Object(i.jsxs)("div",{className:"form-row mt-3",children:[Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Publish:"})}),Object(i.jsxs)("select",{id:"selectStatus",className:"form-control",onChange:function(e){return B(e.target.value)},children:[Object(i.jsx)("option",{value:"false",children:"Waiting"}),Object(i.jsx)("option",{value:"true",children:"Online"})]})]})}),Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Category:"})}),Object(i.jsxs)("select",{id:"selectCat",className:"form-control",onChange:function(e){return P(e.target.value)},children:[Object(i.jsx)("option",{children:"Others"}),Object(i.jsx)("option",{children:"News"}),Object(i.jsx)("option",{children:"BackEnd"}),Object(i.jsx)("option",{children:"FrontEnd"}),Object(i.jsx)("option",{children:"Life"})]})]})})]}),Object(i.jsx)("div",{className:"wrap",children:Object(i.jsxs)("button",{id:"createButton",onClick:function(e){return O(te.path)},children:[Object(i.jsx)("i",{className:"fas fa-plus"}),Object(i.jsx)("p",{children:"POST"})]})})]})]})})},je=function(e){var t=e.article;return Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{className:"articleContainer",children:[Object(i.jsxs)("div",{className:"articleHeader",children:[Object(i.jsx)("a",{href:t.image,children:Object(i.jsx)("img",{src:t.image,alt:t.title,className:"articleImage"})}),Object(i.jsx)("div",{className:"articleName",children:t.title}),Object(i.jsxs)("div",{className:"articleInfo",style:{padding:"10px 0px 10px 0px",margin:"20px 0px 0px 0px",borderTop:"1px solid #dee2e6",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},children:[Object(i.jsx)("div",{className:"articleAuthor",children:Object(i.jsxs)("p",{style:{marginBottom:"0",textAlign:"center"},children:[Object(i.jsx)("b",{children:"By: "})," \xa0","null"===t.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",className:"user-img-card",alt:t.author,style:{width:"40px",height:"40px",display:"inline-block",marginBottom:"0"}}),"null"!==t.author_avatar&&Object(i.jsx)("img",{src:t.author_avatar,className:"user-img-card",alt:t.author,style:{width:"40px",height:"40px",display:"inline-block",marginBottom:"0"}}),"\xa0",t.author]})}),Object(i.jsx)("div",{className:"articleDatum",children:Object(i.jsxs)("p",{style:{marginBottom:"0",textAlign:"center"},children:[Object(i.jsx)("b",{children:"Datum: "})," \xa0",new Intl.DateTimeFormat("nl-BE",{year:"2-digit",month:"2-digit",day:"2-digit"}).format(Date.parse(t.createdAt))]})}),!1===t.published&&Object(i.jsxs)("div",{className:"articlePublish",children:[Object(i.jsxs)("p",{style:{marginBottom:"0",textAlign:"center"},children:[Object(i.jsx)("b",{children:"Status: "})," \xa0",Object(i.jsx)("i",{className:"fas fa-circle",id:"ProductStatusFalse"})]})," "]}),!0===t.published&&Object(i.jsx)("div",{className:"articlePublish",children:Object(i.jsxs)("p",{style:{marginBottom:"0",textAlign:"center"},children:[Object(i.jsx)("b",{children:"Status: "})," \xa0",Object(i.jsx)("i",{className:"fas fa-circle",id:"ProductStatusTrue"})]})})]})]}),Object(i.jsx)("div",{className:"articleBody",children:Object(i.jsx)("div",{className:"articleContent",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:t.content}})})})]})})},Ce=function(e){var t=e.article;return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("button",{type:"button",id:"miniViewButton","data-toggle":"modal","data-target":"#id".concat(t.id),children:[Object(i.jsx)("i",{className:"fas fa-eye"})," ",Object(i.jsx)("p",{children:"View"})]}),Object(i.jsx)("div",{className:"modal",id:"id".concat(t.id),children:Object(i.jsx)("div",{className:"modal-dialog modal-xl",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsxs)("h1",{className:"modal-title",children:[t.category,"/ ",t.Title]}),Object(i.jsx)("button",{type:"button",id:"closeButton","data-dismiss":"modal",children:Object(i.jsx)("i",{className:"far fa-times-circle"})})]}),Object(i.jsx)("div",{className:"modal-body",children:Object(i.jsx)(je,{article:t})}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsx)("button",{type:"button",id:"closeButton","data-dismiss":"modal",children:Object(i.jsx)("i",{className:"far fa-times-circle"})})})]})})})]})},Oe=function(e){var t,n=e.article,a=Object(r.useState)(n.title),o=Object(w.a)(a,2),s=o[0],c=o[1],l=Object(r.useState)(n.author_id),u=Object(w.a)(l,1)[0],d=Object(r.useState)(n.author),h=Object(w.a)(d,2),f=h[0],m=h[1],p=Object(r.useState)(n.author_avatar),v=Object(w.a)(p,1)[0],g=Object(r.useState)(n.content),k=Object(w.a)(g,2),y=k[0],_=k[1],x=Object(r.useState)(n.category),j=Object(w.a)(x,2),C=j[0],O=j[1],N=Object(r.useState)(n.published),A=Object(w.a)(N,2),T=A[0],S=A[1],M=Object(r.useState)({name:"",path:""}),L=Object(w.a)(M,2),E=L[0],P=L[1],I=Object(r.useState)(0),D=Object(w.a)(I,2),z=D[0],B=D[1],H=Object(r.useRef)(),q=Object(r.useState)(""),Z=Object(w.a)(q,2),G=Z[0],Y=Z[1],Q=Object(r.useState)(""),K=Object(w.a)(Q,2),$=K[0],J=K[1],X=function(){var e=Object(R.a)(V.a.mark((function e(t){var i,r,a,o,c,l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==E.path){e.next=17;break}return i=n.image,t.preventDefault(),e.prev=3,r={title:s,author:f,author_id:u,image:i,content:y,category:C,published:T,author_avatar:v},e.next=7,fetch("/api/articles/".concat(n.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:a=e.sent,window.location="",console.log(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0.message);case 15:e.next=31;break;case 17:return o=E.path,t.preventDefault(),e.prev=19,c={title:s,author:f,author_id:u,image:o,content:y,category:C,published:T,author_avatar:v},e.next=23,fetch("/api/articles/".concat(n.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 23:l=e.sent,window.location="",console.log(l),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(19),console.error(e.t1.message);case 31:case"end":return e.stop()}}),e,null,[[3,12],[19,28]])})));return function(t){return e.apply(this,arguments)}}();return $&&(t=Object(i.jsx)("img",{src:$.file,alt:""})),Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("button",{type:"button",id:"miniEditButton","data-toggle":"modal","data-target":"#Edit-id".concat(n.id),children:[Object(i.jsx)("i",{className:"far fa-edit"})," ",Object(i.jsx)("p",{children:"Edit"})]}),Object(i.jsx)("div",{className:"modal",id:"Edit-id".concat(n.id),children:Object(i.jsx)("div",{className:"modal-dialog modal-xl",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsx)("h4",{className:"modal-name",children:"Edit Article"}),Object(i.jsx)("button",{type:"button",id:"closeButton","data-dismiss":"modal",onClick:function(){_(n.content),c(n.title),S(n.published),m(n.author)},children:Object(i.jsx)("i",{className:"far fa-times-circle"})})]}),Object(i.jsxs)("div",{className:"modal-body",children:[Object(i.jsxs)("div",{className:"uploadContainer",children:[Object(i.jsxs)("div",{className:"file-upload",children:[Object(i.jsx)("input",{type:"file",name:"file",ref:H,multiple:!0,onChange:function(e){B(0),Y(e.target.files[0]),e.target.files?J({file:URL.createObjectURL(e.target.files[0])}):J({file:null})},className:"inputImage"}),Object(i.jsx)("p",{style:{width:"".concat(z,"%")},"data-value":z}),Object(i.jsx)("progress",{max:"100",value:z,className:"imageProgressBar",children:Object(i.jsx)("div",{className:"progress-bar",children:Object(i.jsx)("span",{style:{width:"".concat(z,"%")},children:z})})}),Object(i.jsx)("div",{className:"form-group preview",children:t})]}),Object(i.jsxs)("button",{id:"uploadButton",onClick:function(){var e=new FormData;e.append("file",G),b.a.post("/upload",e,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);B(t)}}).then((function(e){P({name:e.data.name,path:e.data.path})})).catch((function(e){return console.log(e)}))},children:[Object(i.jsx)("i",{className:"fas fa-upload"}),Object(i.jsx)("p",{children:"Upload"})]})]}),Object(i.jsxs)("form",{className:"mt-5",children:[Object(i.jsxs)("div",{className:"form-row",children:[Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Title:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",value:s,onChange:function(e){return c(e.target.value)}})]})}),Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Author:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",value:f,onChange:function(e){return m(e.target.value)}})]})})]}),Object(i.jsxs)("div",{className:"form-row mt-3",children:[Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Publish:"})}),Object(i.jsxs)("select",{className:"form-control",onChange:function(e){return S(e.target.value)},children:[!0===T&&Object(i.jsx)("option",{value:"true",children:"Online"}),!1!==T&&Object(i.jsx)("option",{value:"false",children:"Waiting"}),!1===T&&Object(i.jsx)("option",{value:"false",children:"Waiting"}),!0!==T&&Object(i.jsx)("option",{value:"true",children:"Online"})]})]})}),Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Category:"})}),Object(i.jsxs)("select",{className:"form-control",onChange:function(e){return O(e.target.value)},children:[Object(i.jsx)("option",{value:C,children:C}),"News"!==C&&Object(i.jsx)("option",{children:"News"}),"BackEnd"!==C&&Object(i.jsx)("option",{children:"BackEnd"}),"FrontEnd"!==C&&Object(i.jsx)("option",{children:"FrontEnd"}),"Life"!==C&&Object(i.jsx)("option",{children:"Life"}),"Others"!==C&&Object(i.jsx)("option",{children:"Others"})]})]})})]}),Object(i.jsx)("div",{className:"editor",children:Object(i.jsx)(F.CKEditor,{editor:U.a,data:y,config:{extraPlugins:[W]},onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var n=t.getData();_(n)},onBlur:function(e,t){},onFocus:function(e,t){}})})]})]}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsxs)("button",{type:"button",id:"editButton","data-dismiss":"modal",onClick:function(e){X(e)},children:[Object(i.jsx)("i",{className:"far fa-edit"}),Object(i.jsx)("p",{children:"Edit"})]})})]})})})]})},Ne=function(e){var t,n=e.article,a=Object(r.useState)(n.id),o=Object(w.a)(a,1)[0],s=Object(r.useState)(n.title),c=Object(w.a)(s,2),l=c[0],u=c[1],d=Object(r.useState)(n.author),h=Object(w.a)(d,2),f=h[0],m=h[1],p=Object(r.useState)(n.author_id),v=Object(w.a)(p,1)[0],g=Object(r.useState)(n.author_avatar),k=Object(w.a)(g,1)[0],y=Object(r.useState)(n.content),_=Object(w.a)(y,2),x=_[0],j=_[1],C=Object(r.useState)(n.category),O=Object(w.a)(C,2),N=O[0],A=O[1],T=Object(r.useState)(n.published),S=Object(w.a)(T,2),M=S[0],L=S[1],E=Object(r.useState)({name:"",path:""}),P=Object(w.a)(E,2),I=P[0],D=P[1],z=Object(r.useState)(0),B=Object(w.a)(z,2),F=B[0],H=B[1],U=Object(r.useRef)(),W=Object(r.useState)(""),Z=Object(w.a)(W,2),G=Z[0],Y=Z[1],Q=Object(r.useState)(""),K=Object(w.a)(Q,2),$=K[0],J=K[1],X=function(){var e=Object(R.a)(V.a.mark((function e(t){var i,r,a,o,s,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(I.path),""!==I.path){e.next=19;break}return i=n.image,console.log(i),t.preventDefault(),e.prev=5,r={title:l,author:f,author_id:v,image:i,content:x,category:N,published:M,author_avatar:k},e.next=9,fetch("/api/articles/".concat(n.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 9:a=e.sent,window.location="",console.log(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0.message);case 17:e.next=34;break;case 19:return o=I.path,console.log(o),t.preventDefault(),e.prev=22,s={title:l,author:f,author_id:v,image:o,content:x,category:N,published:M,author_avatar:k},e.next=26,fetch("/api/articles/".concat(n.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 26:c=e.sent,window.location="",console.log(c),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(22),console.error(e.t1.message);case 34:case"end":return e.stop()}}),e,null,[[5,14],[22,31]])})));return function(t){return e.apply(this,arguments)}}();return $&&(t=Object(i.jsx)("img",{src:$.file,alt:"preview",className:"imgPreview",style:{width:"100%"}})),Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("button",{type:"button",id:"miniEditButton","data-toggle":"modal","data-target":"#EditQuill-id".concat(n.id),children:[Object(i.jsx)("i",{className:"far fa-edit"})," ",Object(i.jsx)("p",{children:"QuillEdit"})]}),Object(i.jsx)("div",{className:"modal",id:"EditQuill-id".concat(n.id),children:Object(i.jsx)("div",{className:"modal-dialog modal-xl",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsx)("h4",{className:"modal-name",children:"Edit Article"}),Object(i.jsx)("button",{type:"button",id:"closeButton","data-dismiss":"modal",onClick:function(){j(n.content),u(n.title),L(n.published),m(n.author)},children:Object(i.jsx)("i",{className:"far fa-times-circle"})})]}),Object(i.jsxs)("div",{className:"modal-body",children:[Object(i.jsxs)("div",{className:"uploadContainer",children:[Object(i.jsxs)("div",{className:"file-upload",children:[Object(i.jsx)("input",{type:"file",name:"file",ref:U,multiple:!0,onChange:function(e){H(0);var t=e.target.files[0];console.log(t),Y(e.target.files[0]),e.target.files?J({file:URL.createObjectURL(e.target.files[0])}):J({file:null})},className:"inputImage"}),Object(i.jsx)("p",{style:{width:"".concat(F,"%")},"data-value":F}),Object(i.jsx)("progress",{max:"100",value:F,className:"imageProgressBar",children:Object(i.jsx)("div",{className:"progress-bar",children:Object(i.jsx)("span",{style:{width:"".concat(F,"%")},children:F})})}),Object(i.jsx)("div",{className:"form-group preview",children:t})]}),Object(i.jsxs)("button",{id:"uploadButton",onClick:function(){var e=new FormData;e.append("file",G);var t,n=Object(q.a)(e.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;console.log(i)}}catch(r){n.e(r)}finally{n.f()}b.a.post("/upload",e,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);H(t)}}).then((function(e){console.log(e),D({name:e.data.name,path:e.data.path})})).catch((function(e){return console.log(e)}))},children:[Object(i.jsx)("i",{className:"fas fa-upload"}),Object(i.jsx)("p",{children:"Upload"})]})]}),Object(i.jsxs)("form",{className:"mt-5",children:[Object(i.jsxs)("div",{className:"form-row",children:[Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Title:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",value:l,onChange:function(e){return u(e.target.value)}})]})}),Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Author:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",value:f,onChange:function(e){return m(e.target.value)}})]})})]}),Object(i.jsxs)("div",{className:"form-row mt-3",children:[Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Publish:"})}),Object(i.jsxs)("select",{className:"form-control",onChange:function(e){return L(e.target.value)},children:[!0===M&&Object(i.jsx)("option",{value:"true",children:"Online"}),!1!==M&&Object(i.jsx)("option",{value:"false",children:"Waiting"}),!1===M&&Object(i.jsx)("option",{value:"false",children:"Waiting"}),!0!==M&&Object(i.jsx)("option",{value:"true",children:"Online"})]})]})}),Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Category:"})}),Object(i.jsxs)("select",{className:"form-control",onChange:function(e){return A(e.target.value)},children:[Object(i.jsx)("option",{value:N,children:N}),"News"!==N&&Object(i.jsx)("option",{children:"News"}),"BackEnd"!==N&&Object(i.jsx)("option",{children:"BackEnd"}),"FrontEnd"!==N&&Object(i.jsx)("option",{children:"FrontEnd"}),"Life"!==N&&Object(i.jsx)("option",{children:"Life"}),"Others"!==N&&Object(i.jsx)("option",{children:"Others"})]})]})})]}),Object(i.jsx)(fe,{toolbarId:"toolbar".concat(o),value:x,onEditorChange:function(e){j(e)}})]})]}),Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsxs)("button",{type:"button",id:"editButton","data-dismiss":"modal",onClick:function(e){X(e)},children:[Object(i.jsx)("i",{className:"far fa-edit"}),Object(i.jsx)("p",{children:"Edit"})]})})]})})})]})},Ae=function(e){var t=e.currentUser,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1],c=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/articles/".concat(t),{method:"DELETE"});case 3:n=e.sent,s(o.filter((function(e){return e.id!==t}))),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/articles/author_id/".concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,s(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t.id]),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{className:"container text-center",id:"articlesList",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{children:["All ",t.username,"'s articles (",o.length,")"]})})}),!o.length&&Object(i.jsx)("div",{className:"ComponentEmpty",children:Object(i.jsx)("div",{children:"Empty"})}),o.map((function(e){return Object(i.jsxs)("div",{className:"articleCard",children:[Object(i.jsx)("div",{className:"articleCardName",children:Object(i.jsxs)("p",{children:[!1===e.published&&Object(i.jsx)("i",{className:"fas fa-circle",id:"miniStatusFalse"}),!0===e.published&&Object(i.jsx)("i",{className:"fas fa-circle",id:"miniStatusTrue"}),e.title]})}),Object(i.jsx)("div",{className:"articleCardImage",children:Object(i.jsx)("img",{id:"articleCardImage",src:e.image,alt:e.title,style:{width:"100%"}})}),Object(i.jsx)("div",{className:"articleCardContent",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.content}})}),Object(i.jsx)("div",{className:"articleCardInfo",children:Object(i.jsxs)("div",{className:"infoAuthor",children:["Author: ",Object(i.jsx)("b",{children:e.author})]})}),Object(i.jsx)("div",{className:"articleCardInfo",children:Object(i.jsxs)("div",{className:"infoDate",children:["Date:"," ",Object(i.jsx)("b",{children:new Intl.DateTimeFormat("nl-BE",{year:"numeric",month:"long",day:"2-digit"}).format(Date.parse(e.createdAt))})]})}),Object(i.jsxs)("div",{className:"articleCardAction",children:[Object(i.jsx)(Ce,{article:e}),Object(i.jsx)(Oe,{article:e}),Object(i.jsx)(Ne,{article:e}),Object(i.jsxs)("button",{className:"miniDeleteButton",onClick:function(){return c(e.id)},children:[Object(i.jsx)("i",{className:"far fa-trash-alt"}),Object(i.jsx)("p",{children:"Delete"})]})]})]},e.id)}))]})})},Te=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:"",currentUser:y.getCurrentUser()},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.getModeratorBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){var e=this.state.currentUser;return null==e?Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"No access"})}),Object(i.jsx)("div",{})]}):"Role: MODERATOR"===e.roles[1]?Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"MOD PANEL"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:'"Manage all your posts here" - DoanStack.be'})}),Object(i.jsx)(Ae,{currentUser:e}),Object(i.jsx)(xe,{currentUser:e})]}):Object(i.jsx)(r.Fragment,{children:Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"No role permission"})})})}}]),n}(a.a.Component),Se=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:"",currentUser:y.getCurrentUser()},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.getAdminBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){var e=this.state.currentUser;return null==e?Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"No access"})}),Object(i.jsx)("div",{})]}):"Role: ADMIN"===e.roles[2]?Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("div",{className:"BrowserNavbar",children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"ADMIN PANEL"})}),Object(i.jsx)("p",{children:'"Manage registered users" - DoanStack.be'})]}),Object(i.jsx)(we,{currentUser:e}),Object(i.jsx)(ke,{currentUser:e})]}):Object(i.jsx)(r.Fragment,{children:Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"No role permission"})})})}}]),n}(a.a.Component),Me=function(e){e.currentUser;var t=Object(r.useState)([]),n=Object(w.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(!0),c=Object(w.a)(s,2),l=c[0],u=c[1],d=Math.ceil(a.length/3),h=[],m=Object(r.useState)(1),p=Object(w.a)(m,2),v=p[0],g=p[1],b=Object(r.useState)(3),k=Object(w.a)(b,2),y=k[0],_=k[1],x=Object(r.useState)(0),j=Object(w.a)(x,2),C=j[0],O=j[1];Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var t,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/articles/post/published/true");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),o(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(r.useEffect)((function(){_(3*v),O(y-3)}),[v,y]);for(var N=1;N<=d;N++)h.push(N);var A,T=function(){var e=Object(R.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{g(t)}catch(n){console.error(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(R.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{u(!1)}catch(t){console.error(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(R.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{u(!0)}catch(t){console.error(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v&&(A=!0===l?Object(i.jsx)("div",{children:a.sort((function(e,t){var n=e.id;return t.id-n})).slice(C,y).map((function(e){return Object(i.jsxs)("div",{className:"blogFrame",children:[Object(i.jsx)("div",{className:"blogInfo",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsxs)("b",{children:["by","null"===e.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"20px",height:"20px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==e.author_avatar&&Object(i.jsx)("img",{src:e.author_avatar,className:"profile-img-card",alt:e.author,style:{width:"20px",height:"20px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),e.author]})}),Object(i.jsx)("li",{children:Object(i.jsxs)("b",{children:["#",e.category]})}),Object(i.jsx)("li",{children:Object(i.jsx)("b",{children:new Intl.DateTimeFormat("nl-BE",{year:"numeric",month:"long",day:"2-digit"}).format(Date.parse(e.createdAt))})})]})}),Object(i.jsxs)("div",{className:"blogArticle",children:[Object(i.jsx)("div",{className:"blogImg",children:Object(i.jsx)("img",{src:e.image,alt:e.titre,style:{width:"100%"}})}),Object(i.jsx)(f.b,{to:"/blog/".concat(e.category,"/").concat(e.id,"/").concat(e.title),id:"Link",children:Object(i.jsx)("div",{className:"blogBody",children:Object(i.jsx)("div",{className:"blogContent",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.content}})})})})]})]},e.id)}))}):Object(i.jsx)("div",{children:a.sort((function(e,t){return e.id-t.id})).slice(C,y).map((function(e){return Object(i.jsxs)("div",{className:"blogFrame",children:[Object(i.jsx)("div",{className:"blogInfo",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsxs)("b",{children:["by","null"===e.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"20px",height:"20px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==e.author_avatar&&Object(i.jsx)("img",{src:e.author_avatar,className:"profile-img-card",alt:e.author,style:{width:"20px",height:"20px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),e.author]})}),Object(i.jsx)("li",{children:Object(i.jsxs)("b",{children:["#",e.category]})}),Object(i.jsx)("li",{children:Object(i.jsx)("b",{children:new Intl.DateTimeFormat("nl-BE",{year:"numeric",month:"long",day:"2-digit"}).format(Date.parse(e.createdAt))})})]})}),Object(i.jsxs)("div",{className:"blogArticle",children:[Object(i.jsx)("div",{className:"blogImg",children:Object(i.jsx)("img",{src:e.image,alt:e.titre,style:{width:"100%"}})}),Object(i.jsx)(f.b,{to:"/blog/".concat(e.category,"/").concat(e.id,"/").concat(e.title),id:"Link",children:Object(i.jsx)("div",{className:"blogBody",children:Object(i.jsx)("div",{className:"blogContent",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.content}})})})})]})]},e.id)}))})),Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("div",{className:"dataFilter",style:{width:"100%",minHeight:"50px",display:"flex",flexFlow:"row wrap",justifyContent:"space-around"},children:[Object(i.jsx)("b",{children:"Sort articles by: "}),Object(i.jsxs)("div",{children:[!0===l&&Object(i.jsxs)("button",{type:"button",className:"btn btn-primary",style:{padding:"3px 6px"},onClick:S,children:["Newest ",Object(i.jsx)("i",{className:"fas fa-arrow-up"})]}),!0!==l&&Object(i.jsxs)("button",{type:"button",className:"btn btn-secondary",style:{padding:"3px 6px"},onClick:M,children:["Oldest ",Object(i.jsx)("i",{className:"fas fa-arrow-down"})]})]})]}),Object(i.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"10px"},children:h.map((function(e){return Object(i.jsx)("div",{children:v===e&&Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){return T(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})||Object(i.jsx)("button",{className:"btn btn-primary",onClick:function(){return T(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})},e)}))}),A,Object(i.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"10px"},children:h.map((function(e){return Object(i.jsx)("div",{children:v===e&&Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){return T(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})||Object(i.jsx)("button",{className:"btn btn-primary",onClick:function(){return T(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})},e)}))})]})},Le=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:"",currentUser:y.getCurrentUser()},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.getPublicContent().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data||t.message||t.toString()})}))}},{key:"render",value:function(){var e=this.state.currentUser;return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"Blog"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"All my topics about PERNstack Application."})}),Object(i.jsxs)("div",{id:"BlogBody",children:[Object(i.jsx)("div",{id:"BlogNav",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/blog",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"All"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/blog/News",children:Object(i.jsx)("b",{children:"News"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/blog/FrontEnd",children:Object(i.jsx)("b",{children:"FrontEnd"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/blog/BackEnd",children:Object(i.jsx)("b",{children:"BackEnd"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/blog/Life",children:Object(i.jsx)("b",{children:"Life"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/blog/Others",children:Object(i.jsx)("b",{children:"Others"})})})]})}),Object(i.jsx)("div",{id:"BlogHome",children:Object(i.jsx)(Me,{currentUser:e})})]})]})}}]),n}(r.Component),Ee=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)(Le,{})})}}]),n}(a.a.Component),Pe=function(e){var t=e.category,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1],c=Object(r.useState)(!0),l=Object(w.a)(c,2),u=l[0],d=l[1],h=Math.ceil(o.length/3),m=[],p=Object(r.useState)(1),v=Object(w.a)(p,2),g=v[0],b=v[1],k=Object(r.useState)(3),y=Object(w.a)(k,2),_=y[0],x=y[1],j=Object(r.useState)(0),C=Object(w.a)(j,2),O=C[0],N=C[1];Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/articles/post/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,s(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.useEffect)((function(){x(3*g),N(_-3)}),[g,_]);for(var A=1;A<=h;A++)m.push(A);var T,S=function(){var e=Object(R.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{b(t)}catch(n){console.error(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(R.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{d(!1)}catch(t){console.error(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(R.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{d(!0)}catch(t){console.error(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g&&(T=!0===u?Object(i.jsx)("div",{children:o.sort((function(e,t){var n=e.id;return t.id-n})).slice(O,_).map((function(e){return Object(i.jsxs)("div",{className:"blogFrame",children:[Object(i.jsx)("div",{className:"blogInfo",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsxs)("b",{children:["by","null"===e.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"20px",height:"20px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==e.author_avatar&&Object(i.jsx)("img",{src:e.author_avatar,className:"profile-img-card",alt:e.author,style:{width:"20px",height:"20px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),e.author]})}),Object(i.jsx)("li",{children:Object(i.jsxs)("b",{children:["#",e.category]})}),Object(i.jsx)("li",{children:Object(i.jsx)("b",{children:new Intl.DateTimeFormat("nl-BE",{year:"numeric",month:"long",day:"2-digit"}).format(Date.parse(e.createdAt))})})]})}),Object(i.jsxs)("div",{className:"blogArticle",children:[Object(i.jsx)("div",{className:"blogImg",children:Object(i.jsx)("img",{src:e.image,alt:e.titre,style:{width:"100%"}})}),Object(i.jsx)(f.b,{to:"/blog/".concat(e.category,"/").concat(e.id,"/").concat(e.title),id:"Link",children:Object(i.jsx)("div",{className:"blogBody",children:Object(i.jsx)("div",{className:"blogContent",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.content}})})})})]})]},e.id)}))}):Object(i.jsx)("div",{children:o.sort((function(e,t){return e.id-t.id})).slice(O,_).map((function(e){return Object(i.jsxs)("div",{className:"blogFrame",children:[Object(i.jsx)("div",{className:"blogInfo",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsxs)("b",{children:["by","null"===e.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"20px",height:"20px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==e.author_avatar&&Object(i.jsx)("img",{src:e.author_avatar,className:"profile-img-card",alt:e.author,style:{width:"20px",height:"20px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),e.author]})}),Object(i.jsx)("li",{children:Object(i.jsxs)("b",{children:["#",e.category]})}),Object(i.jsx)("li",{children:Object(i.jsx)("b",{children:new Intl.DateTimeFormat("nl-BE",{year:"numeric",month:"long",day:"2-digit"}).format(Date.parse(e.createdAt))})})]})}),Object(i.jsxs)("div",{className:"blogArticle",children:[Object(i.jsx)("div",{className:"blogImg",children:Object(i.jsx)("img",{src:e.image,alt:e.titre,style:{width:"100%"}})}),Object(i.jsx)(f.b,{to:"/blog/".concat(e.category,"/").concat(e.id,"/").concat(e.title),id:"Link",children:Object(i.jsx)("div",{className:"blogBody",children:Object(i.jsx)("div",{className:"blogContent",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.content}})})})})]})]},e.id)}))})),Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("div",{className:"dataFilter",style:{width:"100%",minHeight:"50px",display:"flex",flexFlow:"row wrap",justifyContent:"space-around"},children:[Object(i.jsx)("b",{children:"Sort articles by: "}),Object(i.jsxs)("div",{children:[!0===u&&Object(i.jsxs)("button",{type:"button",className:"btn btn-primary",style:{padding:"3px 6px"},onClick:M,children:["Newest ",Object(i.jsx)("i",{className:"fas fa-arrow-up"})]}),!0!==u&&Object(i.jsxs)("button",{type:"button",className:"btn btn-secondary",style:{padding:"3px 6px"},onClick:L,children:["Oldest ",Object(i.jsx)("i",{className:"fas fa-arrow-down"})]})]})]}),Object(i.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"10px"},children:m.map((function(e){return Object(i.jsx)("div",{children:g===e&&Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){return S(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})||Object(i.jsx)("button",{className:"btn btn-primary",onClick:function(){return S(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})},e)}))}),T,Object(i.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"10px"},children:m.map((function(e){return Object(i.jsx)("div",{children:g===e&&Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){return S(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})||Object(i.jsx)("button",{className:"btn btn-primary",onClick:function(){return S(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})},e)}))})]})},Ie=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:""},i}return Object(l.a)(n,[{key:"render",value:function(){return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:this.props.match.params.category})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsxs)("p",{children:["Read all ",this.props.match.params.category,"'s topics - DoanStack.be"]})}),Object(i.jsxs)("div",{id:"BlogBody",children:[Object(i.jsx)("div",{id:"BlogNav",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/blog",children:Object(i.jsx)("b",{children:"All"})})}),Object(i.jsx)("li",{children:"News"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/blog/News",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"News"})})||Object(i.jsx)(f.b,{to:"/blog/News",children:Object(i.jsx)("b",{children:"News"})})}),Object(i.jsx)("li",{children:"FrontEnd"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/blog/FrontEnd",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"FrontEnd"})})||Object(i.jsx)(f.b,{to:"/blog/FrontEnd",children:Object(i.jsx)("b",{children:"FrontEnd"})})}),Object(i.jsx)("li",{children:"BackEnd"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/blog/BackEnd",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"BackEnd"})})||Object(i.jsx)(f.b,{to:"/blog/BackEnd",children:Object(i.jsx)("b",{children:"BackEnd"})})}),Object(i.jsx)("li",{children:"Life"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/blog/Life",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Life"})})||Object(i.jsx)(f.b,{to:"/blog/Life",children:Object(i.jsx)("b",{children:"Life"})})}),Object(i.jsx)("li",{children:"Others"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/blog/Others",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Others"})})||Object(i.jsx)(f.b,{to:"/blog/Others",children:Object(i.jsx)("b",{children:"Others"})})})]})}),Object(i.jsx)("div",{id:"BlogHome",children:Object(i.jsx)(Pe,{category:this.props.match.params.category})})]})]})}}]),n}(r.Component),Ve=function(e){var t=e.articleId,n=e.user,a=Object(v.f)(),o=Object(r.useState)(n.id),s=Object(w.a)(o,1)[0],c=Object(r.useState)(n.username),l=Object(w.a)(c,1)[0],u=Object(r.useState)(n.avatar),d=Object(w.a)(u,1)[0],h=Object(r.useState)(n.email),f=Object(w.a)(h,1)[0],m=Object(r.useState)(),p=Object(w.a)(m,2),g=p[0],b=p[1],k=function(){var e=Object(R.a)(V.a.mark((function e(n){var i,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,i={article_id:t,author_id:s,author:l,author_avatar:d,email:f,content:g},e.next=6,fetch("/api/articlecoms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.clone().json()}));case 6:r=e.sent,console.log(r),a.go(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)("div",{children:Object(i.jsxs)("form",{onSubmit:k,children:[Object(i.jsxs)("div",{className:"form-row",children:[Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Username:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",defaultValue:l})]})}),Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Email:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",defaultValue:f})]})})]}),Object(i.jsx)("div",{className:"form-row",children:Object(i.jsx)("div",{className:"form-group col-md-12",children:Object(i.jsx)("textarea",{className:"form-control",id:"CommentContent",style:{width:"100%"},placeholder:"Write your comment",onChange:function(e){return b(e.target.value)}})})}),Object(i.jsxs)("button",{id:"ArticleCommentSubmit",className:"btn btn-success",children:[Object(i.jsx)("i",{className:"fas fa-paper-plane"})," Send comment"]})]})})})},Re=function(e){var t=e.articleId,n=e.articleName,a=Object(r.useState)([]),o=Object(w.a)(a,2),s=o[0],c=o[1];return Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/articleComs/article_id/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,c(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{className:"readComments",children:[!s.length&&Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{children:["0 comment for",Object(i.jsxs)("span",{style:{color:"blue"},children:[" ",n]})]})})}),1===s.length&&Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{children:[s.length," comment"]})})}),s.length>1&&Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{children:[s.length," comments"]})})}),Object(i.jsx)("div",{children:s.map((function(e){return Object(i.jsxs)("div",{className:"commentContainer",children:[Object(i.jsxs)("div",{className:"commentInfo",children:[Object(i.jsxs)("p",{children:["null"===e.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==e.author_avatar&&Object(i.jsx)("img",{src:e.author_avatar,className:"profile-img-card",alt:e.auhtor,style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),Object(i.jsx)("b",{children:e.author})]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Email: "}),e.email]}),Object(i.jsx)("p",{children:Object(i.jsx)("b",{children:new Intl.DateTimeFormat("nl-BE",{year:"numeric",month:"long",day:"2-digit"}).format(Date.parse(e.createdAt))})})]}),Object(i.jsx)("div",{className:"commentContent",children:Object(i.jsx)("p",{children:e.content})})]},e.id)}))})]})})},De=j.b().shape({username:j.c().required(),password:j.c().required()}),ze=function(){var e=Object(r.useState)(),t=Object(w.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!1),s=Object(w.a)(o,2),c=s[0],l=s[1],u=Object(r.useState)(!0),d=Object(w.a)(u,2),h=d[0],f=d[1],m=Object(_.b)({resolver:Object(x.yupResolver)(De)}),p=m.register,v=m.handleSubmit,g=m.errors,b=function(){f(!0!==h)};return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)("div",{className:"col-md-12",id:"Register",children:Object(i.jsxs)("div",{className:"card card-container",children:[Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"user-img-card"}),Object(i.jsxs)("form",{onSubmit:v((function(e){l(!0),y.login(e.username,e.password).then((function(){a(Object(i.jsx)("div",{className:"alert alert-success",role:"alert",children:'"Login Successfull!"'})),l(!1),window.location.reload()}),(function(e){a(Object(i.jsx)("div",{className:"alert alert-success",role:"alert",children:e.response.data.message})),l(!1)}))})),children:[n,Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Username"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"username",ref:p}),g.username&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:g.username.message})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Password"}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("input",{type:h?"password":"text",className:"form-control",placeholder:"Enter password",name:"password",autoComplete:"current-password",ref:p}),Object(i.jsxs)("div",{className:"input-group-append",children:[h&&Object(i.jsx)("span",{className:"input-group-text",onClick:b,children:Object(i.jsx)("i",{className:"far fa-eye"})}),!h&&Object(i.jsx)("span",{className:"input-group-text",onClick:b,children:Object(i.jsx)("i",{className:"fas fa-eye-slash"})})]}),g.password&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:g.password.message})]})]}),Object(i.jsx)("div",{className:"form-group",children:Object(i.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",children:[c&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(i.jsx)("span",{children:"Login"})]})})]})]})})})},Be=function(e){var t=e.articleId,n=e.currentUser,a=Object(v.f)(),o=Object(r.useState)(n),s=Object(w.a)(o,1)[0],c=Object(r.useState)([]),l=Object(w.a)(c,2),u=l[0],d=l[1],h=Object(r.useState)([]),m=Object(w.a)(h,2),p=m[0],g=m[1],b=Object(r.useState)(),k=Object(w.a)(b,2),y=k[0],_=k[1];Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/articles/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,d(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var t,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/articles/post/".concat(u.category));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,g(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[u.category]);var x,j=new Date,C=Date.parse(j.toString(u.createdAt));return"true"===y&&(x=Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"Sign in to comment this post"})}),Object(i.jsx)(ze,{})]})),Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:u.title})}),Object(i.jsxs)("div",{className:"BrowserNavbar",children:["Visitor"===s&&Object(i.jsxs)("p",{children:['"Writed by'," ","null"===u.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==u.author_avatar&&Object(i.jsx)("img",{src:u.author_avatar,className:"profile-img-card",alt:u.author,style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}})," ",u.author,'. Sign in to comment"']}),s.username&&Object(i.jsxs)("p",{children:['"Writed by'," ","null"===u.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==u.author_avatar&&Object(i.jsx)("img",{src:u.author_avatar,className:"profile-img-card",alt:u.author,style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}})," ",u.author,". Logged as",!s.avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"guest",className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),s.avatar&&Object(i.jsx)("img",{src:s.avatar,alt:s.username,className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),s.username,'."']})]}),Object(i.jsxs)("div",{id:"BlogBody",children:[Object(i.jsx)("div",{id:"BlogNav",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/blog",children:Object(i.jsx)("b",{children:"All"})})}),Object(i.jsx)("li",{children:"News"===u.category&&Object(i.jsx)(f.b,{to:"/blog/News",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"News"})})||Object(i.jsx)(f.b,{to:"/blog/News",children:Object(i.jsx)("b",{children:"News"})})}),Object(i.jsx)("li",{children:"FrontEnd"===u.category&&Object(i.jsx)(f.b,{to:"/blog/FrontEnd",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"FrontEnd"})})||Object(i.jsx)(f.b,{to:"/blog/FrontEnd",children:Object(i.jsx)("b",{children:"FrontEnd"})})}),Object(i.jsx)("li",{children:"BackEnd"===u.category&&Object(i.jsx)(f.b,{to:"/blog/BackEnd",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"BackEnd"})})||Object(i.jsx)(f.b,{to:"/blog/BackEnd",children:Object(i.jsx)("b",{children:"BackEnd"})})}),Object(i.jsx)("li",{children:"Life"===u.category&&Object(i.jsx)(f.b,{to:"/blog/Life",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Life"})})||Object(i.jsx)(f.b,{to:"/blog/Life",children:Object(i.jsx)("b",{children:"Life"})})}),Object(i.jsx)("li",{children:"Others"===u.category&&Object(i.jsx)(f.b,{to:"/blog/Others",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Others"})})||Object(i.jsx)(f.b,{to:"/blog/Others",children:Object(i.jsx)("b",{children:"Others"})})})]})}),Object(i.jsxs)("div",{id:"BlogHome",children:[Object(i.jsx)("div",{className:"backbutton",style:{marginBottom:"25px"},children:Object(i.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){a.goBack()},style:{color:"white",textDecoration:"none"},children:"Back"})}),Object(i.jsxs)("div",{id:"BlogHomeArticle",children:[Object(i.jsxs)("div",{className:"articleSoloHeader",children:[Object(i.jsx)("div",{id:"ImageFrame",children:Object(i.jsx)("img",{src:u.image,alt:u.title})}),Object(i.jsx)("div",{className:"articleSoloInfo",children:Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("strong",{children:"Writed by: "}),Object(i.jsxs)("p",{children:["null"===u.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"user-img-card",style:{width:"40px",height:"40px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==u.author_avatar&&Object(i.jsx)("img",{src:u.author_avatar,className:"user-img-card",alt:u.author,style:{width:"40px",height:"40px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),u.author]})]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("strong",{children:"Date: "}),Object(i.jsx)("p",{children:new Intl.DateTimeFormat("nl-BE",{year:"numeric",month:"long",day:"2-digit"}).format(C)})]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("strong",{children:"Tag: "}),Object(i.jsxs)("p",{children:["#",u.category]})]})]})})]}),Object(i.jsx)("div",{className:"articleSoloContent",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:u.content}})}),Object(i.jsxs)("div",{className:"relatedArticles",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Related posts"})})}),Object(i.jsx)("ul",{children:p.map((function(e){return Object(i.jsx)(f.b,{to:"/blog/".concat(e.category,"/").concat(e.id,"/").concat(e.title),style:{textDecoration:"none"},children:e.id!==u.id&&Object(i.jsx)("li",{children:Object(i.jsx)("p",{children:e.title})})},e.id)}))})]}),Object(i.jsxs)("div",{className:"commentArticle",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Write a comment"})})}),"Visitor"===s&&Object(i.jsxs)("p",{children:["To comment, please: \xa0",Object(i.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){_("true")},children:"Sign in"})]}),s.username&&Object(i.jsx)(Ve,{articleId:t,user:s}),x]}),Object(i.jsx)(Re,{articleId:t,articleName:u.name})]})]})]})]})},Fe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:"",currentUser:y.getCurrentUser()},i}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.currentUser;if(null==e){return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)(Be,{articleId:this.props.match.params.id,currentUser:"Visitor"})})}return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)(Be,{articleId:this.props.match.params.id,currentUser:e})})}}]),n}(r.Component),He=function(e){var t=e.productId,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1];Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productRatings/product_id/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,s(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);return Object(i.jsx)(r.Fragment,{children:function(e){var t=0;e.map((function(e){return t+=e.rating}));var n=t/e.length;return n>=1&&n<2?Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{style:{textAlign:"center"},children:[Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star"}),Object(i.jsx)("i",{className:"fas fa-star"}),Object(i.jsx)("i",{className:"fas fa-star"}),Object(i.jsx)("i",{className:"fas fa-star"})]}),1===e.length&&Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluation)")})||Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluations)")})]}):n>=2&&n<3?Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{style:{textAlign:"center"},children:[Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star"}),Object(i.jsx)("i",{className:"fas fa-star"}),Object(i.jsx)("i",{className:"fas fa-star"})]}),1===e.length&&Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluation)")})||Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluations)")})]}):n>=3&&n<4?Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{style:{textAlign:"center"},children:[Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star"}),Object(i.jsx)("i",{className:"fas fa-star"})]}),1===e.length&&Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluation)")})||Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluations)")})]}):n>=4&&n<5?Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{style:{textAlign:"center"},children:[Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star"})]}),1===e.length&&Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluation)")})||Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluations)")})]}):n>=5?Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{style:{textAlign:"center"},children:[Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}}),Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}})]}),1===e.length&&Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluation)")})||Object(i.jsx)("p",{style:{textAlign:"center"},children:"(".concat(e.length," evaluations)")})]}):void 0}(o)})},Ue=function(e){e.currentUser;var t=Object(r.useState)([]),n=Object(w.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(!0),c=Object(w.a)(s,2),l=c[0],u=c[1],d=Math.ceil(a.length/10),h=[],m=Object(r.useState)(1),p=Object(w.a)(m,2),v=p[0],g=p[1],b=Object(r.useState)(10),k=Object(w.a)(b,2),y=k[0],_=k[1],x=Object(r.useState)(0),j=Object(w.a)(x,2),C=j[0],O=j[1];Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var t,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/products/shop/status/true");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,o(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){_(10*v),O(y-10)}),[v,y]);for(var N=1;N<=d;N++)h.push(N);var A,T=function(){var e=Object(R.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{g(t)}catch(n){console.error(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return v&&(A=!0===l?Object(i.jsx)("div",{children:a.sort((function(e,t){var n=e.price;return t.price-n})).slice(C,y).map((function(e){return Object(i.jsx)(f.b,{to:"/shop/".concat(e.category,"/").concat(e.id,"/").concat(e.name),id:"ShopLink",children:Object(i.jsxs)("div",{className:"shopFrame",children:[Object(i.jsx)("div",{className:"shopImg",children:Object(i.jsx)("img",{src:e.image,alt:e.name})}),Object(i.jsx)("div",{className:"shopBody",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.description}})}),Object(i.jsxs)("div",{className:"shopInfo",children:[Object(i.jsx)("div",{className:"shopProductName",children:Object(i.jsx)("p",{children:e.name})}),Object(i.jsx)("div",{className:"ratings",children:Object(i.jsx)(He,{productId:e.id})}),Object(i.jsx)("div",{className:"shopProductPrice",children:Object(i.jsxs)("p",{children:["\u20ac",e.price]})})]})]})},e.id)}))}):Object(i.jsx)("div",{children:a.sort((function(e,t){return e.price-t.price})).slice(C,y).map((function(e){return Object(i.jsx)(f.b,{to:"/shop/".concat(e.category,"/").concat(e.id,"/").concat(e.name),id:"ShopLink",children:Object(i.jsxs)("div",{className:"shopFrame",children:[Object(i.jsx)("div",{className:"shopImg",children:Object(i.jsx)("img",{src:e.image,alt:e.name})}),Object(i.jsx)("div",{className:"shopBody",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.description}})}),Object(i.jsxs)("div",{className:"shopInfo",children:[Object(i.jsx)("div",{className:"shopProductName",children:Object(i.jsx)("p",{children:e.name})}),Object(i.jsx)("div",{className:"ratings",children:Object(i.jsx)(He,{productId:e.id})}),Object(i.jsx)("div",{className:"shopProductPrice",children:Object(i.jsxs)("p",{children:["\u20ac",e.price]})})]})]})},e.id)}))})),Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("div",{className:"dataFilter",style:{width:"100%",minHeight:"50px",display:"flex",flexFlow:"row wrap",justifyContent:"space-around"},children:[Object(i.jsx)("b",{children:"Sort products by: "}),Object(i.jsxs)("div",{children:[!0===l&&Object(i.jsxs)("button",{type:"button",className:"btn btn-primary",style:{padding:"3px 6px"},onClick:function(){u(!1)},children:["Price ",Object(i.jsx)("i",{className:"fas fa-arrow-up"})]}),!0!==l&&Object(i.jsxs)("button",{type:"button",className:"btn btn-secondary",style:{padding:"3px 6px"},onClick:function(){u(!0)},children:["Price ",Object(i.jsx)("i",{className:"fas fa-arrow-down"})]})]})]}),A,Object(i.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"10px",marginTop:"10px"},children:h.map((function(e){return Object(i.jsx)("div",{children:v===e&&Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){return T(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})||Object(i.jsx)("button",{className:"btn btn-primary",onClick:function(){return T(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})},e)}))})]})},qe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:"",currentUser:y.getCurrentUser()},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.getPublicContent().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data||t.message||t.toString()})}))}},{key:"render",value:function(){var e=this.state.currentUser;return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:"Shop"})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"My Eshop project with ratings & reviews"})}),Object(i.jsxs)("div",{id:"ShopBody",children:[Object(i.jsx)("div",{id:"ShopNav",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/shop",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"All"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/shop/Cosmetic",children:Object(i.jsx)("b",{children:"Cosmetic"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/shop/Fashion",children:Object(i.jsx)("b",{children:"Fashion"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/shop/PC",children:Object(i.jsx)("b",{children:"Pc"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/shop/Estate",children:Object(i.jsx)("b",{children:"Estate"})})}),Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/shop/Services",children:Object(i.jsx)("b",{children:"Services"})})})]})}),Object(i.jsx)("div",{id:"ShopHome",children:Object(i.jsx)("div",{id:"ShopHomeProducts",children:Object(i.jsx)(Ue,{currentUser:e})})})]})]})}}]),n}(r.Component),We=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)(qe,{})})}}]),n}(a.a.Component),Ze=function(e){var t=e.category,n=Object(r.useState)([]),a=Object(w.a)(n,2),o=a[0],s=a[1],c=Object(r.useState)(!0),l=Object(w.a)(c,2),u=l[0],d=l[1],h=Math.ceil(o.length/10),m=[],p=Object(r.useState)(1),v=Object(w.a)(p,2),g=v[0],b=v[1],k=Object(r.useState)(10),y=Object(w.a)(k,2),_=y[0],x=y[1],j=Object(r.useState)(0),C=Object(w.a)(j,2),O=C[0],N=C[1];Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/products/shop/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,s(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.useEffect)((function(){x(10*g),N(_-10)}),[g,_]);for(var A=1;A<=h;A++)m.push(A);var T,S=function(){var e=Object(R.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{b(t)}catch(n){console.error(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return g&&(T=!0===u?Object(i.jsx)("div",{children:o.sort((function(e,t){var n=e.price;return t.price-n})).slice(O,_).map((function(e){return Object(i.jsx)(f.b,{to:"/shop/".concat(e.category,"/").concat(e.id,"/").concat(e.name),id:"ShopLink",children:Object(i.jsxs)("div",{className:"shopFrame",children:[Object(i.jsx)("div",{className:"shopImg",children:Object(i.jsx)("img",{src:e.image,alt:e.name})}),Object(i.jsx)("div",{className:"shopBody",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.description}})}),Object(i.jsxs)("div",{className:"shopInfo",children:[Object(i.jsx)("div",{className:"shopProductName",children:Object(i.jsx)("p",{children:e.name})}),Object(i.jsx)("div",{className:"ratings",children:Object(i.jsx)(He,{productId:e.id})}),Object(i.jsx)("div",{className:"shopProductPrice",children:Object(i.jsxs)("p",{children:["\u20ac",e.price]})})]})]})},e.id)}))}):Object(i.jsx)("div",{children:o.sort((function(e,t){return e.price-t.price})).slice(O,_).map((function(e){return Object(i.jsx)(f.b,{to:"/shop/".concat(e.category,"/").concat(e.id,"/").concat(e.name),id:"ShopLink",children:Object(i.jsxs)("div",{className:"shopFrame",children:[Object(i.jsx)("div",{className:"shopImg",children:Object(i.jsx)("img",{src:e.image,alt:e.name})}),Object(i.jsx)("div",{className:"shopBody",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:e.description}})}),Object(i.jsxs)("div",{className:"shopInfo",children:[Object(i.jsx)("div",{className:"shopProductName",children:Object(i.jsx)("p",{children:e.name})}),Object(i.jsx)("div",{className:"ratings",children:Object(i.jsx)(He,{productId:e.id})}),Object(i.jsx)("div",{className:"shopProductPrice",children:Object(i.jsxs)("p",{children:["\u20ac",e.price]})})]})]})},e.id)}))})),Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("div",{className:"dataFilter",style:{width:"100%",minHeight:"50px",display:"flex",flexFlow:"row wrap",justifyContent:"space-around"},children:[Object(i.jsx)("b",{children:"Sort products by: "}),Object(i.jsxs)("div",{children:[!0===u&&Object(i.jsxs)("button",{type:"button",className:"btn btn-primary",style:{padding:"3px 6px"},onClick:function(){d(!1)},children:["Price ",Object(i.jsx)("i",{className:"fas fa-arrow-up"})]}),!0!==u&&Object(i.jsxs)("button",{type:"button",className:"btn btn-secondary",style:{padding:"3px 6px"},onClick:function(){d(!0)},children:["Price ",Object(i.jsx)("i",{className:"fas fa-arrow-down"})]})]})]}),T,Object(i.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"10px",marginTop:"10px"},children:m.map((function(e){return Object(i.jsx)("div",{children:g===e&&Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){return S(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})||Object(i.jsx)("button",{className:"btn btn-primary",onClick:function(){return S(e)},style:{padding:"2px 5px",marginRight:"5px"},children:e})},e)}))})]})},Ge=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:""},i}return Object(l.a)(n,[{key:"render",value:function(){return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:this.props.match.params.category})}),Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsxs)("p",{children:["All our best ",this.props.match.params.category,"'s deals - DoanStack.be"]})}),Object(i.jsxs)("div",{id:"ShopBody",children:[Object(i.jsx)("div",{id:"ShopNav",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/shop",children:Object(i.jsx)("b",{children:"All"})})}),Object(i.jsx)("li",{children:"Cosmetic"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/shop/Cosmetic",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Cosmetic"})})||Object(i.jsx)(f.b,{to:"/shop/Cosmetic",children:Object(i.jsx)("b",{children:"Cosmetic"})})}),Object(i.jsx)("li",{children:"Fashion"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/shop/Fashion",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Fashion"})})||Object(i.jsx)(f.b,{to:"/shop/Fashion",children:Object(i.jsx)("b",{children:"Fashion"})})}),Object(i.jsx)("li",{children:"PC"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/shop/PC",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Pc"})})||Object(i.jsx)(f.b,{to:"/shop/PC",children:Object(i.jsx)("b",{children:"Pc"})})}),Object(i.jsx)("li",{children:"Estate"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/shop/Estate",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Estate"})})||Object(i.jsx)(f.b,{to:"/shop/Estate",children:Object(i.jsx)("b",{children:"Estate"})})}),Object(i.jsx)("li",{children:"Services"===this.props.match.params.category&&Object(i.jsx)(f.b,{to:"/shop/Services",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Services"})})||Object(i.jsx)(f.b,{to:"/shop/Services",children:Object(i.jsx)("b",{children:"Services"})})})]})}),Object(i.jsx)("div",{id:"ShopHome",children:Object(i.jsx)("div",{id:"ShopHomeProducts",children:Object(i.jsx)(Ze,{category:this.props.match.params.category})})})]})]})}}]),n}(r.Component),Ye=function(e){var t=e.productId,n=e.userId,a=Object(r.useState)(n),o=Object(w.a)(a,1)[0],s=Object(r.useState)(),c=Object(w.a)(s,2),l=c[0],u=c[1],d=Object(v.f)(),h=Object(r.useState)([]),f=Object(w.a)(h,2),m=f[0],p=f[1],g=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productRatings/".concat(t),{method:"DELETE"});case 3:n=e.sent,d.go(),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var i,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productRatings/product_id/".concat(t,"/author_id/").concat(n));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,p(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t,n]);var b=function(){var e=Object(R.a)(V.a.mark((function e(n){var i,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,i={product_id:t,author_id:o,rating:l},e.next=6,fetch("/api/productRatings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.clone().json()}));case 6:r=e.sent,console.log(r),d.go(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{children:[0===m.length&&Object(i.jsxs)("form",{onSubmit:b,children:[Object(i.jsx)("div",{className:"productRatingBar",children:Object(i.jsxs)("div",{className:"productSubmitRating",children:[Object(i.jsx)("input",{id:"ProductInputFive",type:"radio",name:"radio",value:"5",onChange:function(e){return u(e.target.value)}}),Object(i.jsx)("input",{id:"ProductInputFour",type:"radio",name:"radio",value:"4",onChange:function(e){return u(e.target.value)}}),Object(i.jsx)("input",{id:"ProductInputThree",type:"radio",name:"radio",value:"3",onChange:function(e){return u(e.target.value)}}),Object(i.jsx)("input",{id:"ProductInputTwo",type:"radio",name:"radio",value:"2",onChange:function(e){return u(e.target.value)}}),Object(i.jsx)("input",{id:"ProductInputOne",type:"radio",name:"radio",value:"1",onChange:function(e){return u(e.target.value)}}),Object(i.jsxs)("div",{className:"productRating",id:"ProductStarOne",children:[Object(i.jsx)("i",{className:"fas fa-star",id:"StarOne"}),Object(i.jsx)("i",{className:"fas fa-star",id:"StarTwo"}),Object(i.jsx)("i",{className:"fas fa-star",id:"StarThree"}),Object(i.jsx)("i",{className:"fas fa-star",id:"StarFour"}),Object(i.jsx)("i",{className:"fas fa-star",id:"StarFive"})]})]})}),Object(i.jsx)("button",{id:"ProductRatingSubmit",className:"btn btn-warning",children:Object(i.jsx)("p",{children:"Send my rating"})})]}),m.map((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{children:["Your rating for this product is ",e.rating,Object(i.jsx)("i",{className:"fas fa-star",style:{color:"orange"}})]}),Object(i.jsxs)("button",{className:"btn btn-danger",onClick:function(){return g(e.id)},children:[Object(i.jsx)("i",{className:"far fa-trash-alt"})," Delete my rating"]})]},e.id)}))]})})},Qe=function(e){var t=e.productId,n=e.user,a=Object(v.f)(),o=Object(r.useState)(n.id),s=Object(w.a)(o,1)[0],c=Object(r.useState)(n.username),l=Object(w.a)(c,1)[0],u=Object(r.useState)(n.avatar),d=Object(w.a)(u,1)[0],h=Object(r.useState)(n.email),f=Object(w.a)(h,1)[0],m=Object(r.useState)(),p=Object(w.a)(m,2),g=p[0],b=p[1],k=function(){var e=Object(R.a)(V.a.mark((function e(n){var i,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,i={product_id:t,author_id:s,author:l,author_avatar:d,email:f,content:g},e.next=6,fetch("/api/productcoms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.clone().json()}));case 6:r=e.sent,console.log(r),a.go(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)("div",{children:Object(i.jsxs)("form",{onSubmit:k,children:[Object(i.jsxs)("div",{className:"form-row",children:[Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Username:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",defaultValue:l})]})}),Object(i.jsx)("div",{className:"form-group col-md-6",children:Object(i.jsxs)("div",{className:"input-group ",children:[Object(i.jsx)("div",{className:"input-group-prepend",children:Object(i.jsx)("span",{className:"input-group-text",children:"Email:"})}),Object(i.jsx)("input",{type:"text",className:"form-control",defaultValue:f})]})})]}),Object(i.jsx)("div",{className:"form-row",children:Object(i.jsx)("div",{className:"form-group col-md-12",children:Object(i.jsx)("textarea",{className:"form-control",id:"ReviewContent",style:{width:"100%"},placeholder:"Write your review",onChange:function(e){return b(e.target.value)}})})}),Object(i.jsxs)("button",{id:"ProductReviewSubmit",className:"btn btn-success",children:[Object(i.jsx)("i",{className:"fas fa-paper-plane"})," Send Review"]})]})})})},Ke=function(e){var t=e.productId,n=e.productName,a=Object(r.useState)([]),o=Object(w.a)(a,2),s=o[0],c=o[1];return Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productcoms/product_id/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,c(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{className:"readReviews",children:[null===s.length&&Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{children:["0 review for",Object(i.jsxs)("span",{style:{color:"blue"},children:[" ",n]})]})})}),1===s.length&&Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{children:[s.length," review"]})})}),s.length>1&&Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsxs)("h1",{children:[s.length," reviews"]})})}),Object(i.jsx)("div",{children:s.map((function(e){return Object(i.jsxs)("div",{className:"reviewContainer",children:[Object(i.jsxs)("div",{className:"reviewInfo",children:[Object(i.jsxs)("p",{children:["null"===e.author_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==e.author_avatar&&Object(i.jsx)("img",{src:e.author_avatar,className:"profile-img-card",alt:e.auhtor,style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),Object(i.jsx)("b",{children:e.author})]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Email: "}),e.email]}),Object(i.jsx)("p",{children:Object(i.jsx)("b",{children:new Intl.DateTimeFormat("nl-BE",{year:"numeric",month:"long",day:"2-digit"}).format(Date.parse(e.createdAt))})})]}),Object(i.jsx)("div",{className:"reviewContent",children:Object(i.jsx)("p",{children:e.content})})]},e.id)}))})]})})},$e=j.b().shape({username:j.c().required(),password:j.c().required()}),Je=function(){var e=Object(r.useState)(),t=Object(w.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!1),s=Object(w.a)(o,2),c=s[0],l=s[1],u=Object(r.useState)(!0),d=Object(w.a)(u,2),h=d[0],f=d[1],m=Object(_.b)({resolver:Object(x.yupResolver)($e)}),p=m.register,v=m.handleSubmit,g=m.errors,b=function(){f(!0!==h)};return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)("div",{className:"col-md-12",id:"Register",children:Object(i.jsxs)("div",{className:"card card-container",children:[Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"user-img-card"}),Object(i.jsxs)("form",{onSubmit:v((function(e){l(!0),y.login(e.username,e.password).then((function(){a(Object(i.jsx)("div",{className:"alert alert-success",role:"alert",children:'"Login Successfull!"'})),l(!1),window.location.reload()}),(function(e){a(Object(i.jsx)("div",{className:"alert alert-success",role:"alert",children:e.response.data.message})),l(!1)}))})),children:[n,Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Username"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"username",ref:p}),g.username&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:g.username.message})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Password"}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("input",{type:h?"password":"text",className:"form-control",placeholder:"Enter password",name:"password",autoComplete:"current-password",ref:p}),Object(i.jsxs)("div",{className:"input-group-append",children:[h&&Object(i.jsx)("span",{className:"input-group-text",onClick:b,children:Object(i.jsx)("i",{className:"far fa-eye"})}),!h&&Object(i.jsx)("span",{className:"input-group-text",onClick:b,children:Object(i.jsx)("i",{className:"fas fa-eye-slash"})})]}),g.password&&Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:g.password.message})]})]}),Object(i.jsx)("div",{className:"form-group",children:Object(i.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",children:[c&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(i.jsx)("span",{children:"Login"})]})})]})]})})})},Xe=function(e){var t=e.productId,n=e.currentUser,a=Object(v.f)(),o=Object(r.useState)(n),s=Object(w.a)(o,1)[0],c=Object(r.useState)([]),l=Object(w.a)(c,2),u=l[0],d=l[1],h=Object(r.useState)([]),m=Object(w.a)(h,2),p=m[0],g=m[1],b=Object(r.useState)([]),k=Object(w.a)(b,2),y=k[0],_=k[1],x=[],j=Object(r.useState)(),C=Object(w.a)(j,2),O=C[0],N=C[1],A=Object(r.useState)(),T=Object(w.a)(A,2),S=T[0],M=T[1];Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/products/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,d(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var t,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/products/shop/".concat(u.category));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,g(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[u.category]),Object(r.useEffect)((function(){(function(){var e=Object(R.a)(V.a.mark((function e(){var n,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/productimgs/product_id/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,_(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.useEffect)((function(){x.push({original:u.image,thumbnail:u.image});for(var e=0;e<y.length;e++)x.push({original:y[e].path,thumbnail:y[e].path})}));var L,E;return"true"===O&&(L=Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"Sign in to rate this product"})}),Object(i.jsx)(Je,{})]})),"true"===S&&(E=Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{className:"BrowserNavbar",children:Object(i.jsx)("p",{children:"Sign in to review this product"})}),Object(i.jsx)(Je,{})]})),Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{id:"TitleLink",children:Object(i.jsx)("h2",{children:u.name})}),Object(i.jsxs)("div",{className:"BrowserNavbar",children:["Visitor"===s&&Object(i.jsxs)("p",{children:['"By'," ","null"===u.vendor_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==u.vendor_avatar&&Object(i.jsx)("img",{src:u.vendor_avatar,className:"profile-img-card",alt:u.vendor,style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}})," ",u.vendor,'. Sign in to rate or review product"']}),s.username&&Object(i.jsxs)("p",{children:['"By'," ","null"===u.vendor_avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),"null"!==u.vendor_avatar&&Object(i.jsx)("img",{src:u.vendor_avatar,className:"profile-img-card",alt:u.vendor,style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}})," ",u.vendor,". Logged as  ",!s.avatar&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"guest",className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),s.avatar&&Object(i.jsx)("img",{src:s.avatar,alt:s.username,className:"profile-img-card",style:{width:"25px",height:"25px",display:"inline-block",marginBottom:"0",marginRight:"2px"}}),s.username,'."']})]}),Object(i.jsxs)("div",{id:"ShopBody",children:[Object(i.jsx)("div",{id:"ShopNav",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(f.b,{to:"/shop",children:Object(i.jsx)("b",{children:"All"})})}),Object(i.jsx)("li",{children:"Cosmetic"===u.category&&Object(i.jsx)(f.b,{to:"/shop/Cosmetic",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Cosmetic"})})||Object(i.jsx)(f.b,{to:"/Cosmetic",children:Object(i.jsx)("b",{children:"Cosmetic"})})}),Object(i.jsx)("li",{children:"Fashion"===u.category&&Object(i.jsx)(f.b,{to:"/shop/Fashion",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Fashion"})})||Object(i.jsx)(f.b,{to:"/shop/Fashion",children:Object(i.jsx)("b",{children:"Fashion"})})}),Object(i.jsx)("li",{children:"PC"===u.category&&Object(i.jsx)(f.b,{to:"/shop/PC",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Pc"})})||Object(i.jsx)(f.b,{to:"/shop/PC",children:Object(i.jsx)("b",{children:"Pc"})})}),Object(i.jsx)("li",{children:"Estate"===u.category&&Object(i.jsx)(f.b,{to:"/shop/Estate",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Estate"})})||Object(i.jsx)(f.b,{to:"/shop/Estate",children:Object(i.jsx)("b",{children:"Estate"})})}),Object(i.jsx)("li",{children:"Services"===u.category&&Object(i.jsx)(f.b,{to:"/shop/Services",style:{fontSize:"18px",color:"rgb(0, 162, 255)"},children:Object(i.jsx)("b",{children:"Services"})})||Object(i.jsx)(f.b,{to:"/shop/Services",children:Object(i.jsx)("b",{children:"Services"})})})]})}),Object(i.jsxs)("div",{id:"ShopHome",children:[Object(i.jsx)("div",{className:"backbutton",style:{marginBottom:"10px"},children:Object(i.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){a.goBack()},style:{color:"white",textDecoration:"none"},children:"Back"})}),Object(i.jsxs)("div",{id:"ShopHomeProduct",children:[Object(i.jsxs)("div",{className:"productSoloHeader",children:[Object(i.jsx)(Q.a,{showBullets:!0,showIndex:!0,slideOnThumbnailOver:!0,items:x}),Object(i.jsxs)("div",{className:"productSoloInfo",children:[Object(i.jsx)("div",{className:"productSoloName",children:Object(i.jsx)("p",{children:u.name})}),Object(i.jsx)("div",{className:"productSoloRating",children:Object(i.jsx)(He,{productId:t})}),Object(i.jsx)("div",{className:"productSoloPrice",children:Object(i.jsxs)("p",{children:["\u20ac",u.price]})}),0!==u.quantity&&Object(i.jsx)("div",{className:"productSoloQuantity",children:1===u.quantity&&Object(i.jsx)("p",{style:{color:"black"},children:Object(i.jsx)("span",{className:"warning",style:{color:"#b12704"},children:Object(i.jsx)("b",{children:"Last piece !!!"})})})||Object(i.jsx)("p",{style:{color:"black"},children:Object(i.jsxs)("span",{className:"noWarning",style:{color:"##018b08"},children:[u.quantity," pcs left"]})})}),Object(i.jsx)("div",{className:"productSoloAdd",children:Object(i.jsxs)("button",{type:"button",className:"btn btn-warning",children:[Object(i.jsx)("i",{className:"fas fa-cart-plus"}),Object(i.jsx)("p",{children:"Add to cart"})]})})]})]}),Object(i.jsx)("div",{className:"productSoloContent",children:Object(i.jsx)("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:u.description}})}),Object(i.jsxs)("div",{className:"relatedProducts",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Same category"})})}),Object(i.jsx)("ul",{children:p.map((function(e){return Object(i.jsx)(f.b,{to:"/shop/".concat(e.category,"/").concat(e.id,"/").concat(e.name),style:{textDecoration:"none"},children:e.id!==u.id&&Object(i.jsx)("li",{children:Object(i.jsx)("p",{children:e.name})})},e.id)}))})]}),Object(i.jsxs)("div",{className:"rateThisProduct",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Rate this product"})})}),"Visitor"===s&&Object(i.jsxs)("p",{children:["To rate this product, please: \xa0",Object(i.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){N("true"),M("false")},children:"Sign in"})]}),s.username&&Object(i.jsx)(Ye,{productId:t,userId:s.id}),L]}),Object(i.jsxs)("div",{className:"reviewProduct",children:[Object(i.jsx)("div",{className:"ComponentTitle",children:Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Write a review"})})}),"Visitor"===s&&Object(i.jsxs)("p",{children:["To write a review, please: \xa0",Object(i.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){M("true"),N("false")},children:"Sign in"})]}),s.username&&Object(i.jsx)(Qe,{productId:t,user:s}),E]}),Object(i.jsx)(Ke,{productId:t,productName:u.name})]})]})]})]})},et=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:"",currentUser:y.getCurrentUser()},i}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.currentUser;if(null==e){return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)(Xe,{productId:this.props.match.params.id,currentUser:"Visitor"})})}return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)(Xe,{productId:this.props.match.params.id,currentUser:e})})}}]),n}(r.Component),tt=function(){return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)("div",{className:"container-fluid navbar-fixed-bottom",id:"contact-bar",children:Object(i.jsx)("div",{id:"SocialMedia",children:Object(i.jsxs)("ul",{className:"list-inline text-center",children:[Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"mailto:doan88nguyen@gmail.com",children:Object(i.jsx)("i",{className:"fa fa-envelope rotate"})})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://github.com/Adnvitamine?tab=repositories",children:Object(i.jsx)("i",{className:"fab fa-github-square"})})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://www.youtube.com/channel/UCSx8ihkxw5dYVy-ubOyQyJQ/featured",children:Object(i.jsx)("i",{className:"fab fa-youtube-square"})})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://www.linkedin.com/in/doan88nguyen/",children:Object(i.jsx)("i",{className:"fab fa-linkedin"})})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://www.facebook.com/AznVitamine/",children:Object(i.jsx)("i",{className:"fab fa-facebook"})})})]})})})})},nt=j.b().shape({name:j.c().required().min(2).max(50),email:j.c().required().email(),title:j.c().required().min(2).max(150),message:j.c().required()}),it=function(){var e=Object(r.useState)("CONTACT ME!"),t=Object(w.a)(e,2),n=t[0],a=t[1],o=Object(_.b)({resolver:Object(x.yupResolver)(nt)}),s=o.register,c=o.handleSubmit,l=o.errors,u=function(){var e=Object(R.a)(V.a.mark((function e(t){var n,i,r,o,s,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.name,i=t.email,r=t.title,o=t.message,null,1,!0,s={name:n,email:i,title:r,message:o,sender_id:null,owner_id:1,recent:true},console.log(s),e.next=12,fetch("/api/mails",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.clone().json()}));case 12:c=e.sent,console.log(c),c&&a("Message Sended!"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)(r.Fragment,{children:Object(i.jsx)("div",{id:"FooterContact",children:Object(i.jsxs)("div",{className:"screen",children:[Object(i.jsx)("div",{className:"screen-header"}),Object(i.jsxs)("div",{className:"screen-body",children:[Object(i.jsxs)("div",{className:"screen-body-item left",children:[Object(i.jsx)("div",{className:"app-title",children:"CONTACT ME!"!==n&&Object(i.jsx)("span",{style:{color:"green"},children:n})||Object(i.jsx)("span",{children:n})}),Object(i.jsx)("div",{className:"app-contact",children:"CONTACT INFO : +32/484.98.95.34"})]}),Object(i.jsx)("div",{className:"screen-body-item",children:Object(i.jsx)("form",{onSubmit:c(u),children:Object(i.jsxs)("div",{className:"app-form",children:[Object(i.jsxs)("div",{className:"app-form-group",children:[Object(i.jsx)("input",{className:"app-form-control",name:"name","aria-describedby":"nameAlert",placeholder:"NAME",ref:s}),l.name&&Object(i.jsx)("small",{id:"nameAlert",className:"form-text",style:{color:"red"},children:l.name.message})]}),Object(i.jsxs)("div",{className:"app-form-group",children:[Object(i.jsx)("input",{className:"app-form-control",name:"email",placeholder:"EMAIL",ref:s}),l.email&&Object(i.jsx)("small",{id:"nameAlert",className:"form-text",style:{color:"red"},children:l.email.message})]}),Object(i.jsxs)("div",{className:"app-form-group",children:[Object(i.jsx)("input",{className:"app-form-control",name:"title",placeholder:"TITLE",ref:s}),l.title&&Object(i.jsx)("small",{id:"nameAlert",className:"form-text",style:{color:"red"},children:l.title.message})]}),Object(i.jsxs)("div",{className:"app-form-group message",children:[Object(i.jsx)("textarea",{className:"app-form-control",name:"message",placeholder:"MESSAGE",ref:s}),l.message&&Object(i.jsx)("small",{id:"nameAlert",className:"form-text",style:{color:"red"},children:l.message.message})]}),Object(i.jsx)("div",{className:"app-form-group buttons",children:Object(i.jsx)("button",{className:"app-form-button",children:"SEND"})})]})})})]})]})})})},rt=function(){return Object(i.jsx)(r.Fragment,{children:Object(i.jsxs)("div",{id:"Footer",children:[Object(i.jsx)(tt,{}),Object(i.jsx)(it,{})]})})},at=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).logOut=i.logOut.bind(Object(u.a)(i)),i.state={showModeratorBoard:!1,showAdminBoard:!1,currentUser:void 0,isToggleOn:!0},i.handleClick=i.handleClick.bind(Object(u.a)(i)),i.handleClickTrue=i.handleClickTrue.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=y.getCurrentUser();e&&this.setState({currentUser:e,showModeratorBoard:e.roles.includes("Role: MODERATOR"),showAdminBoard:e.roles.includes("Role: ADMIN")})}},{key:"handleClick",value:function(){this.setState((function(e){return{isToggleOn:!e.isToggleOn}}))}},{key:"handleClickTrue",value:function(){this.setState((function(e){return{isToggleOn:!0}}))}},{key:"logOut",value:function(){y.logout()}},{key:"render",value:function(){var e=this.state,t=e.currentUser,n=e.showModeratorBoard,a=e.showAdminBoard;return Object(i.jsx)(f.a,{children:Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("input",{id:"switch",type:"checkbox"}),Object(i.jsxs)("div",{id:"FullFrame",children:[Object(i.jsxs)("nav",{className:"navbar navbar-expand",id:"fixedNavbar",children:[Object(i.jsx)(f.b,{to:"/",id:"LogoNav",children:Object(i.jsxs)("div",{className:"DoanStackLogo",children:[Object(i.jsx)("div",{className:"DoanStackLogoImg"}),Object(i.jsx)("div",{className:"DoanStackLogoName",children:Object(i.jsx)("p",{id:"LogoText",children:"DoanStack"})})]})}),Object(i.jsxs)("div",{className:"navbar-nav mr-auto",id:"leftMenu",children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/home",className:"nav-link",children:"Home"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/blog",className:"nav-link",children:"Blog"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/shop",className:"nav-link",children:"Shop"})})]}),Object(i.jsx)("div",{id:"MobileMenu",children:Object(i.jsxs)("div",{id:"menuToggle",children:[this.state.isToggleOn?Object(i.jsx)("input",{type:"checkbox",id:"menuToggleInput"}):Object(i.jsx)("input",{type:"checkbox",id:"menuToggleInput1",onClick:this.handleClickTrue}),Object(i.jsx)("span",{}),Object(i.jsx)("span",{}),Object(i.jsx)("span",{}),t?Object(i.jsxs)("ul",{id:this.state.isToggleOn?"menu":"menu1",children:[Object(i.jsx)("li",{className:"mobilenav-item",id:"MobileHome",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/home",className:"nav-link",children:"Home"})}),Object(i.jsx)("li",{className:"mobilenav-item",id:"MobileBlog",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/blog",className:"nav-link",children:"Blog"})}),Object(i.jsx)("li",{className:"mobilenav-item",id:"MobileShop",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/shop",className:"nav-link",children:"Shop"})}),n&&Object(i.jsx)("li",{className:"mobilenav-item",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/mod",className:"nav-link",children:"Mod"})}),t&&Object(i.jsx)("li",{className:"mobilenav-item",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/user",className:"nav-link",children:"User"})}),t&&!a&&Object(i.jsx)("li",{className:"mobilenav-item",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/mail",className:"nav-link",children:"Mail"})}),a&&Object(i.jsx)("li",{className:"mobilenav-item",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/admin",className:"nav-link",children:"Admin"})}),Object(i.jsx)("li",{className:"mobilenav-item",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/profile",className:"nav-link",children:t.username})}),Object(i.jsx)("li",{className:"mobilenav-item",onClick:this.handleClick,children:Object(i.jsx)("a",{href:"/login",className:"nav-link",onClick:this.logOut,children:Object(i.jsx)("i",{className:"fas fa-sign-out-alt"})})})]}):Object(i.jsxs)("ul",{id:"menu",children:[Object(i.jsx)("li",{className:"mobilenav-item",id:"MobileHome",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/home",className:"nav-link",children:"Home"})}),Object(i.jsx)("li",{className:"mobilenav-item",id:"MobileBlog",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/blog",className:"nav-link",children:"Blog"})}),Object(i.jsx)("li",{className:"mobilenav-item",id:"MobileShop",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/shop",className:"nav-link",children:"Shop"})}),Object(i.jsx)("li",{className:"mobilenav-item",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/register",className:"nav-link",children:"Register"})}),Object(i.jsx)("li",{className:"mobilenav-item",onClick:this.handleClick,children:Object(i.jsx)(f.b,{to:"/login",className:"nav-link",children:"Login"})})]})]})}),t?Object(i.jsxs)("div",{className:"navbar-nav ml-auto",id:"rightMenu",children:[n&&Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/mod",className:"nav-link",children:"Mod"})}),t&&Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/user",className:"nav-link",children:"User"})}),t&&!a&&Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/mail",className:"nav-link",children:"Mail"})}),a&&Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/admin",className:"nav-link",children:"Admin"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/profile",className:"nav-link",children:t.username})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)("a",{href:"/login",className:"nav-link",onClick:this.logOut,children:Object(i.jsx)("i",{className:"fas fa-sign-out-alt"})})})]}):Object(i.jsxs)("div",{className:"navbar-nav ml-auto",id:"rightMenu",children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/register",className:"nav-link",children:"Register"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(f.b,{to:"/login",className:"nav-link",children:"Login"})})]}),Object(i.jsxs)("label",{htmlFor:"switch",id:"Label",children:[Object(i.jsx)("div",{className:"toggle"}),Object(i.jsxs)("div",{className:"names",children:[Object(i.jsx)("p",{className:"light",children:"Light"}),Object(i.jsx)("p",{className:"dark",children:"Dark"})]})]})]}),Object(i.jsx)("div",{className:"mainBoard",children:Object(i.jsxs)(v.c,{children:[Object(i.jsx)(v.a,{exact:!0,path:["/","/home"],component:P}),Object(i.jsx)(v.a,{exact:!0,path:"/blog",component:Ee}),Object(i.jsx)(v.a,{exact:!0,path:"/blog/:category",component:Ie}),Object(i.jsx)(v.a,{exact:!0,path:"/blog/:category/:id/:title",component:Fe}),Object(i.jsx)(v.a,{exact:!0,path:"/shop",component:We}),Object(i.jsx)(v.a,{exact:!0,path:"/shop/:category",component:Ge}),Object(i.jsx)(v.a,{exact:!0,path:"/shop/:category/:id/:title",component:et}),Object(i.jsx)(v.a,{exact:!0,path:"/register",component:N}),Object(i.jsx)(v.a,{exact:!0,path:"/login",component:S}),Object(i.jsx)(v.a,{exact:!0,path:"/profile",component:B}),Object(i.jsx)(v.a,{path:"/user",component:ve}),Object(i.jsx)(v.a,{path:"/mail",component:_e}),Object(i.jsx)(v.a,{path:"/mod",component:Te}),Object(i.jsx)(v.a,{path:"/admin",component:Se})]})}),Object(i.jsx)(rt,{})]})]})})}}]),n}(a.a.Component),ot=at;p.a.renderToString(Object(i.jsx)(at,{})),s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(ot,{})}),document.getElementById("root"))},32:function(e,t,n){var i=n(104),r=n(105),a=n(44),o=n(68),s=n(114),c=n(109),l=n(280),u=n(284),d=n(112),h=n(3),f=n(110),m=n(111),p=n(106),v=n(107),g=n(288);!function(e){var t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"%0 of %1":"%0 of %1","Align center":"Align center","Align left":"Align left","Align right":"Align right","Almost equal to":"Almost equal to",Angle:"Angle","Approximately equal to":"Approximately equal to",Aquamarine:"Aquamarine","Asterisk operator":"Asterisk operator","Austral sign":"Austral sign","back with leftwards arrow above":"back with leftwards arrow above",Big:"Big","Bitcoin sign":"Bitcoin sign",Black:"Black","Block quote":"Block quote",Blue:"Blue","Blue marker":"Blue marker",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Cedi sign":"Cedi sign","Cent sign":"Cent sign","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Character categories":"Character categories","Choose heading":"Choose heading","Colon sign":"Colon sign",Column:"Column","Contains as member":"Contains as member","Copyright sign":"Copyright sign","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Cruzeiro sign":"Cruzeiro sign","Currency sign":"Currency sign","Decrease indent":"Decrease indent",Default:"Default","Degree sign":"Degree sign","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey","Division sign":"Division sign","Document colors":"Document colors","Dollar sign":"Dollar sign","Dong sign":"Dong sign","Double dagger":"Double dagger","Double exclamation mark":"Double exclamation mark","Double low-9 quotation mark":"Double low-9 quotation mark","Double question mark":"Double question mark",Downloadable:"Downloadable","downwards arrow to bar":"downwards arrow to bar","downwards dashed arrow":"downwards dashed arrow","downwards double arrow":"downwards double arrow","Drachma sign":"Drachma sign","Dropdown toolbar":"Dropdown toolbar","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Element of":"Element of","Em dash":"Em dash","Empty set":"Empty set","En dash":"En dash","end with leftwards arrow above":"end with leftwards arrow above","Enter image caption":"Enter image caption","Euro sign":"Euro sign","Euro-currency sign":"Euro-currency sign","Exclamation question mark":"Exclamation question mark","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size","For all":"For all","Fraction slash":"Fraction slash","French franc sign":"French franc sign","Full size image":"Full size image","German penny sign":"German penny sign","Greater-than or equal to":"Greater-than or equal to","Greater-than sign":"Greater-than sign",Green:"Green","Green marker":"Green marker","Green pen":"Green pen",Grey:"Grey","Guarani sign":"Guarani sign","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Highlight:"Highlight","Horizontal ellipsis":"Horizontal ellipsis","Horizontal line":"Horizontal line","Hryvnia sign":"Hryvnia sign",Huge:"Huge","Identical to":"Identical to","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent","Indian rupee sign":"Indian rupee sign",Infinity:"Infinity","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Integral:"Integral",Intersection:"Intersection","Inverted exclamation mark":"Inverted exclamation mark","Inverted question mark":"Inverted question mark",Italic:"Italic",Justify:"Justify","Kip sign":"Kip sign","Latin capital letter a with breve":"Latin capital letter a with breve","Latin capital letter a with macron":"Latin capital letter a with macron","Latin capital letter a with ogonek":"Latin capital letter a with ogonek","Latin capital letter c with acute":"Latin capital letter c with acute","Latin capital letter c with caron":"Latin capital letter c with caron","Latin capital letter c with circumflex":"Latin capital letter c with circumflex","Latin capital letter c with dot above":"Latin capital letter c with dot above","Latin capital letter d with caron":"Latin capital letter d with caron","Latin capital letter d with stroke":"Latin capital letter d with stroke","Latin capital letter e with breve":"Latin capital letter e with breve","Latin capital letter e with caron":"Latin capital letter e with caron","Latin capital letter e with dot above":"Latin capital letter e with dot above","Latin capital letter e with macron":"Latin capital letter e with macron","Latin capital letter e with ogonek":"Latin capital letter e with ogonek","Latin capital letter eng":"Latin capital letter eng","Latin capital letter g with breve":"Latin capital letter g with breve","Latin capital letter g with cedilla":"Latin capital letter g with cedilla","Latin capital letter g with circumflex":"Latin capital letter g with circumflex","Latin capital letter g with dot above":"Latin capital letter g with dot above","Latin capital letter h with circumflex":"Latin capital letter h with circumflex","Latin capital letter h with stroke":"Latin capital letter h with stroke","Latin capital letter i with breve":"Latin capital letter i with breve","Latin capital letter i with dot above":"Latin capital letter i with dot above","Latin capital letter i with macron":"Latin capital letter i with macron","Latin capital letter i with ogonek":"Latin capital letter i with ogonek","Latin capital letter i with tilde":"Latin capital letter i with tilde","Latin capital letter j with circumflex":"Latin capital letter j with circumflex","Latin capital letter k with cedilla":"Latin capital letter k with cedilla","Latin capital letter l with acute":"Latin capital letter l with acute","Latin capital letter l with caron":"Latin capital letter l with caron","Latin capital letter l with cedilla":"Latin capital letter l with cedilla","Latin capital letter l with middle dot":"Latin capital letter l with middle dot","Latin capital letter l with stroke":"Latin capital letter l with stroke","Latin capital letter n with acute":"Latin capital letter n with acute","Latin capital letter n with caron":"Latin capital letter n with caron","Latin capital letter n with cedilla":"Latin capital letter n with cedilla","Latin capital letter o with breve":"Latin capital letter o with breve","Latin capital letter o with double acute":"Latin capital letter o with double acute","Latin capital letter o with macron":"Latin capital letter o with macron","Latin capital letter r with acute":"Latin capital letter r with acute","Latin capital letter r with caron":"Latin capital letter r with caron","Latin capital letter r with cedilla":"Latin capital letter r with cedilla","Latin capital letter s with acute":"Latin capital letter s with acute","Latin capital letter s with caron":"Latin capital letter s with caron","Latin capital letter s with cedilla":"Latin capital letter s with cedilla","Latin capital letter s with circumflex":"Latin capital letter s with circumflex","Latin capital letter t with caron":"Latin capital letter t with caron","Latin capital letter t with cedilla":"Latin capital letter t with cedilla","Latin capital letter t with stroke":"Latin capital letter t with stroke","Latin capital letter u with breve":"Latin capital letter u with breve","Latin capital letter u with double acute":"Latin capital letter u with double acute","Latin capital letter u with macron":"Latin capital letter u with macron","Latin capital letter u with ogonek":"Latin capital letter u with ogonek","Latin capital letter u with ring above":"Latin capital letter u with ring above","Latin capital letter u with tilde":"Latin capital letter u with tilde","Latin capital letter w with circumflex":"Latin capital letter w with circumflex","Latin capital letter y with circumflex":"Latin capital letter y with circumflex","Latin capital letter y with diaeresis":"Latin capital letter y with diaeresis","Latin capital letter z with acute":"Latin capital letter z with acute","Latin capital letter z with caron":"Latin capital letter z with caron","Latin capital letter z with dot above":"Latin capital letter z with dot above","Latin capital ligature ij":"Latin capital ligature ij","Latin capital ligature oe":"Latin capital ligature oe","Latin small letter a with breve":"Latin small letter a with breve","Latin small letter a with macron":"Latin small letter a with macron","Latin small letter a with ogonek":"Latin small letter a with ogonek","Latin small letter c with acute":"Latin small letter c with acute","Latin small letter c with caron":"Latin small letter c with caron","Latin small letter c with circumflex":"Latin small letter c with circumflex","Latin small letter c with dot above":"Latin small letter c with dot above","Latin small letter d with caron":"Latin small letter d with caron","Latin small letter d with stroke":"Latin small letter d with stroke","Latin small letter dotless i":"Latin small letter dotless i","Latin small letter e with breve":"Latin small letter e with breve","Latin small letter e with caron":"Latin small letter e with caron","Latin small letter e with dot above":"Latin small letter e with dot above","Latin small letter e with macron":"Latin small letter e with macron","Latin small letter e with ogonek":"Latin small letter e with ogonek","Latin small letter eng":"Latin small letter eng","Latin small letter f with hook":"Latin small letter f with hook","Latin small letter g with breve":"Latin small letter g with breve","Latin small letter g with cedilla":"Latin small letter g with cedilla","Latin small letter g with circumflex":"Latin small letter g with circumflex","Latin small letter g with dot above":"Latin small letter g with dot above","Latin small letter h with circumflex":"Latin small letter h with circumflex","Latin small letter h with stroke":"Latin small letter h with stroke","Latin small letter i with breve":"Latin small letter i with breve","Latin small letter i with macron":"Latin small letter i with macron","Latin small letter i with ogonek":"Latin small letter i with ogonek","Latin small letter i with tilde":"Latin small letter i with tilde","Latin small letter j with circumflex":"Latin small letter j with circumflex","Latin small letter k with cedilla":"Latin small letter k with cedilla","Latin small letter kra":"Latin small letter kra","Latin small letter l with acute":"Latin small letter l with acute","Latin small letter l with caron":"Latin small letter l with caron","Latin small letter l with cedilla":"Latin small letter l with cedilla","Latin small letter l with middle dot":"Latin small letter l with middle dot","Latin small letter l with stroke":"Latin small letter l with stroke","Latin small letter long s":"Latin small letter long s","Latin small letter n preceded by apostrophe":"Latin small letter n preceded by apostrophe","Latin small letter n with acute":"Latin small letter n with acute","Latin small letter n with caron":"Latin small letter n with caron","Latin small letter n with cedilla":"Latin small letter n with cedilla","Latin small letter o with breve":"Latin small letter o with breve","Latin small letter o with double acute":"Latin small letter o with double acute","Latin small letter o with macron":"Latin small letter o with macron","Latin small letter r with acute":"Latin small letter r with acute","Latin small letter r with caron":"Latin small letter r with caron","Latin small letter r with cedilla":"Latin small letter r with cedilla","Latin small letter s with acute":"Latin small letter s with acute","Latin small letter s with caron":"Latin small letter s with caron","Latin small letter s with cedilla":"Latin small letter s with cedilla","Latin small letter s with circumflex":"Latin small letter s with circumflex","Latin small letter t with caron":"Latin small letter t with caron","Latin small letter t with cedilla":"Latin small letter t with cedilla","Latin small letter t with stroke":"Latin small letter t with stroke","Latin small letter u with breve":"Latin small letter u with breve","Latin small letter u with double acute":"Latin small letter u with double acute","Latin small letter u with macron":"Latin small letter u with macron","Latin small letter u with ogonek":"Latin small letter u with ogonek","Latin small letter u with ring above":"Latin small letter u with ring above","Latin small letter u with tilde":"Latin small letter u with tilde","Latin small letter w with circumflex":"Latin small letter w with circumflex","Latin small letter y with circumflex":"Latin small letter y with circumflex","Latin small letter z with acute":"Latin small letter z with acute","Latin small letter z with caron":"Latin small letter z with caron","Latin small letter z with dot above":"Latin small letter z with dot above","Latin small ligature ij":"Latin small ligature ij","Latin small ligature oe":"Latin small ligature oe","Left aligned image":"Left aligned image","Left double quotation mark":"Left double quotation mark","Left single quotation mark":"Left single quotation mark","Left-pointing double angle quotation mark":"Left-pointing double angle quotation mark","leftwards arrow to bar":"leftwards arrow to bar","leftwards dashed arrow":"leftwards dashed arrow","leftwards double arrow":"leftwards double arrow","Less-than or equal to":"Less-than or equal to","Less-than sign":"Less-than sign","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Lira sign":"Lira sign","Livre tournois sign":"Livre tournois sign","Logical and":"Logical and","Logical or":"Logical or",Macron:"Macron","Manat sign":"Manat sign","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Mill sign":"Mill sign","Minus sign":"Minus sign","Multiplication sign":"Multiplication sign","N-ary product":"N-ary product","N-ary summation":"N-ary summation",Nabla:"Nabla","Naira sign":"Naira sign","New sheqel sign":"New sheqel sign",Next:"Next","Nordic mark sign":"Nordic mark sign","Not an element of":"Not an element of","Not equal to":"Not equal to","Not sign":"Not sign","Numbered List":"Numbered List","on with exclamation mark with left right arrow above":"on with exclamation mark with left right arrow above","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Overline:"Overline",Paragraph:"Paragraph","Paragraph sign":"Paragraph sign","Partial differential":"Partial differential","Paste the media URL in the input.":"Paste the media URL in the input.","Per mille sign":"Per mille sign","Per ten thousand sign":"Per ten thousand sign","Peseta sign":"Peseta sign","Peso sign":"Peso sign","Pink marker":"Pink marker","Plus-minus sign":"Plus-minus sign","Pound sign":"Pound sign",Previous:"Previous","Proportional to":"Proportional to",Purple:"Purple","Question exclamation mark":"Question exclamation mark",Red:"Red","Red pen":"Red pen",Redo:"Redo","Registered sign":"Registered sign","Remove color":"Remove color","Remove highlight":"Remove highlight","Reversed paragraph sign":"Reversed paragraph sign","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image","Right double quotation mark":"Right double quotation mark","Right single quotation mark":"Right single quotation mark","Right-pointing double angle quotation mark":"Right-pointing double angle quotation mark","rightwards arrow to bar":"rightwards arrow to bar","rightwards dashed arrow":"rightwards dashed arrow","rightwards double arrow":"rightwards double arrow",Row:"Row","Ruble sign":"Ruble sign","Rupee sign":"Rupee sign",Save:"Save","Section sign":"Section sign","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Single left-pointing angle quotation mark":"Single left-pointing angle quotation mark","Single low-9 quotation mark":"Single low-9 quotation mark","Single right-pointing angle quotation mark":"Single right-pointing angle quotation mark",Small:"Small","soon with rightwards arrow above":"soon with rightwards arrow above","Special characters":"Special characters","Spesmilo sign":"Spesmilo sign","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Square root":"Square root","Table toolbar":"Table toolbar","Tenge sign":"Tenge sign","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","Text highlight toolbar":"Text highlight toolbar","The URL must not be empty.":"The URL must not be empty.","There exists":"There exists","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tilde operator":"Tilde operator",Tiny:"Tiny","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","top with upwards arrow above":"top with upwards arrow above","Trade mark sign":"Trade mark sign","Tugrik sign":"Tugrik sign","Turkish lira sign":"Turkish lira sign",Turquoise:"Turquoise","Two dot leader":"Two dot leader",Underline:"Underline",Undo:"Undo",Union:"Union",Unlink:"Unlink","up down arrow with base":"up down arrow with base","Upload failed":"Upload failed","Upload in progress":"Upload in progress","upwards arrow to bar":"upwards arrow to bar","upwards dashed arrow":"upwards dashed arrow","upwards double arrow":"upwards double arrow","Vulgar fraction one half":"Vulgar fraction one half","Vulgar fraction one quarter":"Vulgar fraction one quarter","Vulgar fraction three quarters":"Vulgar fraction three quarters",White:"White","Widget toolbar":"Widget toolbar","Won sign":"Won sign",Yellow:"Yellow","Yellow marker":"Yellow marker","Yen sign":"Yen sign"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=116)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(e){p(n,e);var t=v(n);function n(e,i,a){var o;return f(this,n),e=r(e),a&&(e+=" "+JSON.stringify(a)),(o=t.call(this,e)).name="CKEditorError",o.context=i,o.data=a,o}return m(n,[{key:"is",value:function(e){return"CKEditorError"===e}}],[{key:"rethrowUnexpectedError",value:function(e,t){if(e.is&&e.is("CKEditorError"))throw e;var i=new n(e.message,t);throw i.stack=e.stack,i}}]),n}(g(Error));function r(e){var t=e.match(/^([^:]+):/);return t?e+" Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-".concat(t[1],"\n"):e}},function(e,t,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},i=[],r=0;r<e.length;r++){var a=e[r],c=t.base?a[0]+t.base:a[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=s(u),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:u,updater:v(h,t),references:1}),i.push(u)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var m=null,p=0;function v(e,t){var n,i,r;if(t.singleton){var a=p++;n=m||(m=l(t)),i=h.bind(null,n,a,!1),r=h.bind(null,n,a,!0)}else n=l(t),i=f.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=s(n[i]);o[r].references--}for(var a=c(e,t),l=0;l<n.length;l++){var u=s(n[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=a}}}},,function(e,t,n){"use strict";var i=n(7),r="object"==typeof self&&self&&self.Object===Object&&self,a=i.a||r||Function("return this")();t.a=a},function(e,n,i){"use strict";(function(e){var r=i(3),a=i(12),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,c=s&&s.exports===o?r.a.Buffer:void 0,l=(c?c.isBuffer:void 0)||a.a;n.a=l}).call(this,i(9)(e))},function(e,n,i){"use strict";(function(e){var r=i(7),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a&&r.a.process,c=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();n.a=c}).call(this,i(9)(e))},function(e,t,n){"use strict";(function(e){var t=n(0),i="object"==typeof window?window:e;if(i.CKEDITOR_VERSION)throw new t.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);i.CKEDITOR_VERSION="20.0.0"}).call(this,n(10))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(10))},function(e,n,i){"use strict";(function(e){var r=i(3),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.a.Buffer:void 0,c=s?s.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,i=c?c(n):new e.constructor(n);return e.copy(i),i}}).call(this,i(9)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(1),r=n(67);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){var i=n(1),r=n(14);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(e,t,n){var i=n(1),r=n(16);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(e,t,n){var i=n(1),r=n(18);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(e,t,n){var i=n(1),r=n(20);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(e,t,n){var i=n(1),r=n(22);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(e,t,n){var i=n(1),r=n(24);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(e,t,n){var i=n(1),r=n(26);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(e,t,n){var i=n(1),r=n(28);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(e,t,n){var i=n(1),r=n(30);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(e,t,n){var i=n(1),r=n(32);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(e,t,n){var i=n(1),r=n(34);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(e,t,n){var i=n(1),r=n(36);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var i=n(1),r=n(38);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(e,t,n){var i=n(1),r=n(40);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(e,t,n){var i=n(1),r=n(42);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}"},function(e,t,n){var i=n(1),r=n(44);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-0.5*var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-0.5*var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(-1*var(--ck-widget-outline-thickness));right:calc(-1*var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(e,t,n){var i=n(1),r=n(46);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(e,t,n){var i=n(1),r=n(48);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(e,t,n){var i=n(1),r=n(50);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}"},function(e,t,n){var i=n(1),r=n(52);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(e,t,n){var i=n(1),r=n(54);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var i=n(1),r=n(56);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(e,t,n){var i=n(1),r=n(58);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(e,t,n){var i=n(1),r=n(60);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(e,t,n){var i=n(1),r=n(62);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(e,t,n){var i=n(1),r=n(64);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(e,t,n){var i=n(1),r=n(66);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(e,t){e.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(e,t,n){var i=n(1),r=n(69);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(e,t,n){var i=n(1),r=n(71);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(e,t,n){var i=n(1),r=n(73);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0;outline:1px solid var(--ck-color-resizer)}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all;width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nesw-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nesw-resize}"},function(e,t,n){var i=n(1),r=n(75);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}"},function(e,t,n){var i=n(1),r=n(77);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(e,t,n){var i=n(1),r=n(79);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var i=n(1),r=n(81);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(e,t,n){var i=n(1),r=n(83);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var i=n(1),r=n(85);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(e,t,n){var i=n(1),r=n(87);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(e,t,n){var i=n(1),r=n(89);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(e,t,n){var i=n(1),r=n(91);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(e,t,n){var i=n(1),r=n(93);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(e,t,n){var i=n(1),r=n(95);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(e,t,n){var i=n(1),r=n(97);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{margin:15px 0;height:4px;background:#dedede;border:0}"},function(e,t,n){var i=n(1),r=n(99);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{color:var(--ck-highlight-pen-red);background-color:transparent}.ck-content .pen-green{color:var(--ck-highlight-pen-green);background-color:transparent}"},function(e,t,n){var i=n(1),r=n(101);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}"},function(e,t,n){var i=n(1),r=n(103);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-character-grid .ck-character-grid__tiles{display:grid;grid-template-columns:repeat(10,1fr)}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{overflow-y:auto;overflow-x:hidden;width:350px;max-height:200px}.ck.ck-character-grid .ck-character-grid__tiles{margin:var(--ck-spacing-standard) var(--ck-spacing-large);grid-gap:var(--ck-spacing-standard)}.ck.ck-character-grid .ck-character-grid__tile{width:var(--ck-character-grid-tile-size);height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);font-size:1.2em;padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);width:100%;text-align:center}"},function(e,t,n){var i=n(1),r=n(105);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-character-info{display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large);border-top:1px solid var(--ck-color-base-border)}.ck.ck-character-info>*{text-transform:uppercase;font-size:var(--ck-font-size-small)}.ck.ck-character-info .ck-character-info__name{max-width:280px;text-overflow:ellipsis;overflow:hidden}.ck.ck-character-info .ck-character-info__code{opacity:.6}"},function(e,t,n){var i=n(1),r=n(107);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-special-characters-navigation>.ck-label{max-width:160px;text-overflow:ellipsis;overflow:hidden}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}"},function(e,t,n){var i=n(1),r=n(109);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(e,t,n){var i=n(1),r=n(111);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}"},function(e,t,n){var i=n(1),r=n(113);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}"},function(e,t,n){var i=n(1),r=n(115);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-emoji__actions .ck-button{font-size:20px;padding:.3em .5em 0;border:0}"},function(e,t,n){"use strict";var g=h.mark(zs),b=h.mark(Bs),k=h.mark(Ou);n.r(t),n.d(t,"default",(function(){return ik}));var y=n(3),w=y.a.Symbol,_=Object.prototype,x=_.hasOwnProperty,j=_.toString,C=w?w.toStringTag:void 0,O=function(e){var t=x.call(e,C),n=e[C];try{e[C]=void 0;var i=!0}catch(e){}var r=j.call(e);return i&&(t?e[C]=n:delete e[C]),r},N=Object.prototype.toString,A=function(e){return N.call(e)},T=w?w.toStringTag:void 0,S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":T&&T in Object(e)?O(e):A(e)},M=function(e,t){return function(n){return e(t(n))}},L=M(Object.getPrototypeOf,Object),E=function(e){return null!=e&&"object"==typeof e},P=Function.prototype,I=Object.prototype,V=P.toString,R=I.hasOwnProperty,D=V.call(Object),z=function(e){if(!E(e)||"[object Object]"!=S(e))return!1;var t=L(e);if(null===t)return!0;var n=R.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&V.call(n)==D},B=function(){this.__data__=[],this.size=0},F=function(e,t){return e===t||e!=e&&t!=t},H=function(e,t){for(var n=e.length;n--;)if(F(e[n][0],t))return n;return-1},U=Array.prototype.splice,q=function(e){var t=this.__data__,n=H(t,e);return!(n<0)&&(n==t.length-1?t.pop():U.call(t,n,1),--this.size,!0)},W=function(e){var t=this.__data__,n=H(t,e);return n<0?void 0:t[n][1]},Z=function(e){return H(this.__data__,e)>-1},G=function(e,t){var n=this.__data__,i=H(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Y.prototype.clear=B,Y.prototype.delete=q,Y.prototype.get=W,Y.prototype.has=Z,Y.prototype.set=G;var Q,K=Y,$=function(){this.__data__=new K,this.size=0},J=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},X=function(e){return this.__data__.get(e)},ee=function(e){return this.__data__.has(e)},te=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ne=function(e){if(!te(e))return!1;var t=S(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ie=y.a["__core-js_shared__"],re=(Q=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",ae=function(e){return!!re&&re in e},oe=Function.prototype.toString,se=function(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ce=/^\[object .+?Constructor\]$/,le=Function.prototype,ue=Object.prototype,de=le.toString,he=ue.hasOwnProperty,fe=RegExp("^"+de.call(he).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=function(e){return!(!te(e)||ae(e))&&(ne(e)?fe:ce).test(se(e))},pe=function(e,t){return null==e?void 0:e[t]},ve=function(e,t){var n=pe(e,t);return me(n)?n:void 0},ge=ve(y.a,"Map"),be=ve(Object,"create"),ke=function(){this.__data__=be?be(null):{},this.size=0},ye=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we=Object.prototype.hasOwnProperty,_e=function(e){var t=this.__data__;if(be){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return we.call(t,e)?t[e]:void 0},xe=Object.prototype.hasOwnProperty,je=function(e){var t=this.__data__;return be?void 0!==t[e]:xe.call(t,e)},Ce=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=be&&void 0===t?"__lodash_hash_undefined__":t,this};function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Oe.prototype.clear=ke,Oe.prototype.delete=ye,Oe.prototype.get=_e,Oe.prototype.has=je,Oe.prototype.set=Ce;var Ne=Oe,Ae=function(){this.size=0,this.__data__={hash:new Ne,map:new(ge||K),string:new Ne}},Te=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Se=function(e,t){var n=e.__data__;return Te(t)?n["string"==typeof t?"string":"hash"]:n.map},Me=function(e){var t=Se(this,e).delete(e);return this.size-=t?1:0,t},Le=function(e){return Se(this,e).get(e)},Ee=function(e){return Se(this,e).has(e)},Pe=function(e,t){var n=Se(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function Ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ie.prototype.clear=Ae,Ie.prototype.delete=Me,Ie.prototype.get=Le,Ie.prototype.has=Ee,Ie.prototype.set=Pe;var Ve=Ie,Re=function(e,t){var n=this.__data__;if(n instanceof K){var i=n.__data__;if(!ge||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ve(i)}return n.set(e,t),this.size=n.size,this};function De(e){var t=this.__data__=new K(e);this.size=t.size}De.prototype.clear=$,De.prototype.delete=J,De.prototype.get=X,De.prototype.has=ee,De.prototype.set=Re;var ze=De,Be=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e},Fe=function(){try{var e=ve(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),He=function(e,t,n){"__proto__"==t&&Fe?Fe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ue=Object.prototype.hasOwnProperty,qe=function(e,t,n){var i=e[t];Ue.call(e,t)&&F(i,n)&&(void 0!==n||t in e)||He(e,t,n)},We=function(e,t,n,i){var r=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=i?i(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),r?He(n,s,c):qe(n,s,c)}return n},Ze=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i},Ge=function(e){return E(e)&&"[object Arguments]"==S(e)},Ye=Object.prototype,Qe=Ye.hasOwnProperty,Ke=Ye.propertyIsEnumerable,$e=Ge(function(){return arguments}())?Ge:function(e){return E(e)&&Qe.call(e,"callee")&&!Ke.call(e,"callee")},Je=Array.isArray,Xe=n(4),et=/^(?:0|[1-9]\d*)$/,tt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&et.test(e))&&e>-1&&e%1==0&&e<t},nt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},it={};it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Arguments]"]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object Boolean]"]=it["[object DataView]"]=it["[object Date]"]=it["[object Error]"]=it["[object Function]"]=it["[object Map]"]=it["[object Number]"]=it["[object Object]"]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object WeakMap]"]=!1;var rt=function(e){return E(e)&&nt(e.length)&&!!it[S(e)]},at=function(e){return function(t){return e(t)}},ot=n(5),st=ot.a&&ot.a.isTypedArray,ct=st?at(st):rt,lt=Object.prototype.hasOwnProperty,ut=function(e,t){var n=Je(e),i=!n&&$e(e),r=!n&&!i&&Object(Xe.a)(e),a=!n&&!i&&!r&&ct(e),o=n||i||r||a,s=o?Ze(e.length,String):[],c=s.length;for(var l in e)!t&&!lt.call(e,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||tt(l,c))||s.push(l);return s},dt=Object.prototype,ht=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||dt)},ft=M(Object.keys,Object),mt=Object.prototype.hasOwnProperty,pt=function(e){if(!ht(e))return ft(e);var t=[];for(var n in Object(e))mt.call(e,n)&&"constructor"!=n&&t.push(n);return t},vt=function(e){return null!=e&&nt(e.length)&&!ne(e)},gt=function(e){return vt(e)?ut(e):pt(e)},bt=function(e,t){return e&&We(t,gt(t),e)},kt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},yt=Object.prototype.hasOwnProperty,wt=function(e){if(!te(e))return kt(e);var t=ht(e),n=[];for(var i in e)("constructor"!=i||!t&&yt.call(e,i))&&n.push(i);return n},_t=function(e){return vt(e)?ut(e,!0):wt(e)},xt=function(e,t){return e&&We(t,_t(t),e)},jt=n(8),Ct=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},Ot=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a},Nt=function(){return[]},At=Object.prototype.propertyIsEnumerable,Tt=Object.getOwnPropertySymbols,St=Tt?function(e){return null==e?[]:(e=Object(e),Ot(Tt(e),(function(t){return At.call(e,t)})))}:Nt,Mt=function(e,t){return We(e,St(e),t)},Lt=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},Et=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Lt(t,St(e)),e=L(e);return t}:Nt,Pt=function(e,t){return We(e,Et(e),t)},It=function(e,t,n){var i=t(e);return Je(e)?i:Lt(i,n(e))},Vt=function(e){return It(e,gt,St)},Rt=function(e){return It(e,_t,Et)},Dt=ve(y.a,"DataView"),zt=ve(y.a,"Promise"),Bt=ve(y.a,"Set"),Ft=ve(y.a,"WeakMap"),Ht=se(Dt),Ut=se(ge),qt=se(zt),Wt=se(Bt),Zt=se(Ft),Gt=S;(Dt&&"[object DataView]"!=Gt(new Dt(new ArrayBuffer(1)))||ge&&"[object Map]"!=Gt(new ge)||zt&&"[object Promise]"!=Gt(zt.resolve())||Bt&&"[object Set]"!=Gt(new Bt)||Ft&&"[object WeakMap]"!=Gt(new Ft))&&(Gt=function(e){var t=S(e),n="[object Object]"==t?e.constructor:void 0,i=n?se(n):"";if(i)switch(i){case Ht:return"[object DataView]";case Ut:return"[object Map]";case qt:return"[object Promise]";case Wt:return"[object Set]";case Zt:return"[object WeakMap]"}return t});var Yt=Gt,Qt=Object.prototype.hasOwnProperty,Kt=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Qt.call(e,"index")&&(n.index=e.index,n.input=e.input),n},$t=y.a.Uint8Array,Jt=function(e){var t=new e.constructor(e.byteLength);return new $t(t).set(new $t(e)),t},Xt=function(e,t){var n=t?Jt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},en=/\w*$/,tn=function(e){var t=new e.constructor(e.source,en.exec(e));return t.lastIndex=e.lastIndex,t},nn=w?w.prototype:void 0,rn=nn?nn.valueOf:void 0,an=function(e){return rn?Object(rn.call(e)):{}},on=function(e,t){var n=t?Jt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},sn=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return Jt(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return Xt(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return on(e,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return tn(e);case"[object Set]":return new i;case"[object Symbol]":return an(e)}},cn=Object.create,ln=function(){function e(){}return function(t){if(!te(t))return{};if(cn)return cn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),un=function(e){return"function"!=typeof e.constructor||ht(e)?{}:ln(L(e))},dn=function(e){return E(e)&&"[object Map]"==Yt(e)},hn=ot.a&&ot.a.isMap,fn=hn?at(hn):dn,mn=function(e){return E(e)&&"[object Set]"==Yt(e)},pn=ot.a&&ot.a.isSet,vn=pn?at(pn):mn,gn={};gn["[object Arguments]"]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object DataView]"]=gn["[object Boolean]"]=gn["[object Date]"]=gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Map]"]=gn["[object Number]"]=gn["[object Object]"]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object Symbol]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Error]"]=gn["[object Function]"]=gn["[object WeakMap]"]=!1;var bn=function e(t,n,i,r,a,o){var s,c=1&n,l=2&n,u=4&n;if(i&&(s=a?i(t,r,a,o):i(t)),void 0!==s)return s;if(!te(t))return t;var d=Je(t);if(d){if(s=Kt(t),!c)return Ct(t,s)}else{var h=Yt(t),f="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(Xe.a)(t))return Object(jt.a)(t,c);if("[object Object]"==h||"[object Arguments]"==h||f&&!a){if(s=l||f?{}:un(t),!c)return l?Pt(t,xt(s,t)):Mt(t,bt(s,t))}else{if(!gn[h])return a?t:{};s=sn(t,h,c)}}o||(o=new ze);var m=o.get(t);if(m)return m;o.set(t,s),vn(t)?t.forEach((function(r){s.add(e(r,n,i,r,t,o))})):fn(t)&&t.forEach((function(r,a){s.set(a,e(r,n,i,a,t,o))}));var p=u?l?Rt:Vt:l?keysIn:gt,v=d?void 0:p(t);return Be(v||t,(function(r,a){v&&(r=t[a=r]),qe(s,a,e(r,n,i,a,t,o))})),s},kn=function(e,t){return bn(e,5,t="function"==typeof t?t:void 0)},yn=function(e){return E(e)&&1===e.nodeType&&!z(e)},wn=function(){function e(t,n){f(this,e),this._config={},n&&this.define(_n(n)),t&&this._setObjectToTarget(this._config,t)}return m(e,[{key:"set",value:function(e,t){this._setToTarget(this._config,e,t)}},{key:"define",value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.keys(this._config);case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,i;case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"_setToTarget",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(z(t))this._setObjectToTarget(e,t,i);else{var r=t.split(".");t=r.pop();var a,o=d(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;z(e[s])||(e[s]={}),e=e[s]}}catch(c){o.e(c)}finally{o.f()}if(z(n))return z(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,i);i&&void 0!==e[t]||(e[t]=n)}}},{key:"_getFromSource",value:function(e,t){var n=t.split(".");t=n.pop();var i,r=d(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(!z(e[a])){e=null;break}e=e[a]}}catch(o){r.e(o)}finally{r.f()}return e?_n(e[t]):void 0}},{key:"_setObjectToTarget",value:function(e,t,n){var i=this;Object.keys(t).forEach((function(r){i._setToTarget(e,r,t[r],n)}))}}]),e}();function _n(e){return kn(e,xn)}function xn(e){return yn(e)?e:void 0}var jn=function(){return function e(){e.called=!0}},Cn=function e(t,n){f(this,e),this.source=t,this.name=n,this.path=[],this.stop=jn(),this.off=jn()},On=new Array(256).fill().map((function(e,t){return("0"+t.toString(16)).slice(-2)}));function Nn(){var e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+On[e>>0&255]+On[e>>8&255]+On[e>>16&255]+On[e>>24&255]+On[t>>0&255]+On[t>>8&255]+On[t>>16&255]+On[t>>24&255]+On[n>>0&255]+On[n>>8&255]+On[n>>16&255]+On[n>>24&255]+On[i>>0&255]+On[i>>8&255]+On[i>>16&255]+On[i>>24&255]}var An={get:function(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},Tn=(n(6),n(0)),Sn=Symbol("listeningTo"),Mn=Symbol("emitterId"),Ln={on:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,e,t,n)},once:function(e,t,n){var i=!1;this.listenTo(this,e,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];i||(i=!0,e.off(),t.call.apply(t,[this,e].concat(r)))}),n)},off:function(e,t){this.stopListening(this,e,t)},listenTo:function(e,t,n){var i,r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[Sn]||(this[Sn]={});var o=this[Sn];Pn(e)||En(e);var s=Pn(e);(i=o[s])||(i=o[s]={emitter:e,callbacks:{}}),(r=i.callbacks[t])||(r=i.callbacks[t]=[]),r.push(n),function(e,t){var n=In(e);if(!n[t]){for(var i=t,r=null,a=[];""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},a.push(n[i]),r&&n[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){var o,s=d(a);try{for(s.s();!(o=s.n()).done;)o.value.callbacks=n[i].callbacks.slice()}catch(c){s.e(c)}finally{s.f()}n[i].childEvents.push(r)}}}(e,t);var c,l=Vn(e,t),u=An.get(a.priority),h={callback:n,priority:u},f=d(l);try{for(f.s();!(c=f.n()).done;){for(var m=c.value,p=!1,v=0;v<m.length;v++)if(m[v].priority<u){m.splice(v,0,h),p=!0;break}p||m.push(h)}}catch(g){f.e(g)}finally{f.f()}},stopListening:function(e,t,n){var i=this[Sn],r=e&&Pn(e),a=i&&r&&i[r],o=a&&t&&a.callbacks[t];if(!(!i||e&&!a||t&&!o))if(n)Dn(e,t,n);else if(o){for(;n=o.pop();)Dn(e,t,n);delete a.callbacks[t]}else if(a){for(t in a.callbacks)this.stopListening(e,t);delete i[r]}else{for(r in i)this.stopListening(i[r].emitter);delete this[Sn]}},fire:function(e){try{for(var t=e instanceof Cn?e:new Cn(this,e),n=t.name,i=function e(t,n){var i;return t._events&&(i=t._events[n])&&i.callbacks.length?i.callbacks:n.indexOf(":")>-1?e(t,n.substr(0,n.lastIndexOf(":"))):null}(this,n),r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(t.path.push(this),i){var s=[t].concat(a);i=Array.from(i);for(var c=0;c<i.length&&(i[c].callback.apply(this,s),t.off.called&&(delete t.off.called,Dn(this,n,i[c].callback)),!t.stop.called);c++);}if(this._delegations){var l=this._delegations.get(n),u=this._delegations.get("*");l&&Rn(l,t,a),u&&Rn(u,t,a)}return t.return}catch(e){Tn.b.rethrowUnexpectedError(e,this)}},delegate:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return{to:function(t,i){e._delegations||(e._delegations=new Map),n.forEach((function(n){var r=e._delegations.get(n);r?r.set(t,i):e._delegations.set(n,new Map([[t,i]]))}))}}},stopDelegating:function(e,t){if(this._delegations)if(e)if(t){var n=this._delegations.get(e);n&&n.delete(t)}else this._delegations.delete(e);else this._delegations.clear()}};function En(e,t){e[Mn]||(e[Mn]=t||Nn())}function Pn(e){return e[Mn]}function In(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function Vn(e,t){var n=In(e)[t];if(!n)return[];for(var i=[n.callbacks],r=0;r<n.childEvents.length;r++){var a=Vn(e,n.childEvents[r]);i=i.concat(a)}return i}function Rn(e,t,n){var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var a=u(i.value,2),o=a[0],s=a[1];s?"function"==typeof s&&(s=s(t.name)):s=t.name;var c=new Cn(t.source,s);c.path=l(t.path),o.fire.apply(o,[c].concat(l(n)))}}catch(h){r.e(h)}finally{r.f()}}function Dn(e,t,n){var i,r=Vn(e,t),a=d(r);try{for(a.s();!(i=a.n()).done;)for(var o=i.value,s=0;s<o.length;s++)o[s].callback==n&&(o.splice(s,1),s--)}catch(c){a.e(c)}finally{a.f()}}function zn(e){return!(!e||!e[Symbol.iterator])}function Bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach((function(n){if(!(n in e.prototype)){var i=Object.getOwnPropertyDescriptor(t,n);i.enumerable=!1,Object.defineProperty(e.prototype,n,i)}}))}))}var Fn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e);var i=zn(t);if(i||(n=t),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i){var r,a=d(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}}catch(s){a.e(s)}finally{a.f()}}}return m(e,[{key:"add",value:function(e,t){var n=this._getItemIdBeforeAdding(e);if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new Tn.b("collection-add-item-invalid-index",this);return this._items.splice(t,0,e),this._itemMap.set(n,e),this.fire("add",e,t),this}},{key:"get",value:function(e){var t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new Tn.b("collection-get-invalid-arg: Index or id must be given.",this);t=this._items[e]}return t||null}},{key:"has",value:function(e){if("string"==typeof e)return this._itemMap.has(e);var t=e[this._idProperty];return this._itemMap.has(t)}},{key:"getIndex",value:function(e){var t;return t="string"==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}},{key:"remove",value:function(e){var t,n,i,r=!1,a=this._idProperty;if("string"==typeof e?(n=e,r=!(i=this._itemMap.get(n)),i&&(t=this._items.indexOf(i))):"number"==typeof e?(t=e,r=!(i=this._items[t]),i&&(n=i[a])):(n=(i=e)[a],r=-1==(t=this._items.indexOf(i))||!this._itemMap.get(n)),r)throw new Tn.b("collection-remove-404: Item not found.",this);this._items.splice(t,1),this._itemMap.delete(n);var o=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(o),this.fire("remove",i,t),i}},{key:"map",value:function(e,t){return this._items.map(e,t)}},{key:"find",value:function(e,t){return this._items.find(e,t)}},{key:"filter",value:function(e,t){return this._items.filter(e,t)}},{key:"clear",value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:"bindTo",value:function(e){var t=this;if(this._bindToCollection)throw new Tn.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=e,{as:function(e){t._setUpBindToBinding((function(t){return new e(t)}))},using:function(e){"function"==typeof e?t._setUpBindToBinding((function(t){return e(t)})):t._setUpBindToBinding((function(t){return t[e]}))}}}},{key:"_setUpBindToBinding",value:function(e){var t,n=this,i=this._bindToCollection,r=function(t,r,a){var o=i._bindToCollection==n,s=i._bindToInternalToExternalMap.get(r);if(o&&s)n._bindToExternalToInternalMap.set(r,s),n._bindToInternalToExternalMap.set(s,r);else{var c=e(r);if(!c)return void n._skippedIndexesFromExternal.push(a);var l,u=a,h=d(n._skippedIndexesFromExternal);try{for(h.s();!(l=h.n()).done;)a>l.value&&u--}catch(v){h.e(v)}finally{h.f()}var f,m=d(i._skippedIndexesFromExternal);try{for(m.s();!(f=m.n()).done;)u>=f.value&&u++}catch(v){m.e(v)}finally{m.f()}n._bindToExternalToInternalMap.set(r,c),n._bindToInternalToExternalMap.set(c,r),n.add(c,u);for(var p=0;p<i._skippedIndexesFromExternal.length;p++)u<=i._skippedIndexesFromExternal[p]&&i._skippedIndexesFromExternal[p]++}},a=d(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;r(0,o,i.getIndex(o))}}catch(s){a.e(s)}finally{a.f()}this.listenTo(i,"add",r),this.listenTo(i,"remove",(function(e,t,i){var r=n._bindToExternalToInternalMap.get(t);r&&n.remove(r),n._skippedIndexesFromExternal=n._skippedIndexesFromExternal.reduce((function(e,t){return i<t&&e.push(t-1),i>t&&e.push(t),e}),[])}))}},{key:"_getItemIdBeforeAdding",value:function(e){var t,n=this._idProperty;if(n in e){if("string"!=typeof(t=e[n]))throw new Tn.b("collection-add-invalid-id",this);if(this.get(t))throw new Tn.b("collection-add-item-already-exists",this)}else e[n]=t=Nn();return t}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}}]),e}();Bn(Fn,Ln);var Hn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];f(this,e),this._context=t,this._plugins=new Map,this._availablePlugins=new Map;var r,a=d(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.pluginName&&this._availablePlugins.set(o.pluginName,o)}}catch(p){a.e(p)}finally{a.f()}this._contextPlugins=new Map;var s,c=d(i);try{for(c.s();!(s=c.n()).done;){var l=u(s.value,2),h=l[0],m=l[1];this._contextPlugins.set(h,m),this._contextPlugins.set(m,h),h.pluginName&&this._availablePlugins.set(h.pluginName,h)}}catch(p){c.e(p)}finally{c.f()}}return m(e,[{key:Symbol.iterator,value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._plugins),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(i=n.value,e.t0="function"==typeof i[0],!e.t0){e.next=9;break}return e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"get",value:function(e){var t=this._plugins.get(e);if(!t){var n="plugincollection-plugin-not-loaded: The requested plugin is not loaded.",i=e;throw"function"==typeof e&&(i=e.pluginName||e.name),new Tn.b(n,this._context,{plugin:i})}return t}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,i=this._context,r=new Set,a=[],o=m(e),s=m(t),c=function(e){var t,n=[],i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;f(r)||n.push(r)}}catch(a){i.e(a)}finally{i.f()}return n.length?n:null}(e);if(c){var l="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(Tn.a)(l),{plugins:c}),Promise.reject(new Tn.b(l,i,{plugins:c}))}return Promise.all(o.map(u)).then((function(){return h(a,"init")})).then((function(){return h(a,"afterInit")})).then((function(){return a}));function u(e){if(!s.includes(e)&&!n._plugins.has(e)&&!r.has(e))return function(e){return new Promise((function(o){r.add(e),e.requires&&e.requires.forEach((function(n){var r=f(n);if(e.isContextPlugin&&!r.isContextPlugin)throw new Tn.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:r.name,requiredBy:e.name});if(t.includes(r))throw new Tn.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",i,{plugin:r.name,requiredBy:e.name});u(r)}));var s=n._contextPlugins.get(e)||new e(i);n._add(e,s),a.push(s),o()}))}(e).catch((function(t){throw console.error(Object(Tn.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:e}),t}))}function h(e,t){return e.reduce((function(e,i){return i[t]?n._contextPlugins.has(i)?e:e.then(i[t].bind(i)):e}),Promise.resolve())}function f(e){return"function"==typeof e?e:n._availablePlugins.get(e)}function m(e){return e.map((function(e){return f(e)})).filter((function(e){return!!e}))}}},{key:"destroy",value:function(){var e,t=[],n=d(this);try{for(n.s();!(e=n.n()).done;){var i=u(e.value,2)[1];"function"!=typeof i.destroy||this._contextPlugins.has(i)||t.push(i.destroy())}}catch(r){n.e(r)}finally{n.f()}return Promise.all(t)}},{key:"_add",value:function(e,t){this._plugins.set(e,t);var n=e.pluginName;if(n){if(this._plugins.has(n))throw new Tn.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}]),e}();function Un(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("number"!=typeof n)throw new Tn.b("translation-service-quantity-not-a-number: Expecting `quantity` to be a number.",null,{quantity:n});var i=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===i&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);var r=t.id||t.string;if(0===i||!function(e,t){return!!window.CKEDITOR_TRANSLATIONS[e]&&!!window.CKEDITOR_TRANSLATIONS[e].dictionary[t]}(e,r))return 1!==n?t.plural:t.string;var a=window.CKEDITOR_TRANSLATIONS[e].dictionary,o=window.CKEDITOR_TRANSLATIONS[e].getPluralForm||function(e){return 1===e?0:1};if("string"==typeof a[r])return a[r];var s=Number(o(n));return a[r][s]}Bn(Hn,Ln),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var qn=["ar","fa","he","ku","ug"],Wn=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.uiLanguage=n.uiLanguage||"en",this.contentLanguage=n.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Zn(this.uiLanguage),this.contentLanguageDirection=Zn(this.contentLanguage),this.t=function(e,n){return t._t(e,n)}}return m(e,[{key:"_t",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Array.isArray(t)||(t=[t]),"string"==typeof e&&(e={string:e});var n=e.plural?t[0]:1;return function(e,t){return e.replace(/%(\d+)/g,(function(e,n){return n<t.length?t[n]:e}))}(Un(this.uiLanguage,e,n),t)}},{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}}]),e}();function Zn(e){return qn.includes(e)?"rtl":"ltr"}var Gn=function(){function e(t){f(this,e),this.config=new wn(t,this.constructor.defaultConfig);var n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new Hn(this,n);var i=this.config.get("language")||{};this.locale=new Wn({uiLanguage:"string"==typeof i?i:i.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Fn,this._contextOwner=null}return m(e,[{key:"initPlugins",value:function(){var e,t=this.config.get("plugins")||[],n=d(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;if("function"!=typeof i)throw new Tn.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:i});if(!0!==i.isContextPlugin)throw new Tn.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:i})}}catch(r){n.e(r)}finally{n.f()}return this.plugins.init(t)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,(function(e){return e.destroy()}))).then((function(){return e.plugins.destroy()}))}},{key:"_addEditor",value:function(e,t){if(this._contextOwner)throw new Tn.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(e),t&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e,t={},n=d(this.config.names());try{for(n.s();!(e=n.n()).done;){var i=e.value;["plugins","removePlugins","extraPlugins"].includes(i)||(t[i]=this.config.get(i))}}catch(r){n.e(r)}finally{n.f()}return t}}],[{key:"create",value:function(e){var t=this;return new Promise((function(n){var i=new t(e);n(i.initPlugins().then((function(){return i})))}))}}]),e}();function Yn(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)if(e[i]!=t[i])return i;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}var Qn=function(e){return bn(e,4)},Kn=function(){function e(t){f(this,e),this.document=t,this.parent=null}return m(e,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),i=e.getAncestors(t),r=0;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),i=Yn(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}},{key:"toJSON",value:function(){var e=Qn(this);return delete e.parent,e}},{key:"is",value:function(e){return"node"===e||"view:node"===e}},{key:"index",get:function(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new Tn.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),e}();Bn(Kn,Ln);var $n=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e))._textData=i,r}return m(n,[{key:"is",value:function(e){return"text"===e||"view:text"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return e instanceof n&&(this===e||this.data===e.data)}},{key:"_clone",value:function(){return new n(this.document,this.data)}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(e){this._fireChange("text",this),this._textData=e}}]),n}(Kn),Jn=function(){function e(t,n,i){if(f(this,e),this.textNode=t,n<0||n>t.data.length)throw new Tn.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(i<0||n+i>t.data.length)throw new Tn.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(n,n+i),this.offsetInText=n}return m(e,[{key:"is",value:function(e){return"textProxy"===e||"view:textProxy"===e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this.textNode:this.parent;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}]),e}();function Xn(e){return zn(e)?new Map(e):function(e){var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e)}var ei=function(){function e(){f(this,e),this._patterns=[],this.add.apply(this,arguments)}return m(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var a=r[i];("string"==typeof a||a instanceof RegExp)&&(a={name:a}),a.classes&&("string"==typeof a.classes||a.classes instanceof RegExp)&&(a.classes=[a.classes]),this._patterns.push(a)}}},{key:"match",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var a,o=r[i],s=d(this._patterns);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=ti(o,c);if(l)return{element:o,pattern:c,match:l}}}catch(u){s.e(u)}finally{s.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o,s=a[r],c=d(this._patterns);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=ti(s,l);u&&e.push({element:s,pattern:l,match:u})}}catch(h){c.e(h)}finally{c.f()}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}]),e}();function ti(e,t){if("function"==typeof t)return t(e);var n={};return t.name&&(n.name=function(e,t){return e instanceof RegExp?e.test(t):e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){var n=[];for(var i in e){var r=e[i];if(!t.hasAttribute(i))return null;var a=t.getAttribute(i);if(!0===r)n.push(i);else if(r instanceof RegExp){if(!r.test(a))return null;n.push(i)}else{if(a!==r)return null;n.push(i)}}return n}(t.attributes,e),!n.attributes)?null:!(t.classes&&(n.classes=function(e,t){var n,i=[],r=d(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a instanceof RegExp){var o,s=t.getClassNames(),c=d(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;a.test(l)&&i.push(l)}}catch(u){c.e(u)}finally{c.f()}if(0===i.length)return null}else{if(!t.hasClass(a))return null;i.push(a)}}}catch(u){r.e(u)}finally{r.f()}return i}(t.classes,e),!n.classes))&&!(t.styles&&(n.styles=function(e,t){var n=[];for(var i in e){var r=e[i];if(!t.hasStyle(i))return null;var a=t.getStyle(i);if(r instanceof RegExp){if(!r.test(a))return null;n.push(i)}else{if(a!==r)return null;n.push(i)}}return n}(t.styles,e),!n.styles))&&n}var ni=function(e){return"symbol"==typeof e||E(e)&&"[object Symbol]"==S(e)},ii=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ri=/^\w*$/,ai=function(e,t){if(Je(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ni(e))||ri.test(e)||!ii.test(e)||null!=t&&e in Object(t)};function oi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(oi.Cache||Ve),n}oi.Cache=Ve;var si=oi,ci=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,li=/\\(\\)?/g,ui=function(e){var t=si(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ci,(function(e,n,i,r){t.push(i?r.replace(li,"$1"):n||e)})),t})),di=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},hi=w?w.prototype:void 0,fi=hi?hi.toString:void 0,mi=function e(t){if("string"==typeof t)return t;if(Je(t))return di(t,e)+"";if(ni(t))return fi?fi.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},pi=function(e){return null==e?"":mi(e)},vi=function(e,t){return Je(e)?e:ai(e,t)?[e]:ui(pi(e))},gi=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},bi=function(e){if("string"==typeof e||ni(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},ki=function(e,t){for(var n=0,i=(t=vi(t,e)).length;null!=e&&n<i;)e=e[bi(t[n++])];return n&&n==i?e:void 0},yi=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a},wi=function(e,t){return t.length<2?e:ki(e,yi(t,0,-1))},_i=function(e,t){return t=vi(t,e),null==(e=wi(e,t))||delete e[bi(gi(t))]},xi=function(e,t){return null==e||_i(e,t)},ji=function(e,t,n){var i=null==e?void 0:ki(e,t);return void 0===i?n:i},Ci=function(e,t,n){(void 0!==n&&!F(e[t],n)||void 0===n&&!(t in e))&&He(e,t,n)},Oi=function(e){return function(t,n,i){for(var r=-1,a=Object(t),o=i(t),s=o.length;s--;){var c=o[e?s:++r];if(!1===n(a[c],c,a))break}return t}}(),Ni=function(e){return E(e)&&vt(e)},Ai=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Ti=function(e){return We(e,_t(e))},Si=function(e,t,n,i,r,a,o){var s=Ai(e,n),c=Ai(t,n),l=o.get(c);if(l)Ci(e,n,l);else{var u=a?a(s,c,n+"",e,t,o):void 0,d=void 0===u;if(d){var h=Je(c),f=!h&&Object(Xe.a)(c),m=!h&&!f&&ct(c);u=c,h||f||m?Je(s)?u=s:Ni(s)?u=Ct(s):f?(d=!1,u=Object(jt.a)(c,!0)):m?(d=!1,u=on(c,!0)):u=[]:z(c)||$e(c)?(u=s,$e(s)?u=Ti(s):te(s)&&!ne(s)||(u=un(c))):d=!1}d&&(o.set(c,u),r(u,c,i,a,o),o.delete(c)),Ci(e,n,u)}},Mi=function e(t,n,i,r,a){t!==n&&Oi(n,(function(o,s){if(a||(a=new ze),te(o))Si(t,n,s,i,e,r,a);else{var c=r?r(Ai(t,s),o,s+"",t,n,a):void 0;void 0===c&&(c=o),Ci(t,s,c)}}),_t)},Li=function(e){return e},Ei=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Pi=Math.max,Ii=function(e,t,n){return t=Pi(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,a=Pi(i.length-t,0),o=Array(a);++r<a;)o[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(o),Ei(e,this,s)}},Vi=function(e){return function(){return e}},Ri=Fe?function(e,t){return Fe(e,"toString",{configurable:!0,enumerable:!1,value:Vi(t),writable:!0})}:Li,Di=Date.now,zi=function(e){var t=0,n=0;return function(){var i=Di(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Ri),Bi=function(e,t){return zi(Ii(e,t,Li),e+"")},Fi=function(e,t,n){if(!te(n))return!1;var i=typeof t;return!!("number"==i?vt(n)&&tt(t,n.length):"string"==i&&t in n)&&F(n[t],e)},Hi=function(e){return Bi((function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(r--,a):void 0,o&&Fi(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,a)}return t}))},Ui=Hi((function(e,t,n){Mi(e,t,n)})),qi=function(e,t,n,i){if(!te(e))return e;for(var r=-1,a=(t=vi(t,e)).length,o=a-1,s=e;null!=s&&++r<a;){var c=bi(t[r]),l=n;if(r!=o){var u=s[c];void 0===(l=i?i(u,c,s):void 0)&&(l=te(u)?u:tt(t[r+1])?[]:{})}qe(s,c,l),s=s[c]}return e},Wi=function(e,t,n){return null==e?e:qi(e,t,n)},Zi=function(){function e(t){f(this,e),this._styles={},this._styleProcessor=t}return m(e,[{key:"setTo",value:function(e){this.clear();for(var t=0,n=Array.from(function(e){var t=null,n=0,i=0,r=null,a=new Map;if(""===e)return a;";"!=e.charAt(e.length-1)&&(e+=";");for(var o=0;o<e.length;o++){var s=e.charAt(o);if(null===t)switch(s){case":":r||(r=e.substr(n,o-n),i=o+1);break;case'"':case"'":t=s;break;case";":var c=e.substr(i,o-i);r&&a.set(r.trim(),c.trim()),r=null,n=o+1}else s===t&&(t=null)}return a}(e).entries());t<n.length;t++){var i=u(n[t],2),r=i[0],a=i[1];this._styleProcessor.toNormalizedForm(r,a,this._styles)}}},{key:"has",value:function(e){if(this.isEmpty)return!1;var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return u(t,1)[0]===e}));return Array.isArray(t)}},{key:"set",value:function(e,t){if(te(e))for(var n=0,i=Object.entries(e);n<i.length;n++){var r=u(i[n],2),a=r[0],o=r[1];this._styleProcessor.toNormalizedForm(a,o,this._styles)}else this._styleProcessor.toNormalizedForm(e,t,this._styles)}},{key:"remove",value:function(e){var t=Yi(e);xi(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map((function(e){return e.join(":")})).sort().join(";")+";"}},{key:"getAsString",value:function(e){if(!this.isEmpty){if(this._styles[e]&&!te(this._styles[e]))return this._styles[e];var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return u(t,1)[0]===e}));return Array.isArray(t)?t[1]:void 0}}},{key:"getStyleNames",value:function(){return this.isEmpty?[]:this._getStylesEntries().map((function(e){return u(e,1)[0]}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],t=0,n=Object.keys(this._styles);t<n.length;t++){var i=n[t];e.push.apply(e,l(this._styleProcessor.getReducedForm(i,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var t=e.split(".");if(t.length>1){var n=t.splice(0,t.length-1).join("."),i=ji(this._styles,n);i&&!Array.from(Object.keys(i)).length&&this.remove(n)}}},{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}}]),e}(),Gi=function(){function e(){f(this,e),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return m(e,[{key:"toNormalizedForm",value:function(e,t,n){if(te(t))Qi(n,Yi(e),t);else if(this._normalizers.has(e)){var i=this._normalizers.get(e)(t);Qi(n,i.path,i.value)}else Qi(n,e,t)}},{key:"getNormalized",value:function(e,t){if(!e)return Ui({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){var n=this._extractors.get(e);if("string"==typeof n)return ji(t,n);var i=n(e,t);if(i)return i}return ji(t,Yi(e))}},{key:"getReducedForm",value:function(e,t){var n=this.getNormalized(e,t);return void 0===n?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,t){this._normalizers.set(e,t)}},{key:"setExtractor",value:function(e,t){this._extractors.set(e,t)}},{key:"setReducer",value:function(e,t){this._reducers.set(e,t)}},{key:"setStyleRelation",value:function(e,t){this._mapStyleNames(e,t);var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._mapStyleNames(r,[e])}}catch(a){i.e(a)}finally{i.f()}}},{key:"_mapStyleNames",value:function(e,t){var n;this._consumables.has(e)||this._consumables.set(e,[]),(n=this._consumables.get(e)).push.apply(n,l(t))}}]),e}();function Yi(e){return e.replace("-",".")}function Qi(e,t,n){var i=n;te(n)&&(i=Ui({},ji(e,t),n)),Wi(e,t,i)}var Ki=function(e){p(n,e);var t=v(n);function n(e,i,r,a){var o;if(f(this,n),(o=t.call(this,e)).name=i,o._attrs=function(e){e=Xn(e);var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=u(t.value,2),r=i[0],a=i[1];null===a?e.delete(r):"string"!=typeof a&&e.set(r,String(a))}}catch(o){n.e(o)}finally{n.f()}return e}(r),o._children=[],a&&o._insertChild(0,a),o._classes=new Set,o._attrs.has("class")){var s=o._attrs.get("class");$i(o._classes,s),o._attrs.delete("class")}return o._styles=new Zi(o.document.stylesProcessor),o._attrs.has("style")&&(o._styles.setTo(o._attrs.get("style")),o._attrs.delete("style")),o._customProperties=new Map,c(o)}return m(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"view:element"===e):e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._classes.size>0,!e.t0){e.next=4;break}return e.next=4,"class";case 4:if(e.t1=this._styles.isEmpty,e.t1){e.next=8;break}return e.next=8,"style";case 8:return e.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttributes",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),"t0",1);case 1:if(e.t1=this._classes.size>0,!e.t1){e.next=5;break}return e.next=5,["class",this.getAttribute("class")];case 5:if(e.t2=this._styles.isEmpty,e.t2){e.next=9;break}return e.next=9,["style",this.getAttribute("style")];case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttribute",value:function(e){if("class"==e)return this._classes.size>0?l(this._classes).join(" "):void 0;if("style"==e){var t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(e)}},{key:"hasAttribute",value:function(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}},{key:"isSimilar",value:function(e){if(!(e instanceof n))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var t,i=d(this._attrs);try{for(i.s();!(t=i.n()).done;){var r=u(t.value,2),a=r[0],o=r[1];if(!e._attrs.has(a)||e._attrs.get(a)!==o)return!1}}catch(p){i.e(p)}finally{i.f()}var s,c=d(this._classes);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(!e._classes.has(l))return!1}}catch(p){c.e(p)}finally{c.f()}var h,f=d(this._styles.getStyleNames());try{for(f.s();!(h=f.n()).done;){var m=h.value;if(!e._styles.has(m)||e._styles.getAsString(m)!==this._styles.getAsString(m))return!1}}catch(p){f.e(p)}finally{f.f()}return!0}},{key:"hasClass",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var a=r[i];if(!this._classes.has(a))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(e){return this._styles.getAsString(e)}},{key:"getNormalizedStyle",value:function(e){return this._styles.getNormalized(e)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var a=r[i];if(!this._styles.has(a))return!1}return!0}},{key:"findAncestor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=s(ei,t),r=this.parent;r;){if(i.match(r))return r;r=r.parent}return null}},{key:"getCustomProperty",value:function(e){return this._customProperties.get(e)}},{key:"getCustomProperties",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getIdentity",value:function(){var e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map((function(e){return"".concat(e[0],'="').concat(e[1],'"')})).sort().join(" ");return this.name+(""==e?"":' class="'.concat(e,'"'))+(t?' style="'.concat(t,'"'):"")+(""==n?"":" "+n)}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];if(e){var n,i=d(this.getChildren());try{for(i.s();!(n=i.n()).done;){var r=n.value;t.push(r._clone(e))}}catch(o){i.e(o)}finally{i.f()}}var a=new this.constructor(this.document,this.name,this._attrs,t);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,i=0,r=function(e,t){return"string"==typeof t?[new $n(e,t)]:(zn(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new $n(e,t):t instanceof Jn?new $n(e,t.data):t})))}(this.document,t),a=d(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,i++}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_setAttribute",value:function(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?$i(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}},{key:"_removeAttribute",value:function(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:"_addClass",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._classes.add(e)}))}},{key:"_removeClass",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._classes.delete(e)}))}},{key:"_setStyle",value:function(e,t){this._fireChange("attributes",this),this._styles.set(e,t)}},{key:"_removeStyle",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._styles.remove(e)}))}},{key:"_setCustomProperty",value:function(e,t){this._customProperties.set(e,t)}},{key:"_removeCustomProperty",value:function(e){return this._customProperties.delete(e)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}}]),n}(Kn);function $i(e,t){var n=t.split(/\s+/);e.clear(),n.forEach((function(t){return e.add(t)}))}var Ji=function(e){p(n,e);var t=v(n);function n(e,i,r,a){var o;return f(this,n),(o=t.call(this,e,i,r,a)).getFillerOffset=Xi,o}return m(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}}]),n}(Ki);function Xi(){var e=l(this.getChildren()),t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;var n,i=d(e);try{for(i.s();!(n=i.n()).done;)if(!n.value.is("uiElement"))return null}catch(r){i.e(r)}finally{i.f()}return this.childCount}var er=Hi((function(e,t){We(t,_t(t),e)})),tr=Symbol("observableProperties"),nr=Symbol("boundObservables"),ir=Symbol("boundProperties"),rr={set:function(e,t){var n=this;if(te(e))Object.keys(e).forEach((function(t){n.set(t,e[t])}),this);else{or(this);var i=this[tr];if(e in this&&!i.has(e))throw new Tn.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return i.get(e)},set:function(t){var n=i.get(e),r=this.fire("set:"+e,e,t,n);void 0===r&&(r=t),n===r&&i.has(e)||(i.set(e,r),this.fire("change:"+e,e,r,n))}}),this[e]=t}},bind:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length||!lr(n))throw new Tn.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(n).size!==n.length)throw new Tn.b("observable-bind-duplicate-properties: Properties must be unique.",this);or(this);var r=this[ir];n.forEach((function(t){if(r.has(t))throw new Tn.b("observable-bind-rebind: Cannot bind the same property more than once.",e)}));var a=new Map;return n.forEach((function(e){var t={property:e,to:[]};r.set(e,t),a.set(e,t)})),{to:sr,toMany:cr,_observable:this,_bindProperties:n,_to:[],_bindings:a}},unbind:function(){var e=this;if(this[tr]){for(var t=this[ir],n=this[nr],i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];if(r.length){if(!lr(r))throw new Tn.b("observable-unbind-wrong-properties: Properties must be strings.",this);r.forEach((function(i){var r,a,o,s,c=t.get(i);c&&(c.to.forEach((function(t){r=t[0],a=t[1],o=n.get(r),(s=o[a]).delete(c),s.size||delete o[a],Object.keys(o).length||(n.delete(r),e.stopListening(r,"change"))})),t.delete(i))}))}else n.forEach((function(t,n){e.stopListening(n,"change")})),n.clear(),t.clear()}},decorate:function(e){var t=this,n=this[e];if(!n)throw new Tn.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:e});this.on(e,(function(e,i){e.return=n.apply(t,i)})),this[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.fire(e,n)}}};er(rr,Ln);var ar=rr;function or(e){e[tr]||(Object.defineProperty(e,tr,{value:new Map}),Object.defineProperty(e,nr,{value:new Map}),Object.defineProperty(e,ir,{value:new Map}))}function sr(){var e,t=this,n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new Tn.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);var i,r={to:[]};return"function"==typeof t[t.length-1]&&(r.callback=t.pop()),t.forEach((function(e){if("string"==typeof e)i.properties.push(e);else{if("object"!=typeof e)throw new Tn.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);i={observable:e,properties:[]},r.to.push(i)}})),r}.apply(void 0,arguments),i=Array.from(this._bindings.keys()),r=i.length;if(!n.callback&&n.to.length>1)throw new Tn.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(r>1&&n.callback)throw new Tn.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);n.to.forEach((function(e){if(e.properties.length&&e.properties.length!==r)throw new Tn.b("observable-bind-to-properties-length: The number of properties must match.",t);e.properties.length||(e.properties=t._bindProperties)})),this._to=n.to,n.callback&&(this._bindings.get(i[0]).callback=n.callback),e=this._observable,this._to.forEach((function(t){var n,i=e[nr];i.get(t.observable)||e.listenTo(t.observable,"change",(function(r,a){(n=i.get(t.observable)[a])&&n.forEach((function(t){ur(e,t.property)}))}))})),function(e){var t;e._bindings.forEach((function(n,i){e._to.forEach((function(r){t=r.properties[n.callback?0:e._bindProperties.indexOf(i)],n.to.push([r.observable,t]),function(e,t,n,i){var r=e[nr],a=r.get(n),o=a||{};o[i]||(o[i]=new Set),o[i].add(t),a||r.set(n,o)}(e._observable,n,r.observable,t)}))}))}(this),this._bindProperties.forEach((function(e){ur(t._observable,e)}))}function cr(e,t,n){if(this._bindings.size>1)throw new Tn.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to.apply(this,l(function(e,t){var n=e.map((function(e){return[e,t]}));return Array.prototype.concat.apply([],n)}(e,t)).concat([n]))}function lr(e){return e.every((function(e){return"string"==typeof e}))}function ur(e,t){var n,i=e[ir].get(t);n=i.callback?i.callback.apply(e,i.to.map((function(e){return e[0][e[1]]}))):(n=i.to[0])[0][n[1]],Object.prototype.hasOwnProperty.call(e,t)?e[t]=n:e.set(t,n)}var dr=function(e){p(n,e);var t=v(n);function n(e,i,r,a){var s;return f(this,n),(s=t.call(this,e,i,r,a)).set("isReadOnly",!1),s.set("isFocused",!1),s.bind("isReadOnly").to(e),s.bind("isFocused").to(e,"isFocused",(function(t){return t&&e.selection.editableElement==o(s)})),s.listenTo(e.selection,"change",(function(){s.isFocused=e.isFocused&&e.selection.editableElement==o(s)})),s}return m(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"destroy",value:function(){this.stopListening()}}]),n}(Ji);Bn(dr,ar);var hr=Symbol("rootName"),fr=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e,i)).rootName="main",r}return m(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"rootName",get:function(){return this.getCustomProperty(hr)},set:function(e){this._setCustomProperty(hr,e)}},{key:"_name",set:function(e){this.name=e}}]),n}(dr),mr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,e),!t.boundaries&&!t.startPosition)throw new Tn.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new Tn.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=pr._createAt(t.startPosition):this.position=pr._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return m(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,i;do{var r;i=this.position,t=(r=this.next()).done,n=r.value}while(!t&&e(n));t||(this.position=i)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e,t=this.position.clone(),n=this.position,i=t.parent;if(null===i.parent&&t.offset===i.childCount)return{done:!0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};if(i instanceof $n){if(t.isAtEnd)return this.position=pr._createAfter(i),this._next();e=i.data[t.offset]}else e=i.getChild(t.offset);if(e instanceof Ki)return this.shallow?t.offset++:t=new pr(e,0),this.position=t,this._formatReturnValue("elementStart",e,n,t,1);if(e instanceof $n){if(this.singleCharacters)return t=new pr(e,0),this.position=t,this._next();var r,a=e.data.length;return e==this._boundaryEndParent?(a=this.boundaries.end.offset,r=new Jn(e,0,a),t=pr._createAfter(r)):(r=new Jn(e,0,e.data.length),t.offset++),this.position=t,this._formatReturnValue("text",r,n,t,a)}if("string"==typeof e){var o;o=this.singleCharacters?1:(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-t.offset;var s=new Jn(i,t.offset,o);return t.offset+=o,this.position=t,this._formatReturnValue("text",s,n,t,o)}return t=pr._createAfter(i),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,n,t)}},{key:"_previous",value:function(){var e,t=this.position.clone(),n=this.position,i=t.parent;if(null===i.parent&&0===t.offset)return{done:!0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};if(i instanceof $n){if(t.isAtStart)return this.position=pr._createBefore(i),this._previous();e=i.data[t.offset-1]}else e=i.getChild(t.offset-1);if(e instanceof Ki)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",e,n,t,1)):(t=new pr(e,e.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",e,n,t));if(e instanceof $n){if(this.singleCharacters)return t=new pr(e,e.data.length),this.position=t,this._previous();var r,a=e.data.length;if(e==this._boundaryStartParent){var o=this.boundaries.start.offset;a=(r=new Jn(e,o,e.data.length-o)).data.length,t=pr._createBefore(r)}else r=new Jn(e,0,e.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",r,n,t,a)}if("string"==typeof e){var s;if(this.singleCharacters)s=1;else{var c=i===this._boundaryStartParent?this.boundaries.start.offset:0;s=t.offset-c}t.offset-=s;var l=new Jn(i,t.offset,s);return this.position=t,this._formatReturnValue("text",l,n,t,s)}return t=pr._createBefore(i),this.position=t,this._formatReturnValue("elementStart",i,n,t,1)}},{key:"_formatReturnValue",value:function(e,t,n,i,r){return t instanceof Jn&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=pr._createAfter(t.textNode):(i=pr._createAfter(t.textNode),this.position=i)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=pr._createBefore(t.textNode):(i=pr._createBefore(t.textNode),this.position=i))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:r}}}}]),e}(),pr=function(){function e(t,n){f(this,e),this.parent=t,this.offset=n}return m(e,[{key:"getShiftedBy",value:function(t){var n=e._createAt(this),i=n.offset+t;return n.offset=i<0?0:i,n}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new mr(t);return n.skip(e),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),i=0;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}},{key:"is",value:function(e){return"position"===e||"view:position"===e}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);var i=Yn(t,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<n[i]?"before":"after"}}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.startPosition=this,new mr(e)}},{key:"clone",value:function(){return new e(this.parent,this.offset)}},{key:"nodeAfter",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var e=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof dr);){if(!e.parent)return null;e=e.parent}return e}}],[{key:"_createAt",value:function(t,n){if(t instanceof e)return new this(t.parent,t.offset);var i=t;if("end"==n)n=i.is("text")?i.data.length:i.childCount;else{if("before"==n)return this._createBefore(i);if("after"==n)return this._createAfter(i);if(0!==n&&!n)throw new Tn.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",i)}return new e(i,n)}},{key:"_createAfter",value:function(t){if(t.is("textProxy"))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new Tn.b("view-position-after-root: You can not make position after root.",t,{root:t});return new e(t.parent,t.index+1)}},{key:"_createBefore",value:function(t){if(t.is("textProxy"))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new Tn.b("view-position-before-root: You can not make position before root.",t,{root:t});return new e(t.parent,t.index)}}]),e}(),vr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f(this,e),this.start=t.clone(),this.end=n?n.clone():t.clone()}return m(e,[{key:Symbol.iterator,value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new mr({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getEnlarged",value:function(){var t=this.start.getLastMatchingPosition(gr,{direction:"backward"}),n=this.end.getLastMatchingPosition(gr);return t.parent.is("text")&&t.isAtStart&&(t=pr._createBefore(t.parent)),n.parent.is("text")&&n.isAtEnd&&(n=pr._createAfter(n.parent)),new e(t,n)}},{key:"getTrimmed",value:function(){var t=this.start.getLastMatchingPosition(gr);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);var n=this.end.getLastMatchingPosition(gr,{direction:"backward"}),i=t.nodeAfter,r=n.nodeBefore;return i&&i.is("text")&&(t=new pr(i,0)),r&&r.is("text")&&(n=new pr(r,r.data.length)),new e(t,n)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(this.clone()),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,i=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(i=t.end),new e(n,i)}return null}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new mr(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}},{key:"clone",value:function(){return new e(this.start,this.end)}},{key:"getItems",value:h.mark((function e(){var t,n,i,r,a,o=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=o.length>0&&void 0!==o[0]?o[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new mr(t),i=d(n),e.prev=4,i.s();case 6:if((r=i.n()).done){e.next=12;break}return a=r.value,e.next=10,a.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))},{key:"getPositions",value:h.mark((function e(){var t,n,i,r,a,o=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=o.length>0&&void 0!==o[0]?o[0]:{}).boundaries=this,n=new mr(t),e.next=5,n.position;case 5:i=d(n),e.prev=6,i.s();case 8:if((r=i.n()).done){e.next=14;break}return a=r.value,e.next=12,a.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[6,16,19,22]])}))},{key:"is",value:function(e){return"range"===e||"view:range"===e}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromParentsAndOffsets",value:function(e,t,n,i){return new this(new pr(e,t),new pr(n,i))}},{key:"_createFromPositionAndShift",value:function(e,t){var n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var t=e.is("textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(pr._createBefore(e),t)}}]),e}();function gr(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}function br(e){var t,n=0,i=d(e);try{for(i.s();!(t=i.n()).done;)t.value,n++}catch(r){i.e(r)}finally{i.f()}return n}var kr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;f(this,e),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,n,i)}return m(e,[{key:"getRanges",value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,i.clone();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var i=e.value;t&&!i.start.isBefore(t.start)||(t=i)}}catch(r){n.e(r)}finally{n.f()}return t?t.clone():null}},{key:"getLastRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var i=e.value;t&&!i.end.isAfter(t.end)||(t=i)}}catch(r){n.e(r)}finally{n.f()}return t?t.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=d(this._ranges);try{for(n.s();!(t=n.n()).done;){var i,r=t.value,a=!1,o=d(e._ranges);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(r.isEqual(s)){a=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(!a)return!1}}catch(c){n.e(c)}finally{n.f()}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var t=br(this.getRanges());if(t!=br(e.getRanges()))return!1;if(0==t)return!0;var n,i=d(this.getRanges());try{for(i.s();!(n=i.n()).done;){var r=n.value;r=r.getTrimmed();var a,o=!1,s=d(e.getRanges());try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c=c.getTrimmed(),r.start.isEqual(c.start)&&r.end.isEqual(c.end)){o=!0;break}}}catch(l){s.e(l)}finally{s.f()}if(!o)return!1}}catch(l){i.e(l)}finally{i.f()}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(t,n,i){if(null===t)this._setRanges([]),this._setFakeOptions(n);else if(t instanceof e||t instanceof yr)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof vr)this._setRanges([t],n&&n.backward),this._setFakeOptions(n);else if(t instanceof pr)this._setRanges([new vr(t)]),this._setFakeOptions(n);else if(t instanceof Kn){var r,a=!!i&&!!i.backward;if(void 0===n)throw new Tn.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);r="in"==n?vr._createIn(t):"on"==n?vr._createOn(t):new vr(pr._createAt(t,n)),this._setRanges([r],a),this._setFakeOptions(i)}else{if(!zn(t))throw new Tn.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(t,n&&n.backward),this._setFakeOptions(n)}this.fire("change")}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new Tn.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);var n=pr._createAt(e,t);if("same"!=n.compareWith(this.focus)){var i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new vr(n,i),!0):this._addRange(new vr(i,n)),this.fire("change")}}},{key:"is",value:function(e){return"selection"===e||"view:selection"===e}},{key:"_setRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Array.from(e),this._ranges=[];var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._addRange(r)}}catch(a){i.e(a)}finally{i.f()}this._lastRangeBackward=!!t}},{key:"_setFakeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof vr))throw new Tn.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(e),this._lastRangeBackward=!!t}},{key:"_pushRange",value:function(e){var t,n=d(this._ranges);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e.isIntersecting(i))throw new Tn.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:e,intersectingRange:i})}}catch(r){n.e(r)}finally{n.f()}this._ranges.push(new vr(e.start,e.end))}},{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}}]),e}();Bn(kr,Ln);var yr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;f(this,e),this._selection=new kr,this._selection.delegate("change").to(this),this._selection.setTo(t,n,i)}return m(e,[{key:"getRanges",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"is",value:function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}}]),e}();Bn(yr,Ln);var wr=function(){function e(t){f(this,e),this.selection=new yr,this.roots=new Fn({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}return m(e,[{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map((function(e){return e.destroy()})),this.stopListening()}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,i=d(this._postFixers);try{for(i.s();!(n=i.n()).done&&!(t=(0,n.value)(e)););}catch(r){i.e(r)}finally{i.f()}}while(t)}}]),e}();Bn(wr,ar);var _r=function(e){p(n,e);var t=v(n);function n(e,i,r,a){var o;return f(this,n),(o=t.call(this,e,i,r,a)).getFillerOffset=xr,o._priority=10,o._id=null,o._clonesGroup=null,o}return m(n,[{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new Tn.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}},{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return null!==this.id||null!==e.id?this.id===e.id:r(a(n.prototype),"isSimilar",this).call(this,e)&&this.priority==e.priority}},{key:"_clone",value:function(e){var t=r(a(n.prototype),"_clone",this).call(this,e);return t._priority=this._priority,t._id=this._id,t}},{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}}]),n}(Ki);function xr(){if(jr(this))return null;for(var e=this.parent;e&&e.is("attributeElement");){if(jr(e)>1)return null;e=e.parent}return!e||jr(e)>1?null:this.childCount}function jr(e){return Array.from(e.getChildren()).filter((function(e){return!e.is("uiElement")})).length}_r.DEFAULT_PRIORITY=10;var Cr=function(e){p(n,e);var t=v(n);function n(e,i,r,a){var o;return f(this,n),(o=t.call(this,e,i,r,a)).getFillerOffset=Or,o}return m(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof Kn||Array.from(t).length>0))throw new Tn.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,t])}}]),n}(Ki);function Or(){return null}var Nr=navigator.userAgent.toLowerCase(),Ar={isMac:function(e){return e.indexOf("macintosh")>-1}(Nr),isGecko:function(e){return!!e.match(/gecko\/\d+/)}(Nr),isSafari:function(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}(Nr),isAndroid:function(e){return e.indexOf("android")>-1}(Nr),features:{isRegExpUnicodePropertySupported:function(){var e=!1;try{e=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e}()}},Tr={"\u2318":"ctrl","\u21e7":"shift","\u2325":"alt"},Sr={ctrl:"\u2318",shift:"\u21e7",alt:"\u2325"},Mr=function(){for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(var n=48;n<=57;n++)e[n-48]=n;for(var i=112;i<=123;i++)e["f"+(i-111)]=i;return e}();function Lr(e){var t;if("string"==typeof e){if(!(t=Mr[e.toLowerCase()]))throw new Tn.b("keyboard-unknown-key: Unknown key name.",null,{key:e})}else t=e.keyCode+(e.altKey?Mr.alt:0)+(e.ctrlKey?Mr.ctrl:0)+(e.shiftKey?Mr.shift:0);return t}function Er(e){return"string"==typeof e&&(e=Dr(e)),e.map((function(e){return"string"==typeof e?Lr(e):e})).reduce((function(e,t){return t+e}),0)}function Pr(e){return Ar.isMac?Dr(e).map((function(e){return Sr[e.toLowerCase()]||e})).reduce((function(e,t){return e.slice(-1)in Tr?e+t:e+"+"+t})):e}function Ir(e){return e==Mr.arrowright||e==Mr.arrowleft||e==Mr.arrowup||e==Mr.arrowdown}function Vr(e,t){var n="ltr"===t;switch(e){case Mr.arrowleft:return n?"left":"right";case Mr.arrowright:return n?"right":"left";case Mr.arrowup:return"up";case Mr.arrowdown:return"down"}}function Rr(e,t){var n=Vr(e,t);return"down"===n||"right"===n}function Dr(e){return e.split(/\s*\+\s*/)}var zr=function(e){p(n,e);var t=v(n);function n(e,i,r,a){var o;return f(this,n),(o=t.call(this,e,i,r,a)).getFillerOffset=Fr,o}return m(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof Kn||Array.from(t).length>0))throw new Tn.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}},{key:"render",value:function(e){return this.toDomElement(e)}},{key:"toDomElement",value:function(e){var t,n=e.createElement(this.name),i=d(this.getAttributeKeys());try{for(i.s();!(t=i.n()).done;){var r=t.value;n.setAttribute(r,this.getAttribute(r))}}catch(a){i.e(a)}finally{i.f()}return n}}]),n}(Ki);function Br(e){e.document.on("keydown",(function(t,n){return function(e,t,n){if(t.keyCode==Mr.arrowright){var i=t.domTarget.ownerDocument.defaultView.getSelection(),r=1==i.rangeCount&&i.getRangeAt(0).collapsed;if(r||t.shiftKey){var a=i.focusNode,o=i.focusOffset,s=n.domPositionToView(a,o);if(null===s)return;var c=!1,l=s.getLastMatchingPosition((function(e){return e.item.is("uiElement")&&(c=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))}));if(c){var u=n.viewPositionToDom(l);r?i.collapse(u.parent,u.offset):i.extend(u.parent,u.offset)}}}}(0,n,e.domConverter)}))}function Fr(){return null}var Hr=function(){function e(t,n){f(this,e),this.document=t,this._children=[],n&&this._insertChild(0,n)}return m(e,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"is",value:function(e){return"documentFragment"===e||"view:documentFragment"===e}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,i=0,r=function(e,t){return"string"==typeof t?[new $n(e,t)]:(zn(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new $n(e,t):t instanceof Jn?new $n(e,t.data):t})))}(this.document,t),a=d(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,i++}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}]),e}();Bn(Hr,Ln);var Ur=function(){function e(t){f(this,e),this.document=t,this._cloneGroups=new Map}return m(e,[{key:"setSelection",value:function(e,t,n){this.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this.document.selection._setFocus(e,t)}},{key:"createText",value:function(e){return new $n(this.document,e)}},{key:"createAttributeElement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new _r(this.document,e,t);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}},{key:"createContainerElement",value:function(e,t){return new Ji(this.document,e,t)}},{key:"createEditableElement",value:function(e,t){var n=new dr(this.document,e,t);return n._document=this.document,n}},{key:"createEmptyElement",value:function(e,t){return new Cr(this.document,e,t)}},{key:"createUIElement",value:function(e,t,n){var i=new zr(this.document,e,t);return n&&(i.render=n),i}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){z(e)&&void 0===n&&(n=t),n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof pr?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var t=e.parent;if(!t.is("containerElement"))throw new Tn.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!t.parent)throw new Tn.b("view-writer-break-root: Trying to break root element.",this.document);if(e.isAtStart)return pr._createBefore(t);if(!e.isAtEnd){var n=t._clone(!1);this.insert(pr._createAfter(t),n);var i=new vr(e,pr._createAt(t,"end")),r=new pr(n,0);this.move(i,r)}return pr._createAfter(t)}},{key:"mergeAttributes",value:function(e){var t=e.offset,n=e.parent;if(n.is("text"))return e;if(n.is("attributeElement")&&0===n.childCount){var i=n.parent,r=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new pr(i,r))}var a=n.getChild(t-1),o=n.getChild(t);if(!a||!o)return e;if(a.is("text")&&o.is("text"))return Yr(a,o);if(a.is("attributeElement")&&o.is("attributeElement")&&a.isSimilar(o)){var s=a.childCount;return a._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new pr(a,s))}return e}},{key:"mergeContainers",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new Tn.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);var i=t.getChild(t.childCount-1),r=i instanceof $n?pr._createAt(i,"end"):pr._createAt(t,"end");return this.move(vr._createIn(n),pr._createAt(t,"end")),this.remove(vr._createOn(n)),r}},{key:"insert",value:function(e,t){!function e(t,n){var i,r=d(t);try{var a=function(){var t=i.value;if(!Qr.some((function(e){return t instanceof e})))throw new Tn.b("view-writer-insert-invalid-node",n);t.is("text")||e(t.getChildren(),n)};for(r.s();!(i=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}}(t=zn(t)?l(t):[t],this.document);var n=qr(e);if(!n)throw new Tn.b("view-writer-invalid-position-container",this.document);var i,r=this._breakAttributes(e,!0),a=n._insertChild(r.offset,t),o=d(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;this._addToClonedElementsGroup(s)}}catch(f){o.e(f)}finally{o.f()}var c=r.getShiftedBy(a),u=this.mergeAttributes(r);if(0===a)return new vr(u,u);u.isEqual(r)||c.offset--;var h=this.mergeAttributes(c);return new vr(u,h)}},{key:"remove",value:function(e){var t=e instanceof vr?e:vr._createOn(e);if($r(t,this.document),t.isCollapsed)return new Hr(this.document);var n,i=this._breakAttributesRange(t,!0),r=i.start,a=i.end,o=r.parent,s=a.offset-r.offset,c=o._removeChildren(r.offset,s),l=d(c);try{for(l.s();!(n=l.n()).done;){var u=n.value;this._removeFromClonedElementsGroup(u)}}catch(f){l.e(f)}finally{l.f()}var h=this.mergeAttributes(r);return t.start=h,t.end=h.clone(),new Hr(this.document,c)}},{key:"clear",value:function(e,t){$r(e,this.document);var n,i=e.getWalker({direction:"backward",ignoreElementEnd:!0}),r=d(i);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=a.item,s=void 0;if(o.is("element")&&t.isSimilar(o))s=vr._createOn(o);else if(!a.nextPosition.isAfter(e.start)&&o.is("textProxy")){var c=o.getAncestors().find((function(e){return e.is("element")&&t.isSimilar(e)}));c&&(s=vr._createIn(c))}s&&(s.end.isAfter(e.end)&&(s.end=e.end),s.start.isBefore(e.start)&&(s.start=e.start),this.remove(s))}}catch(l){r.e(l)}finally{r.f()}}},{key:"move",value:function(e,t){var n;if(t.isAfter(e.end)){var i=(t=this._breakAttributes(t,!0)).parent,r=i.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=i.childCount-r}else n=this.remove(e);return this.insert(t,n)}},{key:"wrap",value:function(e,t){if(!(t instanceof _r))throw new Tn.b("view-writer-wrap-invalid-attribute",this.document);if($r(e,this.document),e.isCollapsed){var n=e.start;n.parent.is("element")&&(r=n.parent,!Array.from(r.getChildren()).some((function(e){return!e.is("uiElement")})))&&(n=n.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))),n=this._wrapPosition(n,t);var i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new vr(n)}return this._wrapRange(e,t);var r}},{key:"unwrap",value:function(e,t){if(!(t instanceof _r))throw new Tn.b("view-writer-unwrap-invalid-attribute",this.document);if($r(e,this.document),e.isCollapsed)return e;var n=this._breakAttributesRange(e,!0),i=n.start,r=n.end,a=i.parent,o=this._unwrapChildren(a,i.offset,r.offset,t),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;var c=this.mergeAttributes(o.end);return new vr(s,c)}},{key:"rename",value:function(e,t){var n=new Ji(this.document,e,t.getAttributes());return this.insert(pr._createAfter(t),n),this.move(vr._createIn(t),pr._createAt(n,0)),this.remove(vr._createOn(t)),n}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,t){return pr._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return pr._createAfter(e)}},{key:"createPositionBefore",value:function(e){return pr._createBefore(e)}},{key:"createRange",value:function(e,t){return new vr(e,t)}},{key:"createRangeOn",value:function(e){return vr._createOn(e)}},{key:"createRangeIn",value:function(e){return vr._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new kr(e,t,n)}},{key:"_wrapChildren",value:function(e,t,n,i){for(var r=t,a=[];r<n;){var o=e.getChild(r),s=o.is("text"),c=o.is("attributeElement"),l=o.is("emptyElement"),u=o.is("uiElement");if(c&&this._wrapAttributeElement(i,o))a.push(new pr(e,r));else if(s||l||u||c&&Wr(i,o)){var d=i._clone();o._remove(),d._appendChild(o),e._insertChild(r,d),this._addToClonedElementsGroup(d),a.push(new pr(e,r))}else c&&this._wrapChildren(o,0,o.childCount,i);r++}for(var h=0,f=0,m=a;f<m.length;f++){var p=m[f];p.offset-=h,p.offset!=t&&(this.mergeAttributes(p).isEqual(p)||(h++,n--))}return vr._createFromParentsAndOffsets(e,t,e,n)}},{key:"_unwrapChildren",value:function(e,t,n,i){for(var r=t,a=[];r<n;){var o=e.getChild(r);if(o.is("attributeElement"))if(o.isSimilar(i)){var s=o.getChildren(),c=o.childCount;o._remove(),e._insertChild(r,s),this._removeFromClonedElementsGroup(o),a.push(new pr(e,r),new pr(e,r+c)),r+=c,n+=c-1}else this._unwrapAttributeElement(i,o)?(a.push(new pr(e,r),new pr(e,r+1)),r++):(this._unwrapChildren(o,0,o.childCount,i),r++);else r++}for(var l=0,u=0,d=a;u<d.length;u++){var h=d[u];h.offset-=l,h.offset!=t&&h.offset!=n&&(this.mergeAttributes(h).isEqual(h)||(l++,n--))}return vr._createFromParentsAndOffsets(e,t,e,n)}},{key:"_wrapRange",value:function(e,t){var n=this._breakAttributesRange(e,!0),i=n.start,r=n.end,a=i.parent,o=this._wrapChildren(a,i.offset,r.offset,t),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;var c=this.mergeAttributes(o.end);return new vr(s,c)}},{key:"_wrapPosition",value:function(e,t){if(t.isSimilar(e.parent))return Zr(e.clone());e.parent.is("text")&&(e=Gr(e));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},e.parent._insertChild(e.offset,n);var i=new vr(e,e.getShiftedBy(1));this.wrap(i,t);var r=new pr(n.parent,n.index);n._remove();var a=r.nodeBefore,o=r.nodeAfter;return a instanceof $n&&o instanceof $n?Yr(a,o):Zr(r)}},{key:"_wrapAttributeElement",value:function(e,t){if(!Jr(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,i=d(e.getAttributeKeys());try{for(i.s();!(n=i.n()).done;){var r=n.value;if("class"!==r&&"style"!==r&&t.hasAttribute(r)&&t.getAttribute(r)!==e.getAttribute(r))return!1}}catch(b){i.e(b)}finally{i.f()}var a,o=d(e.getStyleNames());try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t.hasStyle(s)&&t.getStyle(s)!==e.getStyle(s))return!1}}catch(b){o.e(b)}finally{o.f()}var c,l=d(e.getAttributeKeys());try{for(l.s();!(c=l.n()).done;){var u=c.value;"class"!==u&&"style"!==u&&(t.hasAttribute(u)||this.setAttribute(u,e.getAttribute(u),t))}}catch(b){l.e(b)}finally{l.f()}var h,f=d(e.getStyleNames());try{for(f.s();!(h=f.n()).done;){var m=h.value;t.hasStyle(m)||this.setStyle(m,e.getStyle(m),t)}}catch(b){f.e(b)}finally{f.f()}var p,v=d(e.getClassNames());try{for(v.s();!(p=v.n()).done;){var g=p.value;t.hasClass(g)||this.addClass(g,t)}}catch(b){v.e(b)}finally{v.f()}return!0}},{key:"_unwrapAttributeElement",value:function(e,t){if(!Jr(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,i=d(e.getAttributeKeys());try{for(i.s();!(n=i.n()).done;){var r=n.value;if("class"!==r&&"style"!==r&&(!t.hasAttribute(r)||t.getAttribute(r)!==e.getAttribute(r)))return!1}}catch(f){i.e(f)}finally{i.f()}if(!t.hasClass.apply(t,l(e.getClassNames())))return!1;var a,o=d(e.getStyleNames());try{for(o.s();!(a=o.n()).done;){var s=a.value;if(!t.hasStyle(s)||t.getStyle(s)!==e.getStyle(s))return!1}}catch(f){o.e(f)}finally{o.f()}var c,u=d(e.getAttributeKeys());try{for(u.s();!(c=u.n()).done;){var h=c.value;"class"!==h&&"style"!==h&&this.removeAttribute(h,t)}}catch(f){u.e(f)}finally{u.f()}return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}},{key:"_breakAttributesRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.start,i=e.end;if($r(e,this.document),e.isCollapsed){var r=this._breakAttributes(e.start,t);return new vr(r,r)}var a=this._breakAttributes(i,t),o=a.parent.childCount,s=this._breakAttributes(n,t);return a.offset+=a.parent.childCount-o,new vr(s,a)}},{key:"_breakAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new Tn.b("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new Tn.b("view-writer-cannot-break-ui-element",this.document);if(!t&&i.is("text")&&Kr(i.parent))return e.clone();if(Kr(i))return e.clone();if(i.is("text"))return this._breakAttributes(Gr(e),t);if(n==i.childCount){var r=new pr(i.parent,i.index+1);return this._breakAttributes(r,t)}if(0===n){var a=new pr(i.parent,i.index);return this._breakAttributes(a,t)}var o=i.index+1,s=i._clone();i.parent._insertChild(o,s),this._addToClonedElementsGroup(s);var c=i.childCount-n,l=i._removeChildren(n,c);s._appendChild(l);var u=new pr(i.parent,o);return this._breakAttributes(u,t)}},{key:"_addToClonedElementsGroup",value:function(e){if(e.root.is("rootElement")){if(e.is("element")){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._addToClonedElementsGroup(i)}}catch(o){n.e(o)}finally{n.f()}}var r=e.id;if(r){var a=this._cloneGroups.get(r);a||(a=new Set,this._cloneGroups.set(r,a)),a.add(e),e._clonesGroup=a}}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._removeFromClonedElementsGroup(i)}}catch(o){n.e(o)}finally{n.f()}}var r=e.id;if(r){var a=this._cloneGroups.get(r);a&&a.delete(e)}}}]),e}();function qr(e){for(var t=e.parent;!Kr(t);){if(!t)return;t=t.parent}return t}function Wr(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function Zr(e){var t=e.nodeBefore;if(t&&t.is("text"))return new pr(t,t.data.length);var n=e.nodeAfter;return n&&n.is("text")?new pr(n,0):e}function Gr(e){if(e.offset==e.parent.data.length)return new pr(e.parent.parent,e.parent.index+1);if(0===e.offset)return new pr(e.parent.parent,e.parent.index);var t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new $n(e.root.document,t)),new pr(e.parent.parent,e.parent.index+1)}function Yr(e,t){var n=e.data.length;return e._data+=t.data,t._remove(),new pr(e,n)}var Qr=[$n,_r,Ji,Cr,zr];function Kr(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function $r(e,t){var n=qr(e.start),i=qr(e.end);if(!n||!i||n!==i)throw new Tn.b("view-writer-invalid-range-container",t)}function Jr(e,t){return null===e.id&&null===t.id}function Xr(e){return"[object Text]"==Object.prototype.toString.call(e)}var ea=function(e){return e.createTextNode("\xa0")},ta=function(e){var t=e.createElement("br");return t.dataset.ckeFiller=!0,t},na=function(){for(var e="",t=0;t<7;t++)e+="\u200b";return e}();function ia(e){return Xr(e)&&e.data.substr(0,7)===na}function ra(e){return 7==e.data.length&&ia(e)}function aa(e){return ia(e)?e.data.slice(7):e.data}function oa(e,t){if(t.keyCode==Mr.arrowleft){var n=t.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){var i=n.getRangeAt(0).startContainer,r=n.getRangeAt(0).startOffset;ia(i)&&r<=7&&n.collapse(i,0)}}}function sa(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||function(e,t){return e===t},Array.isArray(e)||(e=Array.prototype.slice.call(e)),Array.isArray(t)||(t=Array.prototype.slice.call(t));var r=function(e,t,n){var i=ca(e,t,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var r=ca(la(e,i),la(t,i),n);return{firstIndex:i,lastIndexOld:e.length-r,lastIndexNew:t.length-r}}(e,t,n);return i?function(e,t){var n=e.firstIndex,i=e.lastIndexOld,r=e.lastIndexNew;if(-1===n)return Array(t).fill("equal");var a=[];return n>0&&(a=a.concat(Array(n).fill("equal"))),r-n>0&&(a=a.concat(Array(r-n).fill("insert"))),i-n>0&&(a=a.concat(Array(i-n).fill("delete"))),r<t&&(a=a.concat(Array(t-r).fill("equal"))),a}(r,t.length):function(e,t){var n=[],i=t.firstIndex,r=t.lastIndexOld,a=t.lastIndexNew;return a-i>0&&n.push({index:i,type:"insert",values:e.slice(i,a)}),r-i>0&&n.push({index:i+(a-i),type:"delete",howMany:r-i}),n}(t,r)}function ca(e,t,n){for(var i=0;i<Math.max(e.length,t.length);i++)if(void 0===e[i]||void 0===t[i]||!n(e[i],t[i]))return i;return-1}function la(e,t){return e.slice(t).reverse()}function ua(e,t,n){n=n||function(e,t){return e===t};var i,r,a=e.length,o=t.length;if(a>200||o>200||a+o>300)return ua.fastDiff(e,t,n,!0);if(o<a){var s=e;e=t,t=s,i="delete",r="insert"}else i="insert",r="delete";var c=e.length,l=t.length,u=l-c,d={},h={};function f(a){var o=(void 0!==h[a-1]?h[a-1]:-1)+1,s=void 0!==h[a+1]?h[a+1]:-1,u=o>s?-1:1;d[a+u]&&(d[a]=d[a+u].slice(0)),d[a]||(d[a]=[]),d[a].push(o>s?i:r);for(var f=Math.max(o,s),m=f-a;m<c&&f<l&&n(e[m],t[f]);)m++,f++,d[a].push("equal");return f}var m,p=0;do{for(m=-p;m<u;m++)h[m]=f(m);for(m=u+p;m>u;m--)h[m]=f(m);h[u]=f(u),p++}while(h[u]!==l);return d[u].slice(1)}function da(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function ha(e){var t=e.parentNode;t&&t.removeChild(e)}function fa(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}ua.fastDiff=sa;var ma=function(){function e(t,n){f(this,e),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=n,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}return m(e,[{key:"markToSync",value:function(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new Tn.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(t)}}}},{key:"render",value:function(){var e,t,n=d(this.markedChildren);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._updateChildrenMappings(i)}}catch(v){n.e(v)}finally{n.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var r,a=d(this.markedAttributes);try{for(a.s();!(r=a.n()).done;){var o=r.value;this._updateAttrs(o)}}catch(v){a.e(v)}finally{a.f()}var s,c=d(this.markedChildren);try{for(c.s();!(s=c.n()).done;){var l=s.value;this._updateChildren(l,{inlineFillerPosition:e})}}catch(v){c.e(v)}finally{c.f()}var u,h=d(this.markedTexts);try{for(h.s();!(u=h.n()).done;){var f=u.value;!this.markedChildren.has(f.parent)&&this.domConverter.mapViewToDom(f.parent)&&this._updateText(f,{inlineFillerPosition:e})}}catch(v){h.e(v)}finally{h.f()}if(e){var m=this.domConverter.viewPositionToDom(e),p=m.parent.ownerDocument;ia(m.parent)?this._inlineFiller=m.parent:this._inlineFiller=pa(p,m.parent,m.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n=this.domConverter.mapViewToDom(e).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:!1})),r=this._diffNodeLists(n,i),a=this._findReplaceActions(r,n,i);if(-1!==a.indexOf("replace")){var o,s={equal:0,insert:0,delete:0},c=d(a);try{for(c.s();!(o=c.n()).done;){var l=o.value;if("replace"===l){var u=s.equal+s.insert,h=s.equal+s.delete,f=e.getChild(u);f&&!f.is("uiElement")&&this._updateElementMappings(f,n[h]),ha(i[u]),s.equal++}else s[l]++}}catch(m){c.e(m)}finally{c.f()}}}}},{key:"_updateElementMappings",value:function(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("text")?pr._createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Xr(t.parent)&&ia(t.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!ia(e))throw new Tn.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);ra(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;var t=e.findAncestor((function(e){return e.hasAttribute("contenteditable")}));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;if(n===t.getFillerOffset())return!1;var i=e.nodeBefore,r=e.nodeAfter;return!(i instanceof $n||r instanceof $n)}},{key:"_updateText",value:function(e,t){var n=this.domConverter.findCorrespondingDomText(e),i=this.domConverter.viewToDom(e,n.ownerDocument),r=n.data,a=i.data,o=t.inlineFillerPosition;if(o&&o.parent==e.parent&&o.offset==e.index&&(a=na+a),r!=a){var s,c=sa(r,a),l=d(c);try{for(l.s();!(s=l.n()).done;){var u=s.value;"insert"===u.type?n.insertData(u.index,u.values.join("")):n.deleteData(u.index,u.howMany)}}catch(h){l.e(h)}finally{l.f()}}}},{key:"_updateAttrs",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n,i=Array.from(t.attributes).map((function(e){return e.name})),r=e.getAttributeKeys(),a=d(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;t.setAttribute(o,e.getAttribute(o))}}catch(u){a.e(u)}finally{a.f()}var s,c=d(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.hasAttribute(l)||t.removeAttribute(l)}}catch(u){c.e(u)}finally{c.f()}}}},{key:"_updateChildren",value:function(e,t){var n=this.domConverter.mapViewToDom(e);if(n){var i=t.inlineFillerPosition,r=this.domConverter.mapViewToDom(e).childNodes,a=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===e&&pa(n.ownerDocument,a,i.offset);var o,s=this._diffNodeLists(r,a),c=0,l=new Set,u=d(s);try{for(u.s();!(o=u.n()).done;){var h=o.value;"delete"===h?(l.add(r[c]),ha(r[c])):"equal"===h&&c++}}catch(k){u.e(k)}finally{u.f()}c=0;var f,m=d(s);try{for(m.s();!(f=m.n()).done;){var p=f.value;"insert"===p?(da(n,c,a[c]),c++):"equal"===p&&(this._markDescendantTextToSync(this.domConverter.domToView(a[c])),c++)}}catch(k){m.e(k)}finally{m.f()}var v,g=d(l);try{for(g.s();!(v=g.n()).done;){var b=v.value;b.parentNode||this.domConverter.unbindDomElement(b)}}catch(k){g.e(k)}finally{g.f()}}}},{key:"_diffNodeLists",value:function(e,t){return ua(e=function(e,t){var n=Array.from(e);return 0!=n.length&&t?(n[n.length-1]==t&&n.pop(),n):n}(e,this._fakeSelectionContainer),t,ga.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(e,t,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;var i,r=[],a=[],o=[],s={equal:0,insert:0,delete:0},c=d(e);try{for(c.s();!(i=c.n()).done;){var l=i.value;"insert"===l?o.push(n[s.equal+s.insert]):"delete"===l?a.push(t[s.equal+s.delete]):((r=r.concat(ua(a,o,va).map((function(e){return"equal"===e?"replace":e})))).push("equal"),a=[],o=[]),s[l]++}}catch(u){c.e(u)}finally{c.f()}return r.concat(ua(a,o,va).map((function(e){return"equal"===e?"replace":e})))}},{key:"_markDescendantTextToSync",value:function(e){if(e)if(e.is("text"))this.markedTexts.add(e);else if(e.is("element")){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._markDescendantTextToSync(i)}}catch(r){n.e(r)}finally{n.f()}}}},{key:"_updateSelection",value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:"_updateFakeSelection",value:function(e){var t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){var t=e.createElement("div");return Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="\xa0",t}(t));var n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(e)){n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";var i=t.getSelection(),r=t.createRange();i.removeAllRanges(),r.selectNodeContents(n),i.addRange(r)}}},{key:"_updateDomSelection",value:function(e){var t=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(t)){var n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),t.collapse(n.parent,n.offset),t.extend(i.parent,i.offset),Ar.isGecko&&function(e,t){var n=e.parent;if(n.nodeType==Node.ELEMENT_NODE&&e.offset==n.childNodes.length-1){var i=n.childNodes[e.offset];i&&"BR"==i.tagName&&t.addRange(t.getRangeAt(0))}}(i,t)}}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e,t=d(this.domDocuments);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.getSelection().rangeCount){var i=n.activeElement,r=this.domConverter.mapDomToView(i);i&&r&&n.getSelection().removeAllRanges()}}}catch(a){t.e(a)}finally{t.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),e}();function pa(e,t,n){var i=t instanceof Array?t:t.childNodes,r=i[n];if(Xr(r))return r.data=na+r.data,r;var a=e.createTextNode(na);return Array.isArray(t)?i.splice(n,0,a):da(t,n,a),a}function va(e,t){return fa(e)&&fa(t)&&!Xr(e)&&!Xr(t)&&e.nodeType!==Node.COMMENT_NODE&&t.nodeType!==Node.COMMENT_NODE&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function ga(e,t,n){return t===n||(Xr(t)&&Xr(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}Bn(ma,ar);var ba={window:window,document:document};function ka(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}function ya(e){for(var t=[];e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}var wa=ta(document),_a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e),this.document=t,this.blockFillerMode=n.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller="br"==this.blockFillerMode?ta:ea,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return m(e,[{key:"bindFakeSelection",value:function(e,t){this._fakeSelectionMapping.set(e,new kr(t))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"unbindDomElement",value:function(e){var t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);var n,i=d(e.childNodes);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.unbindDomElement(r)}}catch(a){i.e(a)}finally{i.f()}}}},{key:"bindDocumentFragments",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"viewToDom",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.is("text")){var r=this._processDataFromViewText(e);return t.createTextNode(r)}if(this.mapViewToDom(e))return this.mapViewToDom(e);if(e.is("documentFragment"))n=t.createDocumentFragment(),i.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return n=e.render(t),i.bind&&this.bindElements(n,e),n;n=e.hasAttribute("xmlns")?t.createElementNS(e.getAttribute("xmlns"),e.name):t.createElement(e.name),i.bind&&this.bindElements(n,e);var a,o=d(e.getAttributeKeys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.setAttribute(s,e.getAttribute(s))}}catch(h){o.e(h)}finally{o.f()}}if(i.withChildren||void 0===i.withChildren){var c,l=d(this.viewChildrenToDom(e,t,i));try{for(l.s();!(c=l.n()).done;){var u=c.value;n.appendChild(u)}}catch(h){l.e(h)}finally{l.f()}}return n}},{key:"viewChildrenToDom",value:h.mark((function e(t,n){var i,r,a,o,s,c,l=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=l.length>2&&void 0!==l[2]?l[2]:{},r=t.getFillerOffset&&t.getFillerOffset(),a=0,o=d(t.getChildren()),e.prev=4,o.s();case 6:if((s=o.n()).done){e.next=17;break}if(c=s.value,e.t0=r===a,!e.t0){e.next=12;break}return e.next=12,this._blockFiller(n);case 12:return e.next=14,this.viewToDom(c,n,i);case 14:a++;case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(4),o.e(e.t1);case 22:return e.prev=22,o.f(),e.finish(22);case 25:if(e.t2=r===a,!e.t2){e.next=29;break}return e.next=29,this._blockFiller(n);case 29:case"end":return e.stop()}}),e,this,[[4,19,22,25]])}))},{key:"viewRangeToDom",value:function(e){var t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),i=document.createRange();return i.setStart(t.parent,t.offset),i.setEnd(n.parent,n.offset),i}},{key:"viewPositionToDom",value:function(e){var t,n,i,r=e.parent;if(r.is("text")){var a=this.findCorrespondingDomText(r);if(!a)return null;var o=e.offset;return ia(a)&&(o+=7),{parent:a,offset:o}}if(0===e.offset){if(!(t=this.mapViewToDom(r)))return null;i=t.childNodes[0]}else{var s=e.nodeBefore;if(!(n=s.is("text")?this.findCorrespondingDomText(s):this.mapViewToDom(e.nodeBefore)))return null;t=n.parentNode,i=n.nextSibling}return Xr(i)&&ia(i)?{parent:i,offset:7}:{parent:t,offset:n?ka(n)+1:0}}},{key:"domToView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(e,this.blockFillerMode))return null;var n,i=this.getParentUIElement(e,this._domToViewMapping);if(i)return i;if(Xr(e)){if(ra(e))return null;var r=this._processDataFromDomText(e);return""===r?null:new $n(this.document,r)}if(this.isComment(e))return null;if(this.mapDomToView(e))return this.mapDomToView(e);if(this.isDocumentFragment(e))n=new Hr(this.document),t.bind&&this.bindDocumentFragments(e,n);else{var a=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();n=new Ki(this.document,a),t.bind&&this.bindElements(e,n);for(var o=e.attributes,s=o.length-1;s>=0;s--)n._setAttribute(o[s].name,o[s].value)}if(t.withChildren||void 0===t.withChildren){var c,l=d(this.domChildrenToView(e,t));try{for(l.s();!(c=l.n()).done;){var u=c.value;n._appendChild(u)}}catch(h){l.e(h)}finally{l.f()}}return n}},{key:"domChildrenToView",value:h.mark((function e(t){var n,i,r,a,o=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:{},i=0;case 2:if(!(i<t.childNodes.length)){e.next=11;break}if(r=t.childNodes[i],a=this.domToView(r,n),e.t0=null!==a,!e.t0){e.next=8;break}return e.next=8,a;case 8:i++,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"domSelectionToView",value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer;Xr(t)&&(t=t.parentNode);var n=this.fakeSelectionToView(t);if(n)return n}for(var i=this.isDomSelectionBackward(e),r=[],a=0;a<e.rangeCount;a++){var o=e.getRangeAt(a),s=this.domRangeToView(o);s&&r.push(s)}return new kr(r,{backward:i})}},{key:"domRangeToView",value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new vr(t,n):null}},{key:"domPositionToView",value:function(e,t){if(this.isBlockFiller(e,this.blockFillerMode))return this.domPositionToView(e.parentNode,ka(e));var n=this.mapDomToView(e);if(n&&n.is("uiElement"))return pr._createBefore(n);if(Xr(e)){if(ra(e))return this.domPositionToView(e.parentNode,ka(e));var i=this.findCorrespondingViewText(e),r=t;return i?(ia(e)&&(r=(r-=7)<0?0:r),new pr(i,r)):null}if(0===t){var a=this.mapDomToView(e);if(a)return new pr(a,0)}else{var o=e.childNodes[t-1],s=Xr(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(s&&s.parent)return new pr(s.parent,s.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(ra(e))return null;var t=this.getParentUIElement(e);if(t)return t;var n=e.previousSibling;if(n){if(!this.isElement(n))return null;var i=this.mapDomToView(n);if(i)return i.nextSibling instanceof $n?i.nextSibling:null}else{var r=this.mapDomToView(e.parentNode);if(r){var a=r.getChild(0);return a instanceof $n?a:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){var n=ba.window,i=n.scrollX,r=n.scrollY,a=[];ja(t,(function(e){var t=e.scrollLeft,n=e.scrollTop;a.push([t,n])})),t.focus(),ja(t,(function(e){var t=a.shift(),n=u(t,2),i=n[0],r=n[1];e.scrollLeft=i,e.scrollTop=r})),ba.window.scrollTo(i,r)}}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(e){return"br"==this.blockFillerMode?e.isEqualNode(wa):!("BR"!==e.tagName||!Ca(e,this.blockElements)||1!==e.parentNode.childNodes.length)||function(e,t){return Xr(e)&&"\xa0"==e.data&&Ca(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);var n=t.collapsed;return t.detach(),n}},{key:"getParentUIElement",value:function(e){var t=ya(e);for(t.pop();t.length;){var n=t.pop(),i=this._domToViewMapping.get(n);if(i&&i.is("uiElement"))return i}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"_isDomSelectionPositionCorrect",value:function(e,t){if(Xr(e)&&ia(e)&&t<7)return!1;if(this.isElement(e)&&ia(e.childNodes[t]))return!1;var n=this.mapDomToView(e);return!n||!n.is("uiElement")}},{key:"_processDataFromViewText",value:function(e){var t=this,n=e.data;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return n;if(" "==n.charAt(0)){var i=this._getTouchingViewTextNode(e,!1);(!i||!this._nodeEndsWithSpace(i))&&i||(n="\xa0"+n.substr(1))}if(" "==n.charAt(n.length-1)){var r=this._getTouchingViewTextNode(e,!0);" "!=n.charAt(n.length-2)&&r&&" "!=r.data.charAt(0)||(n=n.substr(0,n.length-1)+"\xa0")}return n.replace(/ {2}/g," \xa0")}},{key:"_nodeEndsWithSpace",value:function(e){var t=this;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return!1;var n=this._processDataFromViewText(e);return" "==n.charAt(n.length-1)}},{key:"_processDataFromDomText",value:function(e){var t=e.data;if(xa(e,this.preElements))return aa(e);t=t.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(e,!1),i=this._getTouchingInlineDomNode(e,!0),r=this._checkShouldLeftTrimDomText(n),a=this._checkShouldRightTrimDomText(e,i);return r&&(t=t.replace(/^ /,"")),a&&(t=t.replace(/ $/,"")),t=(t=aa(new Text(t))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(t)||!i||i.data&&" "==i.data.charAt(0))&&(t=t.replace(/\u00A0$/," ")),r&&(t=t.replace(/^\u00A0/," ")),t}},{key:"_checkShouldLeftTrimDomText",value:function(e){return!e||!!yn(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}},{key:"_checkShouldRightTrimDomText",value:function(e,t){return!t&&!ia(e)}},{key:"_getTouchingViewTextNode",value:function(e,t){var n,i=new mr({startPosition:t?pr._createAfter(e):pr._createBefore(e),direction:t?"forward":"backward"}),r=d(i);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.item.is("containerElement"))return null;if(a.item.is("br"))return null;if(a.item.is("textProxy"))return a.item}}catch(o){r.e(o)}finally{r.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(e,t){if(!e.parentNode)return null;var n=t?"nextNode":"previousNode",i=e.ownerDocument,r=ya(e)[0],a=i.createTreeWalker(r,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return Xr(e)||"BR"==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});a.currentNode=e;var o=a[n]();if(null!==o){var s=function(e,t){for(var n=ya(e),i=ya(t),r=0;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}(e,o);if(s&&!xa(e,this.blockElements,s)&&!xa(o,this.blockElements,s))return o}return null}}]),e}();function xa(e,t,n){var i=ya(e);return n&&(i=i.slice(i.indexOf(n)+1)),i.some((function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())}))}function ja(e,t){for(;e&&e!=ba.document;)t(e),e=e.parentNode}function Ca(e,t){var n=e.parentNode;return n&&n.tagName&&t.includes(n.tagName.toLowerCase())}function Oa(e){var t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}var Na=er({},Ln,{listenTo:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(fa(e)||Oa(e)){var a=this._getProxyEmitter(e)||new Aa(e);a.attach.apply(a,i),e=a}(t=Ln.listenTo).call.apply(t,[this,e].concat(i))},stopListening:function(e,t,n){if(fa(e)||Oa(e)){var i=this._getProxyEmitter(e);if(!i)return;e=i}Ln.stopListening.call(this,e,t,n),e instanceof Aa&&e.detach(t)},_getProxyEmitter:function(e){return t=this,n=Ta(e),t[Sn]&&t[Sn][n]?t[Sn][n].emitter:null;var t,n}}),Aa=function e(t){f(this,e),En(this,Ta(t)),this._domNode=t};function Ta(e){return e["data-ck-expando"]||(e["data-ck-expando"]=Nn())}er(Aa.prototype,Ln,{attach:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._domListeners||!this._domListeners[e]){var i=this._createDomListener(e,!!n.useCapture);this._domNode.addEventListener(e,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}},detach:function(e){var t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener:function(e,t){var n=this,i=function(t){n.fire(e,t)};return i.removeListener=function(){n._domNode.removeEventListener(e,i,t),delete n._domListeners[e]},i}});var Sa=function(){function e(t){f(this,e),this.view=t,this.document=t.document,this.isEnabled=!1}return m(e,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}}]),e}();Bn(Sa,Na);var Ma=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},La=function(e){return this.__data__.has(e)};function Ea(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ve;++t<n;)this.add(e[t])}Ea.prototype.add=Ea.prototype.push=Ma,Ea.prototype.has=La;var Pa=Ea,Ia=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},Va=function(e,t){return e.has(t)},Ra=function(e,t,n,i,r,a){var o=1&n,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var u=-1,d=!0,h=2&n?new Pa:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var f=e[u],m=t[u];if(i)var p=o?i(m,f,u,t,e,a):i(f,m,u,e,t,a);if(void 0!==p){if(p)continue;d=!1;break}if(h){if(!Ia(t,(function(e,t){if(!Va(h,t)&&(f===e||r(f,e,n,i,a)))return h.push(t)}))){d=!1;break}}else if(f!==m&&!r(f,m,n,i,a)){d=!1;break}}return a.delete(e),a.delete(t),d},Da=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},za=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ba=w?w.prototype:void 0,Fa=Ba?Ba.valueOf:void 0,Ha=function(e,t,n,i,r,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new $t(e),new $t(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return F(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Da;case"[object Set]":var c=1&i;if(s||(s=za),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;i|=2,o.set(e,t);var u=Ra(s(e),s(t),i,r,a,o);return o.delete(e),u;case"[object Symbol]":if(Fa)return Fa.call(e)==Fa.call(t)}return!1},Ua=Object.prototype.hasOwnProperty,qa=function(e,t,n,i,r,a){var o=1&n,s=Vt(e),c=s.length;if(c!=Vt(t).length&&!o)return!1;for(var l=c;l--;){var u=s[l];if(!(o?u in t:Ua.call(t,u)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var h=!0;a.set(e,t),a.set(t,e);for(var f=o;++l<c;){var m=e[u=s[l]],p=t[u];if(i)var v=o?i(p,m,u,t,e,a):i(m,p,u,e,t,a);if(!(void 0===v?m===p||r(m,p,n,i,a):v)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h},Wa=Object.prototype.hasOwnProperty,Za=function(e,t,n,i,r,a){var o=Je(e),s=Je(t),c=o?"[object Array]":Yt(e),l=s?"[object Array]":Yt(t),u="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h=c==l;if(h&&Object(Xe.a)(e)){if(!Object(Xe.a)(t))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new ze),o||ct(e)?Ra(e,t,n,i,r,a):Ha(e,t,c,n,i,r,a);if(!(1&n)){var f=u&&Wa.call(e,"__wrapped__"),m=d&&Wa.call(t,"__wrapped__");if(f||m){var p=f?e.value():e,v=m?t.value():t;return a||(a=new ze),r(p,v,n,i,a)}}return!!h&&(a||(a=new ze),qa(e,t,n,i,r,a))},Ga=function e(t,n,i,r,a){return t===n||(null==t||null==n||!E(t)&&!E(n)?t!=t&&n!=n:Za(t,n,i,r,e,a))},Ya=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?Ga(e,t,void 0,n):!!i},Qa=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},i.domConverter=e.domConverter,i.renderer=e._renderer,i._domElements=[],i._mutationObserver=new window.MutationObserver(i._onMutations.bind(o(i))),i}return m(n,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:"enable",value:function(){r(a(n.prototype),"enable",this).call(this);var e,t=d(this._domElements);try{for(t.s();!(e=t.n()).done;){var i=e.value;this._mutationObserver.observe(i,this._config)}}catch(o){t.e(o)}finally{t.f()}}},{key:"disable",value:function(){r(a(n.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){r(a(n.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(e){if(0!==e.length){var t,n=this.domConverter,i=new Map,r=new Set,a=d(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if("childList"===o.type){var s=n.mapDomToView(o.target);if(s&&s.is("uiElement"))continue;s&&!this._isBogusBrMutation(o)&&r.add(s)}}}catch(T){a.e(T)}finally{a.f()}var c,l=d(e);try{for(l.s();!(c=l.n()).done;){var u=c.value,h=n.mapDomToView(u.target);if((!h||!h.is("uiElement"))&&"characterData"===u.type){var f=n.findCorrespondingViewText(u.target);f&&!r.has(f.parent)?i.set(f,{type:"text",oldText:f.data,newText:aa(u.target),node:f}):!f&&ia(u.target)&&r.add(n.mapDomToView(u.target.parentNode))}}}catch(T){l.e(T)}finally{l.f()}var m,p=[],v=d(i.values());try{for(v.s();!(m=v.n()).done;){var g=m.value;this.renderer.markToSync("text",g.node),p.push(g)}}catch(T){v.e(T)}finally{v.f()}var b,k=d(r);try{for(k.s();!(b=k.n()).done;){var y=b.value,w=n.mapViewToDom(y),_=Array.from(y.getChildren()),x=Array.from(n.domChildrenToView(w,{withChildren:!1}));Ya(_,x,A)||(this.renderer.markToSync("children",y),p.push({type:"children",oldChildren:_,newChildren:x,node:y}))}}catch(T){k.e(T)}finally{k.f()}var j=e[0].target.ownerDocument.getSelection(),C=null;if(j&&j.anchorNode){var O=n.domPositionToView(j.anchorNode,j.anchorOffset),N=n.domPositionToView(j.focusNode,j.focusOffset);O&&N&&(C=new kr(O)).setFocus(N)}p.length&&(this.document.fire("mutations",p,C),this.view.forceRender())}function A(e,t){if(!Array.isArray(e))return e===t||!(!e.is("text")||!t.is("text"))&&e.data===t.data}}},{key:"_isBogusBrMutation",value:function(e){var t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}]),n}(Sa),Ka=function(){function e(t,n,i){f(this,e),this.view=t,this.document=t.document,this.domEvent=n,this.domTarget=n.target,er(this,i)}return m(e,[{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}},{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}}]),e}(),$a=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).useCapture=!1,i}return m(n,[{key:"observe",value:function(e){var t=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((function(n){t.listenTo(e,n,(function(e,n){t.isEnabled&&t.onDomEvent(n)}),{useCapture:t.useCapture})}))}},{key:"fire",value:function(e,t,n){this.isEnabled&&this.document.fire(e,new Ka(this.view,t,n))}}]),n}(Sa),Ja=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType=["keydown","keyup"],i}return m(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return Lr(this)}})}}]),n}($a),Xa=function(){return y.a.Date.now()},eo=/^\s+|\s+$/g,to=/^[-+]0x[0-9a-f]+$/i,no=/^0b[01]+$/i,io=/^0o[0-7]+$/i,ro=parseInt,ao=function(e){if("number"==typeof e)return e;if(ni(e))return NaN;if(te(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=te(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(eo,"");var n=no.test(e);return n||io.test(e)?ro(e.slice(2),n?2:8):to.test(e)?NaN:+e},oo=Math.max,so=Math.min,co=function(e,t,n){var i,r,a,o,s,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=i,a=r;return i=r=void 0,l=t,o=e.apply(a,n)}function m(e){return l=e,s=setTimeout(v,t),u?f(e):o}function p(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=a}function v(){var e=Xa();if(p(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-c);return d?so(n,a-(e-l)):n}(e))}function g(e){return s=void 0,h&&i?f(e):(i=r=void 0,o)}function b(){var e=Xa(),n=p(e);if(i=arguments,r=this,c=e,n){if(void 0===s)return m(c);if(d)return clearTimeout(s),s=setTimeout(v,t),f(c)}return void 0===s&&(s=setTimeout(v,t)),o}return t=ao(t)||0,te(n)&&(u=!!n.leading,a=(d="maxWait"in n)?oo(ao(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==s&&clearTimeout(s),l=0,i=c=r=s=void 0},b.flush=function(){return void 0===s?o:g(Xa())},b},lo=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._fireSelectionChangeDoneDebounced=co((function(e){return i.document.fire("selectionChangeDone",e)}),200),i}return m(n,[{key:"observe",value:function(){var e=this,t=this.document;t.on("keydown",(function(n,i){var r;t.selection.isFake&&((r=i.keyCode)==Mr.arrowright||r==Mr.arrowleft||r==Mr.arrowup||r==Mr.arrowdown)&&e.isEnabled&&(i.preventDefault(),e._handleSelectionMove(i.keyCode))}),{priority:"lowest"})}},{key:"destroy",value:function(){r(a(n.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(e){var t=this.document.selection,n=new kr(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Mr.arrowleft&&e!=Mr.arrowup||n.setTo(n.getFirstPosition()),e!=Mr.arrowright&&e!=Mr.arrowdown||n.setTo(n.getLastPosition());var i={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}]),n}(Sa),uo=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).mutationObserver=e.getObserver(Qa),i.selection=i.document.selection,i.domConverter=e.domConverter,i._documents=new WeakSet,i._fireSelectionChangeDoneDebounced=co((function(e){return i.document.fire("selectionChangeDone",e)}),200),i._clearInfiniteLoopInterval=setInterval((function(){return i._clearInfiniteLoop()}),1e3),i._loopbackCounter=0,i}return m(n,[{key:"observe",value:function(e){var t=this,n=e.ownerDocument;this._documents.has(n)||(this.listenTo(n,"selectionchange",(function(){t._handleSelectionChange(n)})),this._documents.add(n))}},{key:"destroy",value:function(){r(a(n.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(e){if(this.isEnabled){this.mutationObserver.flush();var t=e.defaultView.getSelection(),n=this.domConverter.domSelectionToView(t);if(0!=n.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(t)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{var i={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}else this.view.hasDomSelection=!1}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),n}(Sa),ho=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n),(i=t.call(this,e)).domEventType=["focus","blur"],i.useCapture=!0;var r=i.document;return r.on("focus",(function(){r.isFocused=!0,i._renderTimeoutId=setTimeout((function(){return e.forceRender()}),50)})),r.on("blur",(function(t,n){var i=r.selection.editableElement;null!==i&&i!==n.target||(r.isFocused=!1,e.forceRender())})),i}return m(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),r(a(n.prototype),"destroy",this).call(this)}}]),n}($a),fo=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n),(i=t.call(this,e)).domEventType=["compositionstart","compositionupdate","compositionend"];var r=i.document;return r.on("compositionstart",(function(){r.isComposing=!0})),r.on("compositionend",(function(){r.isComposing=!1})),i}return m(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}($a),mo=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType=["beforeinput"],i}return m(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}($a);function po(e){return"[object Range]"==Object.prototype.toString.apply(e)}function vo(e){var t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}var go=["top","right","bottom","left","width","height"],bo=function(){function e(t){f(this,e);var n=po(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),yn(t)||n)ko(this,n?e.getDomRangeRects(t)[0]:t.getBoundingClientRect());else if(Oa(t)){var i=t.innerWidth,r=t.innerHeight;ko(this,{top:0,right:i,bottom:r,left:0,width:i,height:r})}else ko(this,t)}return m(e,[{key:"clone",value:function(){return new e(this)}},{key:"moveTo",value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:"moveBy",value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:"getIntersection",value:function(t){var n={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new e(n)}},{key:"getIntersectionArea",value:function(e){var t=this.getIntersection(e);return t?t.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var t=this._source,n=this.clone();if(!yo(t))for(var i=t.parentNode||t.commonAncestorContainer;i&&!yo(i);){var r=new e(i),a=n.getIntersection(r);if(!a)return null;a.getArea()<n.getArea()&&(n=a),i=i.parentNode}return n}},{key:"isEqual",value:function(e){var t,n=d(go);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(this[i]!==e[i])return!1}}catch(r){n.e(r)}finally{n.f()}return!0}},{key:"contains",value:function(e){var t=this.getIntersection(e);return!(!t||!t.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e,t,n,i=this._source;if(Oa(i))e=i.innerWidth-i.document.documentElement.clientWidth,t=i.innerHeight-i.document.documentElement.clientHeight,n=i.getComputedStyle(i.document.documentElement).direction;else{var r=vo(this._source);e=i.offsetWidth-i.clientWidth-r.left-r.right,t=i.offsetHeight-i.clientHeight-r.top-r.bottom,n=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===n?this.right-=e:this.left+=e,this.height-=t,this.bottom-=t,this}}],[{key:"getDomRangeRects",value:function(t){var n=[],i=Array.from(t.getClientRects());if(i.length){var r,a=d(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.push(new e(o))}}catch(l){a.e(l)}finally{a.f()}}else{var s=t.startContainer;Xr(s)&&(s=s.parentNode);var c=new e(s.getBoundingClientRect());c.right=c.left,c.width=0,n.push(c)}return n}}]),e}();function ko(e,t){var n,i=d(go);try{for(i.s();!(n=i.n()).done;){var r=n.value;e[r]=t[r]}}catch(a){i.e(a)}finally{i.f()}}function yo(e){return!!yn(e)&&e===e.ownerDocument.body}function wo(e){for(var t=e.target,n=e.viewportOffset,i=void 0===n?0:n,r=Ao(t),a=r,o=null;a;){xo(To(a==r?t:o),(function(){return So(t,a)}));var s=So(t,a);if(_o(a,s,i),a.parent!=a){if(o=a.frameElement,a=a.parent,!o)return}else a=null}}function _o(e,t,n){var i=t.clone().moveBy(0,n),r=t.clone().moveBy(0,-n),a=new bo(e).excludeScrollbarsAndBorders();if(![r,i].every((function(e){return a.contains(e)}))){var o=e.scrollX,s=e.scrollY;Co(r,a)?s-=a.top-t.top+n:jo(i,a)&&(s+=t.bottom-a.bottom+n),Oo(t,a)?o-=a.left-t.left+n:No(t,a)&&(o+=t.right-a.right+n),e.scrollTo(o,s)}}function xo(e,t){for(var n,i,r=Ao(e);e!=r.document.body;)i=t(),(n=new bo(e).excludeScrollbarsAndBorders()).contains(i)||(Co(i,n)?e.scrollTop-=n.top-i.top:jo(i,n)&&(e.scrollTop+=i.bottom-n.bottom),Oo(i,n)?e.scrollLeft-=n.left-i.left:No(i,n)&&(e.scrollLeft+=i.right-n.right)),e=e.parentNode}function jo(e,t){return e.bottom>t.bottom}function Co(e,t){return e.top<t.top}function Oo(e,t){return e.left<t.left}function No(e,t){return e.right>t.right}function Ao(e){return po(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function To(e){if(po(e)){var t=e.commonAncestorContainer;return Xr(t)&&(t=t.parentNode),t}return e.parentNode}function So(e,t){var n=Ao(e),i=new bo(e);if(n===t)return i;for(var r=n;r!=t;){var a=r.frameElement,o=new bo(a).excludeScrollbarsAndBorders();i.moveBy(o.left,o.top),r=r.parent}return i}Object.assign({},{scrollViewportToShowTarget:wo,scrollAncestorsToShowTarget:function(e){xo(To(e),(function(){return new bo(e)}))}});var Mo=function(){function e(t){var n=this;f(this,e),this.document=new wr(t),this.domConverter=new _a(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ma(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Ur(this.document),this.addObserver(Qa),this.addObserver(uo),this.addObserver(ho),this.addObserver(Ja),this.addObserver(lo),this.addObserver(fo),Ar.isAndroid&&this.addObserver(mo),this.document.on("keydown",oa),Br(this),this.on("render",(function(){n._render(),n.document.fire("layoutChanged"),n._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(function(){n._hasChangedSinceTheLastRendering=!0}))}return m(e,[{key:"attachDomRoot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",i=this.document.getRoot(n);i._name=e.tagName.toLowerCase();for(var r={},a=0,o=Array.from(e.attributes);a<o.length;a++){var s=o[a],c=s.name,l=s.value;r[c]=l,"class"===c?this._writer.addClass(l.split(" "),i):this._writer.setAttribute(c,l,i)}this._initialDomRootAttributes.set(e,r);var u=function(){t._writer.setAttribute("contenteditable",!i.isReadOnly,i),i.isReadOnly?t._writer.addClass("ck-read-only",i):t._writer.removeClass("ck-read-only",i)};u(),this.domRoots.set(n,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(function(e,n){return t._renderer.markToSync("children",n)})),i.on("change:attributes",(function(e,n){return t._renderer.markToSync("attributes",n)})),i.on("change:text",(function(e,n){return t._renderer.markToSync("text",n)})),i.on("change:isReadOnly",(function(){return t.change(u)})),i.on("change",(function(){t._hasChangedSinceTheLastRendering=!0}));var h,f=d(this._observers.values());try{for(f.s();!(h=f.n()).done;)h.value.observe(e,n)}catch(m){f.e(m)}finally{f.f()}}},{key:"detachDomRoot",value:function(e){var t=this.domRoots.get(e);Array.from(t.attributes).forEach((function(e){var n=e.name;return t.removeAttribute(n)}));var n=this._initialDomRootAttributes.get(t);for(var i in n)t.setAttribute(i,n[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);var n,i=d(this.domRoots);try{for(i.s();!(n=i.n()).done;){var r=u(n.value,2),a=r[0],o=r[1];t.observe(o,a)}}catch(s){i.e(s)}finally{i.f()}return t.enable(),t}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e,t=d(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.disable()}catch(n){t.e(n)}finally{t.f()}}},{key:"enableObservers",value:function(){var e,t=d(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.enable()}catch(n){t.e(n)}finally{t.f()}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&wo({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Tn.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){Tn.b.rethrowUnexpectedError(e,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change((function(){}))}},{key:"destroy",value:function(){var e,t=d(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(n){t.e(n)}finally{t.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,t){return pr._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return pr._createAfter(e)}},{key:"createPositionBefore",value:function(e){return pr._createBefore(e)}},{key:"createRange",value:function(e,t){return new vr(e,t)}},{key:"createRangeOn",value:function(e){return vr._createOn(e)}},{key:"createRangeIn",value:function(e){return vr._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new kr(e,t,n)}},{key:"_disableRendering",value:function(e){this._renderingDisabled=e,0==e&&this.change((function(){}))}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),e}();Bn(Mo,ar);var Lo=function(){function e(t){f(this,e),this.parent=null,this._attrs=Xn(t)}return m(e,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),i=e.getAncestors(t),r=0;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),i=Yn(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((function(e,t){return e[t[0]]=t[1],e}),{})),e}},{key:"is",value:function(e){return"node"===e||"model:node"===e}},{key:"_clone",value:function(){return new e(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,t){this._attrs.set(e,t)}},{key:"_setAttributesTo",value:function(e){this._attrs=Xn(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}},{key:"index",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new Tn.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new Tn.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),e}(),Eo=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,i))._data=e||"",r}return m(n,[{key:"is",value:function(e){return"text"===e||"model:text"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"_clone",value:function(){return new n(this.data,this.getAttributes())}},{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}}],[{key:"fromJSON",value:function(e){return new n(e.data,e.attributes)}}]),n}(Lo),Po=function(){function e(t,n,i){if(f(this,e),this.textNode=t,n<0||n>t.offsetSize)throw new Tn.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(i<0||n+i>t.offsetSize)throw new Tn.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(n,n+i),this.offsetInText=n}return m(e,[{key:"is",value:function(e){return"textProxy"===e||"model:textProxy"===e}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}},{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}}]),e}(),Io=function(){function e(t){f(this,e),this._nodes=[],t&&this._insertNodes(0,t)}return m(e,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var t=this._nodes.indexOf(e);return-1==t?null:t}},{key:"getNodeStartOffset",value:function(e){var t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((function(e,t){return e+t.offsetSize}),0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var t=this._nodes[e];if(!t)throw new Tn.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(e){var t,n=0,i=d(this._nodes);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(e>=n&&e<n+r.offsetSize)return this.getNodeIndex(r);n+=r.offsetSize}}catch(a){i.e(a)}finally{i.f()}if(n!=e)throw new Tn.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,t){var n,i,r=d(t);try{for(r.s();!(i=r.n()).done;)if(!(i.value instanceof Lo))throw new Tn.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this)}catch(a){r.e(a)}finally{r.f()}(n=this._nodes).splice.apply(n,[e,0].concat(l(t)))}},{key:"_removeNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:"toJSON",value:function(){return this._nodes.map((function(e){return e.toJSON()}))}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce((function(e,t){return e+t.offsetSize}),0)}}]),e}(),Vo=function(e){p(n,e);var t=v(n);function n(e,i,r){var a;return f(this,n),(a=t.call(this,i)).name=e,a._children=new Io,r&&a._insertChild(0,r),a}return m(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||e===this.name||e==="model:"+this.name||"node"===e||"model:node"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"getNodeByPath",value:function(e){var t,n=this,i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n=n.getChild(n.offsetToIndex(r))}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);if(e.name=this.name,this._children.length>0){e.children=[];var t,i=d(this._children);try{for(i.s();!(t=i.n()).done;){var o=t.value;e.children.push(o.toJSON())}}catch(s){i.e(s)}finally{i.f()}}return e}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Array.from(this._children).map((function(e){return e._clone(!0)})):null;return new n(this.name,this.getAttributes(),e)}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,i=function(e){return"string"==typeof e?[new Eo(e)]:(zn(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Eo(e):e instanceof Po?new Eo(e.data,e.getAttributes()):e})))}(t),r=d(i);try{for(r.s();!(n=r.n()).done;){var a=n.value;null!==a.parent&&a._remove(),a.parent=this}}catch(o){r.e(o)}finally{r.f()}this._children._insertNodes(e,i)}},{key:"_removeChildren",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this._children._removeNodes(e,n),r=d(i);try{for(r.s();!(t=r.n()).done;)t.value.parent=null}catch(a){r.e(a)}finally{r.f()}return i}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}}],[{key:"fromJSON",value:function(e){var t=null;if(e.children){t=[];var i,r=d(e.children);try{for(r.s();!(i=r.n()).done;){var a=i.value;a.name?t.push(n.fromJSON(a)):t.push(Eo.fromJSON(a))}}catch(o){r.e(o)}finally{r.f()}}return new n(e.name,e.attributes,t)}}]),n}(Lo),Ro=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,e),!t.boundaries&&!t.startPosition)throw new Tn.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);var n=t.direction||"forward";if("forward"!=n&&"backward"!=n)throw new Tn.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t,{direction:n});this.direction=n,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=zo._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return m(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,i,r;do{var a;i=this.position,r=this._visitedParent,t=(a=this.next()).done,n=a.value}while(!t&&e(n));t||(this.position=i,this._visitedParent=r)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var i=t.parent,r=Bo(t,i),a=r||Fo(t,i,r);if(a instanceof Vo)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=a),this.position=t,Do("elementStart",a,e,t,1);if(a instanceof Eo){var o;if(this.singleCharacters)o=1;else{var s=a.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<s&&(s=this.boundaries.end.offset),o=s-t.offset}var c=t.offset-a.startOffset,l=new Po(a,c,o);return t.offset+=o,this.position=t,Do("text",l,e,t,o)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Do("elementEnd",n,e,t)}},{key:"_previous",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var i=t.parent,r=Bo(t,i),a=r||Ho(t,i,r);if(a instanceof Vo)return t.offset--,this.shallow?(this.position=t,Do("elementStart",a,e,t,1)):(t.path.push(a.maxOffset),this.position=t,this._visitedParent=a,this.ignoreElementEnd?this._previous():Do("elementEnd",a,e,t));if(a instanceof Eo){var o;if(this.singleCharacters)o=1;else{var s=a.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>s&&(s=this.boundaries.start.offset),o=t.offset-s}var c=t.offset-a.startOffset,l=new Po(a,c-o,o);return t.offset-=o,this.position=t,Do("text",l,e,t,o)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,Do("elementStart",n,e,t,1)}}]),e}();function Do(e,t,n,i,r){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:r}}}var zo=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(f(this,e),!t.is("element")&&!t.is("documentFragment"))throw new Tn.b("model-position-root-invalid: Position root invalid.",t);if(!(n instanceof Array)||0===n.length)throw new Tn.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",t,{path:n});t.is("rootElement")?n=n.slice():(n=[].concat(l(t.getPath()),l(n)),t=t.root),this.root=t,this.path=n,this.stickiness=i}return m(e,[{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var t=Yn(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new Ro(t);return n.skip(e),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var t=Yn(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),i=0;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}},{key:"getShiftedBy",value:function(e){var t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isEqual",value:function(e){return"same"==this.compareWith(e)}},{key:"isTouching",value:function(t){var n=null,i=null;switch(this.compareWith(t)){case"same":return!0;case"before":n=e._createAt(this),i=e._createAt(t);break;case"after":n=e._createAt(t),i=e._createAt(this);break;default:return!1}for(var r=n.parent;n.path.length+i.path.length;){if(n.isEqual(i))return!0;if(n.path.length>i.path.length){if(n.offset!==r.maxOffset)return!1;n.path=n.path.slice(0,-1),r=r.parent,n.offset++}else{if(0!==i.offset)return!1;i.path=i.path.slice(0,-1)}}}},{key:"is",value:function(e){return"position"===e||"model:position"===e}},{key:"hasSameParentAs",value:function(e){return this.root===e.root&&"same"==Yn(this.getParentPath(),e.getParentPath())}},{key:"getTransformedByOperation",value:function(t){var n;switch(t.type){case"insert":n=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(t);break;case"split":n=this._getTransformedBySplitOperation(t);break;case"merge":n=this._getTransformedByMergeOperation(t);break;default:n=e._createAt(this)}return n}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(t){var n,i=t.movedRange;return i.containsPosition(this)||i.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?e._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}},{key:"_getTransformedByDeletion",value:function(t,n){var i=e._createAt(this);if(this.root!=t.root)return i;if("same"==Yn(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+n>this.offset)return null;i.offset-=n}}else if("prefix"==Yn(t.getParentPath(),this.getParentPath())){var r=t.path.length-1;if(t.offset<=this.path[r]){if(t.offset+n>this.path[r])return null;i.path[r]-=n}}return i}},{key:"_getTransformedByInsertion",value:function(t,n){var i=e._createAt(this);if(this.root!=t.root)return i;if("same"==Yn(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(i.offset+=n);else if("prefix"==Yn(t.getParentPath(),this.getParentPath())){var r=t.path.length-1;t.offset<=this.path[r]&&(i.path[r]+=n)}return i}},{key:"_getTransformedByMove",value:function(t,n,i){if(n=n._getTransformedByDeletion(t,i),t.isEqual(n))return e._createAt(this);var r=this._getTransformedByDeletion(t,i);return null===r||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(i).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,n):r._getTransformedByInsertion(n,i)}},{key:"_getCombined",value:function(t,n){var i=t.path.length-1,r=e._createAt(n);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[i]-t.offset,r.path=[].concat(l(r.path),l(this.path.slice(i+1))),r}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}},{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)if(!(e=e.getChild(e.offsetToIndex(this.path[t]))))throw new Tn.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(e.is("text"))throw new Tn.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return Bo(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return Fo(this,e,Bo(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return Ho(this,e,Bo(this,e))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}],[{key:"_createAt",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(t instanceof e)return new e(t.root,t.path,t.stickiness);var r=t;if("end"==n)n=r.maxOffset;else{if("before"==n)return this._createBefore(r,i);if("after"==n)return this._createAfter(r,i);if(0!==n&&!n)throw new Tn.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,t])}if(!r.is("element")&&!r.is("documentFragment"))throw new Tn.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,t]);var a=r.getPath();return a.push(n),new this(r.root,a,i)}},{key:"_createAfter",value:function(e,t){if(!e.parent)throw new Tn.b("model-position-after-root: You cannot make a position after root.",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}},{key:"_createBefore",value:function(e,t){if(!e.parent)throw new Tn.b("model-position-before-root: You cannot make a position before root.",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}},{key:"fromJSON",value:function(t,n){if("$graveyard"===t.root){var i=new e(n.graveyard,t.path);return i.stickiness=t.stickiness,i}if(!n.getRoot(t.root))throw new Tn.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",n,{rootName:t.root});return new e(n.getRoot(t.root),t.path,t.stickiness)}}]),e}();function Bo(e,t){var n=t.getChild(t.offsetToIndex(e.offset));return n&&n.is("text")&&n.startOffset<e.offset?n:null}function Fo(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function Ho(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}var Uo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f(this,e),this.start=zo._createAt(t),this.end=n?zo._createAt(n):zo._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return m(e,[{key:Symbol.iterator,value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Ro({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}},{key:"containsItem",value:function(e){var t=zo._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}},{key:"is",value:function(e){return"range"===e||"model:range"===e}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(new e(this.start,this.end)),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,i=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(i=t.end),new e(n,i)}return null}},{key:"getMinimalFlatRanges",value:function(){for(var t=[],n=this.start.getCommonPath(this.end).length,i=zo._createAt(this.start),r=i.parent;i.path.length>n+1;){var a=r.maxOffset-i.offset;0!==a&&t.push(new e(i,i.getShiftedBy(a))),i.path=i.path.slice(0,-1),i.offset++,r=r.parent}for(;i.path.length<=this.end.path.length;){var o=this.end.path[i.path.length-1],s=o-i.offset;0!==s&&t.push(new e(i,i.getShiftedBy(s))),i.offset=o,i.path.push(0)}return t}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Ro(e)}},{key:"getItems",value:h.mark((function e(){var t,n,i,r,a,o=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=o.length>0&&void 0!==o[0]?o[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new Ro(t),i=d(n),e.prev=4,i.s();case 6:if((r=i.n()).done){e.next=12;break}return a=r.value,e.next=10,a.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))},{key:"getPositions",value:h.mark((function e(){var t,n,i,r,a,o=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=o.length>0&&void 0!==o[0]?o[0]:{}).boundaries=this,n=new Ro(t),e.next=5,n.position;case 5:i=d(n),e.prev=6,i.s();case 8:if((r=i.n()).done){e.next=14;break}return a=r.value,e.next=12,a.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[6,16,19,22]])}))},{key:"getTransformedByOperation",value:function(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new e(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(t){var n,i=[new e(this.start,this.end)],r=d(t);try{for(r.s();!(n=r.n()).done;)for(var a=n.value,o=0;o<i.length;o++){var s=i[o].getTransformedByOperation(a);i.splice.apply(i,[o,1].concat(l(s))),o+=s.length-1}}catch(m){r.e(m)}finally{r.f()}for(var c=0;c<i.length;c++)for(var u=i[c],h=c+1;h<i.length;h++){var f=i[h];(u.containsRange(f)||f.containsRange(u)||u.isEqual(f))&&i.splice(h,1)}return i}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(e.position,e.howMany,t)}},{key:"_getTransformedByMoveOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.sourcePosition,i=e.howMany,r=e.targetPosition;return this._getTransformedByMove(n,r,i,t)}},{key:"_getTransformedBySplitOperation",value:function(t){var n=this.start._getTransformedBySplitOperation(t),i=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(i=this.end.getShiftedBy(1)),n.root!=i.root&&(i=this.end.getShiftedBy(-1)),new e(n,i)}},{key:"_getTransformedByMergeOperation",value:function(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new e(this.start);var n=this.start._getTransformedByMergeOperation(t),i=this.end._getTransformedByMergeOperation(t);return n.root!=i.root&&(i=this.end.getShiftedBy(-1)),n.isAfter(i)?(t.sourcePosition.isBefore(t.targetPosition)?(n=zo._createAt(i)).offset=0:(t.deletionPosition.isEqual(n)||(i=t.deletionPosition),n=t.targetPosition),new e(n,i)):new e(n,i)}},{key:"_getTransformedByInsertion",value:function(t,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.containsPosition(t))return[new e(this.start,t),new e(t.getShiftedBy(n),this.end._getTransformedByInsertion(t,n))];var i=new e(this.start,this.end);return i.start=i.start._getTransformedByInsertion(t,n),i.end=i.end._getTransformedByInsertion(t,n),[i]}},{key:"_getTransformedByMove",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed)return[new e(this.start._getTransformedByMove(t,n,i))];var a,o=e._createFromPositionAndShift(t,i),s=n._getTransformedByDeletion(t,i);if(this.containsPosition(n)&&!r&&(o.containsPosition(this.start)||o.containsPosition(this.end)))return[new e(this.start._getTransformedByMove(t,n,i),this.end._getTransformedByMove(t,n,i))];var c=this.getDifference(o),l=null,u=this.getIntersection(o);if(1==c.length?l=new e(c[0].start._getTransformedByDeletion(t,i),c[0].end._getTransformedByDeletion(t,i)):2==c.length&&(l=new e(this.start,this.end._getTransformedByDeletion(t,i))),a=l?l._getTransformedByInsertion(s,i,null!==u||r):[],u){var d=new e(u.start._getCombined(o.start,s),u.end._getCombined(o.start,s));2==a.length?a.splice(1,0,d):a.push(d)}return a}},{key:"_getTransformedByDeletion",value:function(t,n){var i=this.start._getTransformedByDeletion(t,n),r=this.end._getTransformedByDeletion(t,n);return null==i&&null==r?null:(null==i&&(i=t),null==r&&(r=t),new e(i,r))}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==Yn(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromPositionAndShift",value:function(e,t){var n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}},{key:"_createIn",value:function(e){return new this(zo._createAt(e,0),zo._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(zo._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(0===e.length)throw new Tn.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==e.length)return e[0].clone();var t=e[0];e.sort((function(e,t){return e.start.isAfter(t.start)?1:-1}));var n=e.indexOf(t),i=new this(t.start,t.end);if(n>0)for(var r=n-1;e[r].end.isEqual(i.start);r++)i.start=zo._createAt(e[r].start);for(var a=n+1;a<e.length&&e[a].start.isEqual(i.end);a++)i.end=zo._createAt(e[a].end);return i}},{key:"fromJSON",value:function(e,t){return new this(zo.fromJSON(e.start,t),zo.fromJSON(e.end,t))}}]),e}(),qo=function(){function e(){var t=this;f(this,e),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(function(e,n){if(!n.viewPosition){var i=t._modelToViewMapping.get(n.modelPosition.parent);n.viewPosition=t._findPositionIn(i,n.modelPosition.offset)}}),{priority:"low"}),this.on("viewToModelPosition",(function(e,n){if(!n.modelPosition){var i=t.findMappedViewAncestor(n.viewPosition),r=t._viewToModelMapping.get(i),a=t._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,i);n.modelPosition=zo._createAt(r,a)}}),{priority:"low"})}return m(e,[{key:"bindElements",value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:"unbindViewElement",value:function(e){var t=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e)){var n,i=d(this._elementToMarkerNames.get(e));try{for(i.s();!(n=i.n()).done;){var r=n.value;this._unboundMarkerNames.add(r)}}catch(a){i.e(a)}finally{i.f()}}this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}},{key:"unbindModelElement",value:function(e){var t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}},{key:"bindElementToMarker",value:function(e,t){var n=this._markerNameToElements.get(t)||new Set;n.add(e);var i=this._elementToMarkerNames.get(e)||new Set;i.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,i)}},{key:"unbindElementFromMarkerName",value:function(e,t){var n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));var i=this._elementToMarkerNames.get(e);i&&(i.delete(t),0==i.size&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new Uo(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new vr(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}},{key:"toViewPosition",value:function(e){var t={modelPosition:e,mapper:this,isPhantom:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1}).isPhantom};return this.fire("modelToViewPosition",t),t.viewPosition}},{key:"markerNameToElements",value:function(e){var t=this._markerNameToElements.get(e);if(!t)return null;var n,i=new Set,r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.is("attributeElement")){var o,s=d(a.getElementsWithSameId());try{for(s.s();!(o=s.n()).done;){var c=o.value;i.add(c)}}catch(l){s.e(l)}finally{s.f()}}else i.add(a)}}catch(l){r.e(l)}finally{r.f()}return i}},{key:"registerViewToModelLength",value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:"findMappedViewAncestor",value:function(e){for(var t=e.parent;!this._viewToModelMapping.has(t);)t=t.parent;return t}},{key:"_toModelOffset",value:function(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("text"))return t;for(var i=0,r=0;r<t;r++)i+=this.getModelLength(e.getChild(r));return i}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("text"))return e.data.length;if(e.is("uiElement"))return 0;var t,n=0,i=d(e.getChildren());try{for(i.s();!(t=i.n()).done;){var r=t.value;n+=this.getModelLength(r)}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"_findPositionIn",value:function(e,t){var n,i=0,r=0,a=0;if(e.is("text"))return new pr(e,t);for(;r<t;)n=e.getChild(a),r+=i=this.getModelLength(n),a++;return r==t?this._moveViewPositionToTextNode(new pr(e,a)):this._findPositionIn(n,t-(r-i))}},{key:"_moveViewPositionToTextNode",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;return t instanceof $n?new pr(t,t.data.length):n instanceof $n?new pr(n,0):e}}]),e}();Bn(qo,Ln);var Wo=function(){function e(){f(this,e),this._consumable=new Map,this._textProxyRegistry=new Map}return m(e,[{key:"add",value:function(e,t){t=Zo(t),e instanceof Po&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:"consume",value:function(e,t){return t=Zo(t),e instanceof Po&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:"test",value:function(e,t){t=Zo(t),e instanceof Po&&(e=this._getSymbolForTextProxy(e));var n=this._consumable.get(e);if(void 0===n)return null;var i=n.get(t);return void 0===i?null:i}},{key:"revert",value:function(e,t){t=Zo(t),e instanceof Po&&(e=this._getSymbolForTextProxy(e));var n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(e){var t=null,n=this._textProxyRegistry.get(e.startOffset);if(n){var i=n.get(e.endOffset);i&&(t=i.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}},{key:"_addSymbolForTextProxy",value:function(e,t,n){var i,r,a=Symbol("textProxySymbol");return(i=this._textProxyRegistry.get(e))||(i=new Map,this._textProxyRegistry.set(e,i)),(r=i.get(t))||(r=new Map,i.set(t,r)),r.set(n,a),a}}]),e}();function Zo(e){var t=e.split(":");return t.length>1?t[0]+":"+t[1]:t[0]}var Go=function(){function e(t){f(this,e),this.conversionApi=er({dispatcher:this},t)}return m(e,[{key:"convertChanges",value:function(e,t,n){var i,r=d(e.getMarkersToRemove());try{for(r.s();!(i=r.n()).done;){var a=i.value;this.convertMarkerRemove(a.name,a.range,n)}}catch(g){r.e(g)}finally{r.f()}var o,s=d(e.getChanges());try{for(s.s();!(o=s.n()).done;){var c=o.value;"insert"==c.type?this.convertInsert(Uo._createFromPositionAndShift(c.position,c.length),n):"remove"==c.type?this.convertRemove(c.position,c.length,c.name,n):this.convertAttribute(c.range,c.attributeKey,c.attributeOldValue,c.attributeNewValue,n)}}catch(g){s.e(g)}finally{s.f()}var l,u=d(this.conversionApi.mapper.flushUnboundMarkerNames());try{for(u.s();!(l=u.n()).done;){var h=l.value,f=t.get(h).getRange();this.convertMarkerRemove(h,f,n),this.convertMarkerAdd(h,f,n)}}catch(g){u.e(g)}finally{u.f()}var m,p=d(e.getMarkersToAdd());try{for(p.s();!(m=p.n()).done;){var v=m.value;this.convertMarkerAdd(v.name,v.range,n)}}catch(g){p.e(g)}finally{p.f()}}},{key:"convertInsert",value:function(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.item,o={item:a,range:Uo._createFromPositionAndShift(r.previousPosition,r.length)};this._testAndFire("insert",o);var s,c=d(a.getAttributeKeys());try{for(c.s();!(s=c.n()).done;){var l=s.value;o.attributeKey=l,o.attributeOldValue=null,o.attributeNewValue=a.getAttribute(l),this._testAndFire("attribute:"+l,o)}}catch(u){c.e(u)}finally{c.f()}}}catch(u){i.e(u)}finally{i.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(e,t,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:e,length:t},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(e,t,n,i,r){this.conversionApi.writer=r,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:"+t);var a,o=d(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,c={item:s.item,range:Uo._createFromPositionAndShift(s.previousPosition,s.length),attributeKey:t,attributeOldValue:n,attributeNewValue:i};this._testAndFire("attribute:"+t,c)}}catch(l){o.e(l)}finally{o.f()}this._clearConversionApi()}},{key:"convertSelection",value:function(e,t,n){var i=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(e,i),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){var r,a=d(i);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.getRange();if(Yo(e.getFirstPosition(),o,this.conversionApi.mapper)){var c={item:e,markerName:o.name,markerRange:s};this.conversionApi.consumable.test(e,"addMarker:"+o.name)&&this.fire("addMarker:"+o.name,c,this.conversionApi)}}}catch(m){a.e(m)}finally{a.f()}var l,u=d(e.getAttributeKeys());try{for(u.s();!(l=u.n()).done;){var h=l.value,f={item:e,range:e.getFirstRange(),attributeKey:h,attributeOldValue:null,attributeNewValue:e.getAttribute(h)};this.conversionApi.consumable.test(e,"attribute:"+f.attributeKey)&&this.fire("attribute:"+f.attributeKey+":$text",f,this.conversionApi)}}catch(m){u.e(m)}finally{u.f()}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(e,t,n){if(t.root.document&&"$graveyard"!=t.root.rootName){this.conversionApi.writer=n;var i="addMarker:"+e,r=new Wo;if(r.add(t,i),this.conversionApi.consumable=r,this.fire(i,{markerName:e,markerRange:t},this.conversionApi),r.test(t,i)){this.conversionApi.consumable=this._createConsumableForRange(t,i);var a,o=d(t.getItems());try{for(o.s();!(a=o.n()).done;){var s=a.value;if(this.conversionApi.consumable.test(s,i)){var c={item:s,range:Uo._createOn(s),markerName:e,markerRange:t};this.fire(i,c,this.conversionApi)}}}catch(l){o.e(l)}finally{o.f()}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(e,t,n){t.root.document&&"$graveyard"!=t.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}},{key:"_createInsertConsumable",value:function(e){var t,n=new Wo,i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value.item;n.add(r,"insert");var a,o=d(r.getAttributeKeys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.add(r,"attribute:"+s)}}catch(c){o.e(c)}finally{o.f()}}}catch(c){i.e(c)}finally{i.f()}return n}},{key:"_createConsumableForRange",value:function(e,t){var n,i=new Wo,r=d(e.getItems());try{for(r.s();!(n=r.n()).done;){var a=n.value;i.add(a,t)}}catch(o){r.e(o)}finally{r.f()}return i}},{key:"_createSelectionConsumable",value:function(e,t){var n=new Wo;n.add(e,"selection");var i,r=d(t);try{for(r.s();!(i=r.n()).done;){var a=i.value;n.add(e,"addMarker:"+a.name)}}catch(l){r.e(l)}finally{r.f()}var o,s=d(e.getAttributeKeys());try{for(s.s();!(o=s.n()).done;){var c=o.value;n.add(e,"attribute:"+c)}}catch(l){s.e(l)}finally{s.f()}return n}},{key:"_testAndFire",value:function(e,t){if(this.conversionApi.consumable.test(t.item,e)){var n=t.item.name||"$text";this.fire(e+":"+n,t,this.conversionApi)}}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}]),e}();function Yo(e,t,n){var i=t.getRange(),r=Array.from(e.getAncestors());return r.shift(),r.reverse(),!r.some((function(e){if(i.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")}))}Bn(Go,Ln);var Qo=function(){function e(t,n,i){f(this,e),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,n,i)}return m(e,[{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=d(this._ranges);try{for(n.s();!(t=n.n()).done;){var i,r=t.value,a=!1,o=d(e._ranges);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(r.isEqual(s)){a=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(!a)return!1}}catch(c){n.e(c)}finally{n.f()}return!0}},{key:"getRanges",value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,new Uo(i.start,i.end);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var i=e.value;t&&!i.start.isBefore(t.start)||(t=i)}}catch(r){n.e(r)}finally{n.f()}return t?new Uo(t.start,t.end):null}},{key:"getLastRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var i=e.value;t&&!i.end.isAfter(t.end)||(t=i)}}catch(r){n.e(r)}finally{n.f()}return t?new Uo(t.start,t.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(t,n,i){if(null===t)this._setRanges([]);else if(t instanceof e)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Uo)this._setRanges([t],!!n&&!!n.backward);else if(t instanceof zo)this._setRanges([new Uo(t)]);else if(t instanceof Lo){var r,a=!!i&&!!i.backward;if("in"==n)r=Uo._createIn(t);else if("on"==n)r=Uo._createOn(t);else{if(void 0===n)throw new Tn.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,t]);r=new Uo(zo._createAt(t,n))}this._setRanges([r],a)}else{if(!zn(t))throw new Tn.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,t]);this._setRanges(t,n&&!!n.backward)}}},{key:"_setRanges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(e=Array.from(e)).some((function(n){if(!(n instanceof Uo))throw new Tn.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[t,e]);return t._ranges.every((function(e){return!e.isEqual(n)}))}));if(e.length!==this._ranges.length||i){this._removeAllRanges();var r,a=d(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;this._pushRange(o)}}catch(s){a.e(s)}finally{a.f()}this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new Tn.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,e]);var n=zo._createAt(e,t);if("same"!=n.compareWith(this.focus)){var i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new Uo(n,i)),this._lastRangeBackward=!0):(this._pushRange(new Uo(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return"selection"===e||"model:selection"===e}},{key:"getSelectedBlocks",value:h.mark((function e(){var t,n,i,r,a,o,s,c,l,u;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WeakSet,n=d(this.getRanges()),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=38;break}if(r=i.value,a=Jo(r.start,t),e.t0=a&&Xo(a,r),!e.t0){e.next=11;break}return e.next=11,a;case 11:o=d(r.getWalker()),e.prev=12,o.s();case 14:if((s=o.n()).done){e.next=23;break}if(c=s.value,l=c.item,e.t1="elementEnd"==c.type&&$o(l,t,r),!e.t1){e.next=21;break}return e.next=21,l;case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t2=e.catch(12),o.e(e.t2);case 28:return e.prev=28,o.f(),e.finish(28);case 31:if(u=Jo(r.end,t),e.t3=u&&!r.end.isTouching(zo._createAt(u,0))&&Xo(u,r),!e.t3){e.next=36;break}return e.next=36,u;case 36:e.next=4;break;case 38:e.next=43;break;case 40:e.prev=40,e.t4=e.catch(2),n.e(e.t4);case 43:return e.prev=43,n.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,this,[[2,40,43,46],[12,25,28,31]])}))},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=zo._createAt(e,0),n=zo._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new Uo(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new Tn.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}},{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}}]),e}();function Ko(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&e.parent)}function $o(e,t,n){return Ko(e,t)&&Xo(e,n)}function Jo(e,t){var n=e.parent.root.document.model.schema,i=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),r=!1,a=i.find((function(e){return!r&&!(r=n.isLimit(e))&&Ko(e,t)}));return i.forEach((function(e){return t.add(e)})),a}function Xo(e,t){var n=function(e){for(var t=e.root.document.model.schema,n=e.parent;n;){if(t.isBlock(n))return n;n=n.parent}}(e);return!n||!t.containsRange(Uo._createOn(n),!0)}Bn(Qo,Ln);var es=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),r=t.call(this,e,i),ts.call(o(r)),r}return m(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e}},{key:"toRange",value:function(){return new Uo(this.start,this.end)}}],[{key:"fromRange",value:function(e){return new n(e.start,e.end)}}]),n}(Uo);function ts(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var i=n[0];i.isDocumentOperation&&ns.call(e,i)}),{priority:"low"})}function ns(e){var t=this.getTransformedByOperation(e),n=Uo._createFromRanges(t),i=!n.isEqual(this),r=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e),a=null;if(i){"$graveyard"==n.root.rootName&&(a="remove"==e.type?e.sourcePosition:e.deletionPosition);var o=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",o,{deletionPosition:a})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:a})}Bn(es,Ln);var is=function(){function e(t){f(this,e),this._selection=new rs(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return m(e,[{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"is",value:function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setAttribute",value:function(e,t){this._selection.setAttribute(e,t)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}}],[{key:"_getStoreAttributeKey",value:function(e){return"selection:"+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith("selection:")}}]),e}();Bn(is,Ln);var rs=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this)).markers=new Fn({idProperty:"name"}),i._model=e.model,i._document=e,i._attributePriority=new Map,i._fixGraveyardRangesData=[],i._hasChangedRange=!1,i._overriddenGravityRegister=new Set,i.listenTo(i._model,"applyOperation",(function(e,t){var n=t[0];if(n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type){for(;i._fixGraveyardRangesData.length;){var r=i._fixGraveyardRangesData.shift(),a=r.liveRange,o=r.sourcePosition;i._fixGraveyardSelection(a,o)}i._hasChangedRange&&(i._hasChangedRange=!1,i.fire("change:range",{directChange:!1}))}}),{priority:"lowest"}),i.on("change:range",(function(){var e,t=d(i.getRanges());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!i._document._validateSelectionRange(n))throw new Tn.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",o(i),{range:n})}}catch(r){t.e(r)}finally{t.f()}})),i.listenTo(i._model.markers,"update",(function(){return i._updateMarkers()})),i.listenTo(i._document,"change",(function(e,t){!function(e,t){var n,i=e.document.differ,r=d(i.getChanges());try{var a=function(){var i=n.value;if("insert"!=i.type)return"continue";var r=i.position.parent;i.length===r.maxOffset&&e.enqueueChange(t,(function(e){var t,n=Array.from(r.getAttributeKeys()).filter((function(e){return e.startsWith("selection:")})),i=d(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;e.removeAttribute(a,r)}}catch(o){i.e(o)}finally{i.f()}}))};for(r.s();!(n=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}}(i._model,t)})),i}return m(n,[{key:"destroy",value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:"getRanges",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ranges.length){e.next=4;break}return e.delegateYield(r(a(n.prototype),"getRanges",this).call(this),"t0",2);case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return r(a(n.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return r(a(n.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(e,t,i){r(a(n.prototype),"setTo",this).call(this,e,t,i),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(e,t){r(a(n.prototype),"setFocus",this).call(this,e,t),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(e,t){if(this._setAttribute(e,t)){var n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}},{key:"removeAttribute",value:function(e){if(this._removeAttribute(e)){var t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}},{key:"overrideGravity",value:function(){var e=Nn();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}},{key:"restoreGravity",value:function(e){if(!this._overriddenGravityRegister.has(e))throw new Tn.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(e){var t=this._prepareRange(e);t&&this._ranges.push(t)}},{key:"_prepareRange",value:function(e){var t=this;if(this._checkRange(e),e.root!=this._document.graveyard){var n=es.fromRange(e);return n.on("change:range",(function(e,i,r){t._hasChangedRange=!0,n.root==t._document.graveyard&&t._fixGraveyardRangesData.push({liveRange:n,sourcePosition:r.deletionPosition})})),n}}},{key:"_updateMarkers",value:function(){var e,t=[],n=!1,i=d(this._model.markers);try{for(i.s();!(e=i.n()).done;){var r,a=e.value,o=a.getRange(),s=d(this.getRanges());try{for(s.s();!(r=s.n()).done;){var c=r.value;o.containsRange(c,!c.isCollapsed)&&t.push(a)}}catch(g){s.e(g)}finally{s.f()}}}catch(g){i.e(g)}finally{i.f()}for(var l=Array.from(this.markers),u=0,h=t;u<h.length;u++){var f=h[u];this.markers.has(f)||(this.markers.add(f),n=!0)}for(var m=0,p=Array.from(this.markers);m<p.length;m++){var v=p[m];t.includes(v)||(this.markers.remove(v),n=!0)}n&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}},{key:"_updateAttributes",value:function(e){var t=Xn(this._getSurroundingAttributes()),n=Xn(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var i,r=d(this._attributePriority);try{for(r.s();!(i=r.n()).done;){var a=u(i.value,2),o=a[0];"low"==a[1]&&(this._attrs.delete(o),this._attributePriority.delete(o))}}catch(b){r.e(b)}finally{r.f()}}this._setAttributesTo(t);var s,c=[],l=d(this.getAttributes());try{for(l.s();!(s=l.n()).done;){var h=u(s.value,2),f=h[0],m=h[1];n.has(f)&&n.get(f)===m||c.push(f)}}catch(b){l.e(b)}finally{l.f()}var p,v=d(n);try{for(v.s();!(p=v.n()).done;){var g=u(p.value,1)[0];this.hasAttribute(g)||c.push(g)}}catch(b){v.e(b)}finally{v.f()}c.length>0&&this.fire("change:attribute",{attributeKeys:c,directChange:!1})}},{key:"_setAttribute",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?"low":"normal";return("low"!=i||"normal"!=this._attributePriority.get(e))&&r(a(n.prototype),"getAttribute",this).call(this,e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,i),!0)}},{key:"_removeAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?"low":"normal";return("low"!=t||"normal"!=this._attributePriority.get(e))&&(this._attributePriority.set(e,t),!!r(a(n.prototype),"hasAttribute",this).call(this,e)&&(this._attrs.delete(e),!0))}},{key:"_setAttributesTo",value:function(e){var t,n=new Set,i=d(this.getAttributes());try{for(i.s();!(t=i.n()).done;){var r=u(t.value,2),a=r[0],o=r[1];e.get(a)!==o&&this._removeAttribute(a,!1)}}catch(m){i.e(m)}finally{i.f()}var s,c=d(e);try{for(c.s();!(s=c.n()).done;){var l=u(s.value,2),h=l[0],f=l[1];this._setAttribute(h,f,!1)&&n.add(h)}}catch(m){c.e(m)}finally{c.f()}return n}},{key:"_getStoredAttributes",value:h.mark((function e(){var t,n,i,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!this.isCollapsed||!t.isEmpty){e.next=21;break}n=d(t.getAttributeKeys()),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=13;break}if(!(r=i.value).startsWith("selection:")){e.next=11;break}return a=r.substr("selection:".length),e.next=11,[a,t.getAttribute(r)];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,15,18,21]])}))},{key:"_getSurroundingAttributes",value:function(){var e=this.getFirstPosition(),t=this._model.schema,n=null;if(this.isCollapsed){var i=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=as(i)),n||(n=as(r)),!this.isGravityOverridden&&!n)for(var a=i;a&&!n;)n=as(a=a.previousSibling);if(!n)for(var o=r;o&&!n;)n=as(o=o.nextSibling);n||(n=this._getStoredAttributes())}else{var s,c=this.getFirstRange(),l=d(c);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(u.item.is("element")&&t.isObject(u.item))break;if("text"==u.type){n=u.item.getAttributes();break}}}catch(h){l.e(h)}finally{l.f()}}return n}},{key:"_fixGraveyardSelection",value:function(e,t){var n,i=t.clone(),r=this._model.schema.getNearestSelectionRange(i),a=this._ranges.indexOf(e);if(this._ranges.splice(a,1),e.detach(),r&&(n=r,this._ranges.every((function(e){return!n.isEqual(e)})))){var o=this._prepareRange(r);this._ranges.splice(a,0,o)}}},{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:r(a(n.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return r(a(n.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return r(a(n.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}}]),n}(Qo);function as(e){return e instanceof Po||e instanceof Eo?e.getAttributes():null}var os=function(){function e(t){f(this,e),this._dispatchers=t}return m(e,[{key:"add",value:function(e){var t,n=d(this._dispatchers);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(i){n.e(i)}finally{n.f()}return this}}]),e}(),ss=function(e){return bn(e,5)},cs=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"elementToElement",value:function(e){return this.add(function(e){return(e=ss(e)).view=us(e.view,"container"),function(t){var n;t.on("insert:"+e.model,(n=e.view,function(e,t,i){var r=n(t.item,i.writer);if(r&&i.consumable.consume(t.item,"insert")){var a=i.mapper.toViewPosition(t.range.start);i.mapper.bindElements(t.item,r),i.writer.insert(a,r)}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"attributeToElement",value:function(e){return this.add(function(e){var t="attribute:"+((e=ss(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values){var n,i=d(e.model.values);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.view[r]=us(e.view[r],"attribute")}}catch(o){i.e(o)}finally{i.f()}}else e.view=us(e.view,"attribute");var a=ds(e);return function(n){n.on(t,function(e){return function(t,n,i){var r=e(n.attributeOldValue,i.writer),a=e(n.attributeNewValue,i.writer);if((r||a)&&i.consumable.consume(n.item,t.name)){var o=i.writer,s=o.document.selection;if(n.item instanceof Qo||n.item instanceof is)o.wrap(s.getFirstRange(),a);else{var c=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&r&&(c=o.unwrap(c,r)),null!==n.attributeNewValue&&a&&o.wrap(c,a)}}}}(a),{priority:e.converterPriority||"normal"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t="attribute:"+((e=ss(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values){var n,i=d(e.model.values);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.view[r]=hs(e.view[r])}}catch(o){i.e(o)}finally{i.f()}}else e.view=hs(e.view);var a=ds(e);return function(n){var i;n.on(t,(i=a,function(e,t,n){var r=i(t.attributeOldValue,t),a=i(t.attributeNewValue,t);if((r||a)&&n.consumable.consume(t.item,e.name)){var s=n.mapper.toViewElement(t.item),c=n.writer;if(!s)throw new Tn.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[t,n]);if(null!==t.attributeOldValue&&r)if("class"==r.key){var l,u=Array.isArray(r.value)?r.value:[r.value],h=d(u);try{for(h.s();!(l=h.n()).done;){var f=l.value;c.removeClass(f,s)}}catch(o){h.e(o)}finally{h.f()}}else if("style"==r.key)for(var m=0,p=Object.keys(r.value);m<p.length;m++){var v=p[m];c.removeStyle(v,s)}else c.removeAttribute(r.key,s);if(null!==t.attributeNewValue&&a)if("class"==a.key){var g,b=Array.isArray(a.value)?a.value:[a.value],k=d(b);try{for(k.s();!(g=k.n()).done;){var y=g.value;c.addClass(y,s)}}catch(o){k.e(o)}finally{k.f()}}else if("style"==a.key)for(var w=0,_=Object.keys(a.value);w<_.length;w++){var x=_[w];c.setStyle(x,a.value[x],s)}else c.setAttribute(a.key,a.value,s)}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToElement",value:function(e){return this.add(function(e){return(e=ss(e)).view=us(e.view,"ui"),function(t){var n;t.on("addMarker:"+e.model,(n=e.view,function(e,t,i){t.isOpening=!0;var r=n(t,i.writer);t.isOpening=!1;var a=n(t,i.writer);if(r&&a){var o=t.markerRange;if(!o.isCollapsed||i.consumable.consume(o,e.name)){var s,c=d(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(!i.consumable.consume(l.item,e.name))return}}catch(f){c.e(f)}finally{c.f()}var u=i.mapper,h=i.writer;h.insert(u.toViewPosition(o.start),r),i.mapper.bindElementToMarker(r,t.markerName),o.isCollapsed||(h.insert(u.toViewPosition(o.end),a),i.mapper.bindElementToMarker(a,t.markerName)),e.stop()}}}),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,(e.view,function(e,t,n){var i=n.mapper.markerNameToElements(t.markerName);if(i){var r,a=d(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.mapper.unbindElementFromMarkerName(o,t.markerName),n.writer.clear(n.writer.createRangeOn(o),o)}}catch(s){a.e(s)}finally{a.f()}n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToHighlight",value:function(e){return this.add(function(e){return function(t){var n;t.on("addMarker:"+e.model,(n=e.view,function(e,t,i){if(t.item&&(t.item instanceof Qo||t.item instanceof is||t.item.is("textProxy"))){var r=fs(n,t,i);if(r&&i.consumable.consume(t.item,e.name)){var a=i.writer,o=ls(a,r),s=a.document.selection;if(t.item instanceof Qo||t.item instanceof is)a.wrap(s.getFirstRange(),o,s);else{var c,l=i.mapper.toViewRange(t.range),u=a.wrap(l,o),h=d(u.getItems());try{for(h.s();!(c=h.n()).done;){var f=c.value;if(f.is("attributeElement")&&f.isSimilar(o)){i.mapper.bindElementToMarker(f,t.markerName);break}}}catch(m){h.e(m)}finally{h.f()}}}}}),{priority:e.converterPriority||"normal"}),t.on("addMarker:"+e.model,function(e){return function(t,n,i){if(n.item&&n.item instanceof Vo){var r=fs(e,n,i);if(r&&i.consumable.test(n.item,t.name)){var a=i.mapper.toViewElement(n.item);if(a&&a.getCustomProperty("addHighlight")){i.consumable.consume(n.item,t.name);var o,s=d(Uo._createIn(n.item));try{for(s.s();!(o=s.n()).done;){var c=o.value;i.consumable.consume(c.item,t.name)}}catch(l){s.e(l)}finally{s.f()}a.getCustomProperty("addHighlight")(a,r,i.writer),i.mapper.bindElementToMarker(a,n.markerName)}}}}}(e.view),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,function(e){return function(t,n,i){if(!n.markerRange.isCollapsed){var r=fs(e,n,i);if(r){var a=ls(i.writer,r),o=i.mapper.markerNameToElements(n.markerName);if(o){var s,c=d(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;i.mapper.unbindElementFromMarkerName(l,n.markerName),l.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(l),a):l.getCustomProperty("removeHighlight")(l,r.id,i.writer)}}catch(u){c.e(u)}finally{c.f()}i.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}}]),n}(os);function ls(e,t){var n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),t.priority&&(n._priority=t.priority),n._id=t.id,n}function us(e,t){return"function"==typeof e?e:function(n,i){return function(e,t,n){var i;"string"==typeof e&&(e={name:e});var r=Object.assign({},e.attributes);if("container"==n)i=t.createContainerElement(e.name,r);else if("attribute"==n){var a={priority:e.priority||_r.DEFAULT_PRIORITY};i=t.createAttributeElement(e.name,r,a)}else i=t.createUIElement(e.name,r);if(e.styles)for(var o=0,s=Object.keys(e.styles);o<s.length;o++){var c=s[o];t.setStyle(c,e.styles[c],i)}if(e.classes){var l=e.classes;if("string"==typeof l)t.addClass(l,i);else{var u,h=d(l);try{for(h.s();!(u=h.n()).done;){var f=u.value;t.addClass(f,i)}}catch(m){h.e(m)}finally{h.f()}}}return i}(e,i,t)}}function ds(e){return e.model.values?function(t,n){var i=e.view[t];return i?i(t,n):null}:e.view}function hs(e){return"string"==typeof e?function(t){return{key:e,value:t}}:"object"==typeof e?e.value?function(){return e}:function(t){return{key:e.key,value:t}}:e}function fs(e,t,n){var i="function"==typeof e?e(t,n):e;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}var ms=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"elementToElement",value:function(e){return this.add(ps(e))}},{key:"elementToAttribute",value:function(e){return this.add(function(e){gs(e=ss(e));var t=bs(e,!1),n=vs(e.view),i=n?"element:"+n:"element";return function(n){n.on(i,t,{priority:e.converterPriority||"low"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t=null;("string"==typeof(e=ss(e)).view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});var t,n=e.view.key;if("class"==n||"style"==n)t=i({},"class"==n?"classes":"styles",e.view.value);else{var r=void 0===e.view.value?/[\s\S]*/:e.view.value;t={attributes:i({},n,r)}}return e.view.name&&(t.name=e.view.name),e.view=t,n}(e)),gs(e,t);var n=bs(e,!0);return function(t){t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}},{key:"elementToMarker",value:function(e){return this.add(function(e){return function(e){var t=e.model;e.model=function(e,n){var i="string"==typeof t?t:t(e);return n.createElement("$marker",{"data-name":i})}}(e=ss(e)),ps(e)}(e))}}]),n}(os);function ps(e){var t=function(e){var t=e.view?new ei(e.view):null;return function(n,i,r){var a={};if(t){var o=t.match(i.viewItem);if(!o)return;a=o.match}a.name=!0;var s,c,l,u=(s=e.model,c=i.viewItem,l=r.writer,s instanceof Function?s(c,l):l.createElement(s));if(u&&r.consumable.test(i.viewItem,a)){var d=r.splitToAllowedParent(u,i.modelCursor);if(d){r.writer.insert(u,d.position),r.convertChildren(i.viewItem,r.writer.createPositionAt(u,0)),r.consumable.consume(i.viewItem,a);var h=r.getSplitParts(u);i.modelRange=new Uo(r.writer.createPositionBefore(u),r.writer.createPositionAfter(h[h.length-1])),d.cursorParent?i.modelCursor=r.writer.createPositionAt(d.cursorParent,0):i.modelCursor=i.modelRange.end}}}}(e=ss(e)),n=vs(e.view),i=n?"element:"+n:"element";return function(n){n.on(i,t,{priority:e.converterPriority||"normal"})}}function vs(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function gs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t||function(e){return e.getAttribute(t)},i="object"!=typeof e.model?e.model:e.model.key,r="object"!=typeof e.model||void 0===e.model.value?n:e.model.value;e.model={key:i,value:r}}function bs(e,t){var n=new ei(e.view);return function(i,r,a){var o=n.match(r.viewItem);if(o){var s=e.model.key,c="function"==typeof e.model.value?e.model.value(r.viewItem):e.model.value;null!==c&&(function(e,t){var n="function"==typeof e?e(t):e;return!("object"==typeof n&&!vs(n))&&!n.classes&&!n.attributes&&!n.styles}(e.view,r.viewItem)?o.match.name=!0:delete o.match.name,a.consumable.test(r.viewItem,o.match)&&(r.modelRange||(r=Object.assign(r,a.convertChildren(r.viewItem,r.modelCursor))),function(e,t,n,i){for(var r=!1,a=0,o=Array.from(e.getItems({shallow:n}));a<o.length;a++){var s=o[a];i.schema.checkAttribute(s,t.key)&&(i.writer.setAttribute(t.key,t.value,s),r=!0)}return r}(r.modelRange,{key:s,value:c},t,a)&&a.consumable.consume(r.viewItem,o.match)))}}}var ks=function(){function e(t,n){var i=this;f(this,e),this.model=t,this.view=new Mo(n),this.mapper=new qo,this.downcastDispatcher=new Go({mapper:this.mapper});var r=this.model.document,a=r.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",(function(){i.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(function(){i.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(r,"change",(function(){i.view.change((function(e){i.downcastDispatcher.convertChanges(r.differ,o,e),i.downcastDispatcher.convertSelection(a,o,e)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return function(n,i){var r,a=i.newSelection,o=new Qo,s=[],c=d(a.getRanges());try{for(c.s();!(r=c.n()).done;){var l=r.value;s.push(t.toModelRange(l))}}catch(u){c.e(u)}finally{c.f()}o.setTo(s,{backward:a.isBackward}),o.isEqual(e.document.selection)||e.change((function(e){e.setSelection(o)}))}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,"insert")){var i=n.writer,r=n.mapper.toViewPosition(t.range.start),a=i.createText(t.item.data);i.insert(r,a)}}),{priority:"lowest"}),this.downcastDispatcher.on("remove",(function(e,t,n){var i,r=n.mapper.toViewPosition(t.position),a=t.position.getShiftedBy(t.length),o=n.mapper.toViewPosition(a,{isPhantom:!0}),s=n.writer.createRange(r,o),c=n.writer.remove(s.getTrimmed()),l=d(n.writer.createRangeIn(c).getItems());try{for(l.s();!(i=l.n()).done;){var u=i.value;n.mapper.unbindViewElement(u)}}catch(h){l.e(h)}finally{l.f()}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var i,r=n.writer,a=r.document.selection,o=d(a.getRanges());try{for(o.s();!(i=o.n()).done;){var s=i.value;s.isCollapsed&&s.end.parent.isAttached()&&n.writer.mergeAttributes(s.start)}}catch(c){o.e(c)}finally{o.f()}r.setSelection(null)}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var i=t.selection;if(!i.isCollapsed&&n.consumable.consume(i,"selection")){var r,a=[],o=d(i.getRanges());try{for(o.s();!(r=o.n()).done;){var s=r.value,c=n.mapper.toViewRange(s);a.push(c)}}catch(l){o.e(l)}finally{o.f()}n.writer.setSelection(a,{backward:i.isBackward})}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var i=t.selection;if(i.isCollapsed&&n.consumable.consume(i,"selection")){var r=n.writer,a=i.getFirstPosition(),o=n.mapper.toViewPosition(a),s=r.breakAttributes(o);r.setSelection(s)}}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((function(e){if("$graveyard"==e.rootName)return null;var t=new fr(i.view.document,e.name);return t.rootName=e.rootName,i.mapper.bindElements(e,t),t}))}return m(e,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),e}();Bn(ks,ar);var ys=function(){function e(){f(this,e),this._commands=new Map}return m(e,[{key:"add",value:function(e,t){this._commands.set(e,t)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var t=this.get(e);if(!t)throw new Tn.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:e});for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.execute.apply(t,i)}},{key:"names",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"commands",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e,t=d(this.commands());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(n){t.e(n)}finally{t.f()}}}]),e}(),ws=function(){function e(){f(this,e),this._consumables=new Map}return m(e,[{key:"add",value:function(e,t){var n;e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new _s(e),this._consumables.set(e,n)),n.add(t))}},{key:"test",value:function(e,t){var n=this._consumables.get(e);return void 0===n?null:e.is("text")||e.is("documentFragment")?n:n.test(t)}},{key:"consume",value:function(e,t){return!!this.test(e,t)&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:"revert",value:function(e,t){var n=this._consumables.get(e);void 0!==n&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}}],[{key:"consumablesFromElement",value:function(e){var t,n={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys(),r=d(i);try{for(r.s();!(t=r.n()).done;){var a=t.value;"style"!=a&&"class"!=a&&n.attributes.push(a)}}catch(p){r.e(p)}finally{r.f()}var o,s=e.getClassNames(),c=d(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;n.classes.push(l)}}catch(p){c.e(p)}finally{c.f()}var u,h=e.getStyleNames(),f=d(h);try{for(f.s();!(u=f.n()).done;){var m=u.value;n.styles.push(m)}}catch(p){f.e(p)}finally{f.f()}return n}},{key:"createFrom",value:function(t,n){if(n||(n=new e(t)),t.is("text"))return n.add(t),n;t.is("element")&&n.add(t,e.consumablesFromElement(t)),t.is("documentFragment")&&n.add(t);var i,r=d(t.getChildren());try{for(r.s();!(i=r.n()).done;){var a=i.value;n=e.createFrom(a,n)}}catch(o){r.e(o)}finally{r.f()}return n}}]),e}(),_s=function(){function e(t){f(this,e),this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return m(e,[{key:"add",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var t in this._consumables)if(t in e){var n=this._test(t,e[t]);if(!0!==n)return n}return!0}},{key:"consume",value:function(e){for(var t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}},{key:"revert",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}},{key:"_add",value:function(e,t){var n,i=Je(t)?t:[t],r=this._consumables[e],a=d(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("attributes"===e&&("class"===o||"style"===o))throw new Tn.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(r.set(o,!0),"styles"===e){var s,c=d(this.element.document.stylesProcessor.getRelatedStyles(o));try{for(c.s();!(s=c.n()).done;){var l=s.value;r.set(l,!0)}}catch(u){c.e(u)}finally{c.f()}}}}catch(u){a.e(u)}finally{a.f()}}},{key:"_test",value:function(e,t){var n,i=Je(t)?t:[t],r=this._consumables[e],a=d(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("attributes"!==e||"class"!==o&&"style"!==o){var s=r.get(o);if(void 0===s)return null;if(!s)return!1}else{var c="class"==o?"classes":"styles",u=this._test(c,l(this._consumables[c].keys()));if(!0!==u)return u}}}catch(h){a.e(h)}finally{a.f()}return!0}},{key:"_consume",value:function(e,t){var n,i=Je(t)?t:[t],r=this._consumables[e],a=d(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("attributes"!==e||"class"!==o&&"style"!==o){if(r.set(o,!1),"styles"==e){var s,c=d(this.element.document.stylesProcessor.getRelatedStyles(o));try{for(c.s();!(s=c.n()).done;){var u=s.value;r.set(u,!1)}}catch(f){c.e(f)}finally{c.f()}}}else{var h="class"==o?"classes":"styles";this._consume(h,l(this._consumables[h].keys()))}}}catch(f){a.e(f)}finally{a.f()}}},{key:"_revert",value:function(e,t){var n,i=Je(t)?t:[t],r=this._consumables[e],a=d(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("attributes"!==e||"class"!==o&&"style"!==o)!1===r.get(o)&&r.set(o,!0);else{var s="class"==o?"classes":"styles";this._revert(s,l(this._consumables[s].keys()))}}}catch(c){a.e(c)}finally{a.f()}}}]),e}(),xs=function(){function e(){var t=this;f(this,e),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(function(e,t){t[0]=new js(t[0])}),{priority:"highest"}),this.on("checkChild",(function(e,n){n[0]=new js(n[0]),n[1]=t.getDefinition(n[1])}),{priority:"highest"})}return m(e,[{key:"register",value:function(e,t){if(this._sourceDefinitions[e])throw new Tn.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}},{key:"extend",value:function(e,t){if(!this._sourceDefinitions[e])throw new Tn.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){var t;return t="string"==typeof e?e:e.is&&(e.is("text")||e.is("textProxy"))?"$text":e.name,this.getDefinitions()[t]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isBlock)}},{key:"isLimit",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}},{key:"isObject",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isObject)}},{key:"isInline",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isInline)}},{key:"checkChild",value:function(e,t){return!!t&&this._checkContextMatch(t,e)}},{key:"checkAttribute",value:function(e,t){var n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}},{key:"checkMerge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof zo){var n=e.nodeBefore,i=e.nodeAfter;if(!(n instanceof Vo))throw new Tn.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(i instanceof Vo))throw new Tn.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(n,i)}var r,a=d(t.getChildren());try{for(a.s();!(r=a.n()).done;){var o=r.value;if(!this.checkChild(e,o))return!1}}catch(s){a.e(s)}finally{a.f()}return!0}},{key:"addChildCheck",value:function(e){this.on("checkChild",(function(t,n){var i=u(n,2),r=i[0],a=i[1];if(a){var o=e(r,a);"boolean"==typeof o&&(t.stop(),t.return=o)}}),{priority:"high"})}},{key:"addAttributeCheck",value:function(e){this.on("checkAttribute",(function(t,n){var i=u(n,2),r=i[0],a=i[1],o=e(r,a);"boolean"==typeof o&&(t.stop(),t.return=o)}),{priority:"high"})}},{key:"setAttributeProperties",value:function(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){var t;for(t=e instanceof zo?e.parent:(e instanceof Uo?[e]:Array.from(e.getRanges())).reduce((function(e,t){var n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}},{key:"checkAttributeInSelection",value:function(e,t){if(e.isCollapsed){var n=[].concat(l(e.getFirstPosition().getAncestors()),[new Eo("",e.getAttributes())]);return this.checkAttribute(n,t)}var i,r=e.getRanges(),a=d(r);try{for(a.s();!(i=a.n()).done;){var o,s=i.value,c=d(s);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(this.checkAttribute(u.item,t))return!0}}catch(h){c.e(h)}finally{c.f()}}}catch(h){a.e(h)}finally{a.f()}return!1}},{key:"getValidRanges",value:h.mark((function e(t,n){var i,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=h.mark((function e(t){var n,i,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(t),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=8;break}return r=i.value,e.delegateYield(r.getMinimalFlatRanges(),"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))(t),i=d(t),e.prev=2,i.s();case 4:if((r=i.n()).done){e.next=9;break}return a=r.value,e.delegateYield(this._getValidRangesForRange(a,n),"t0",7);case 7:e.next=4;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),i.e(e.t1);case 14:return e.prev=14,i.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,11,14,17]])}))},{key:"getNearestSelectionRange",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(e,"$text"))return new Uo(e);var a=e.getAncestors().reverse().find((function(e){return i.isLimit(e)}))||e.root;"both"!=r&&"backward"!=r||(t=new Ro({boundaries:Uo._createIn(a),startPosition:e,direction:"backward"})),"both"!=r&&"forward"!=r||(n=new Ro({boundaries:Uo._createIn(a),startPosition:e}));var o,s=d(h.mark((function e(t,n){var i,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1;case 1:if(i){e.next=18;break}if(i=!0,!t){e.next=9;break}if(r=t.next(),e.t0=r.done,e.t0){e.next=9;break}return i=!1,e.next=9,{walker:t,value:r.value};case 9:if(!n){e.next=16;break}if(a=n.next(),e.t1=a.done,e.t1){e.next=16;break}return i=!1,e.next=16,{walker:n,value:a.value};case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e)}))(t,n));try{for(s.s();!(o=s.n()).done;){var c=o.value,l=c.walker==t?"elementEnd":"elementStart",u=c.value;if(u.type==l&&this.isObject(u.item))return Uo._createOn(u.item);if(this.checkChild(u.nextPosition,"$text"))return new Uo(u.nextPosition)}}catch(f){s.e(f)}finally{s.f()}return null}},{key:"findAllowedParent",value:function(e,t){for(var n=e.parent;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.is("text"))Is(this,r,t);else{var a,o=Uo._createIn(r).getPositions(),s=d(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;Is(this,c.nodeBefore||c.parent,t)}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){i.e(l)}finally{i.f()}}},{key:"createContext",value:function(e){return new js(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},t=this._sourceDefinitions,n=Object.keys(t),i=0,r=n;i<r.length;i++){var a=r[i];e[a]=Cs(t[a],a)}for(var o=0,s=n;o<s.length;o++)Os(e,s[o]);for(var c=0,l=n;c<l.length;c++)Ns(e,l[c]);for(var u=0,d=n;u<d.length;u++){var h=d[u];As(e,h),Ts(e,h)}for(var f=0,m=n;f<m.length;f++){var p=m[f];Ss(e,p),Ms(e,p)}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,i=t.getItem(n);if(e.allowIn.includes(i.name)){if(0==n)return!0;var r=this.getDefinition(i);return this._checkContextMatch(r,t,n-1)}return!1}},{key:"_getValidRangesForRange",value:h.mark((function e(t,n){var i,r,a,o,s;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.start,r=t.start,a=d(t.getItems({shallow:!0})),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=19;break}if(s=o.value,e.t0=s.is("element"),!e.t0){e.next=9;break}return e.delegateYield(this._getValidRangesForRange(Uo._createIn(s),n),"t1",9);case 9:if(e.t2=this.checkAttribute(s,n),e.t2){e.next=16;break}if(e.t3=i.isEqual(r),e.t3){e.next=15;break}return e.next=15,new Uo(i,r);case 15:i=zo._createAfter(s);case 16:r=zo._createAfter(s);case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t4=e.catch(2),a.e(e.t4);case 24:return e.prev=24,a.f(),e.finish(24);case 27:if(e.t5=i.isEqual(r),e.t5){e.next=31;break}return e.next=31,new Uo(i,r);case 31:case"end":return e.stop()}}),e,this,[[2,21,24,27]])}))}]),e}();Bn(xs,ar);var js=function(){function e(t){if(f(this,e),t instanceof e)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(Ps)}return m(e,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(t){var n=new e([t]);return n._items=[].concat(l(this._items),l(n._items)),n}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._items.map((function(e){return e.name})),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}},{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}}]),e}();function Cs(e,t){var n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r,a=n.value,o=Object.keys(a).filter((function(e){return e.startsWith("is")})),s=d(o);try{for(s.s();!(r=s.n()).done;){var c=r.value;t[c]=a[c]}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}}(e,n),Ls(e,n,"allowIn"),Ls(e,n,"allowContentOf"),Ls(e,n,"allowWhere"),Ls(e,n,"allowAttributes"),Ls(e,n,"allowAttributesOf"),Ls(e,n,"inheritTypesFrom"),function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value.inheritAllFrom;r&&(t.allowContentOf.push(r),t.allowWhere.push(r),t.allowAttributesOf.push(r),t.inheritTypesFrom.push(r))}}catch(a){i.e(a)}finally{i.f()}}(e,n),n}function Os(e,t){var n,i=d(e[t].allowContentOf);try{for(i.s();!(n=i.n()).done;){var r=n.value;e[r]&&Es(e,r).forEach((function(e){e.allowIn.push(t)}))}}catch(a){i.e(a)}finally{i.f()}delete e[t].allowContentOf}function Ns(e,t){var n,i=d(e[t].allowWhere);try{for(i.s();!(n=i.n()).done;){var r=e[n.value];if(r){var a,o=r.allowIn;(a=e[t].allowIn).push.apply(a,l(o))}}}catch(s){i.e(s)}finally{i.f()}delete e[t].allowWhere}function As(e,t){var n,i=d(e[t].allowAttributesOf);try{for(i.s();!(n=i.n()).done;){var r=e[n.value];if(r){var a,o=r.allowAttributes;(a=e[t].allowAttributes).push.apply(a,l(o))}}}catch(s){i.e(s)}finally{i.f()}delete e[t].allowAttributesOf}function Ts(e,t){var n,i=e[t],r=d(i.inheritTypesFrom);try{for(r.s();!(n=r.n()).done;){var a=e[n.value];if(a){var o,s=Object.keys(a).filter((function(e){return e.startsWith("is")})),c=d(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;l in i||(i[l]=a[l])}}catch(u){c.e(u)}finally{c.f()}}}}catch(u){r.e(u)}finally{r.f()}delete i.inheritTypesFrom}function Ss(e,t){var n=e[t],i=n.allowIn.filter((function(t){return e[t]}));n.allowIn=Array.from(new Set(i))}function Ms(e,t){var n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Ls(e,t,n){var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var a,o=i.value;"string"==typeof o[n]?t[n].push(o[n]):Array.isArray(o[n])&&(a=t[n]).push.apply(a,l(o[n]))}}catch(s){r.e(s)}finally{r.f()}}function Es(e,t){var n,i=e[t];return(n=e,Object.keys(n).map((function(e){return n[e]}))).filter((function(e){return e.allowIn.includes(i.name)}))}function Ps(e){return"string"==typeof e?{name:e,getAttributeKeys:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),getAttribute:function(){}}:{name:e.is("element")?e.name:"$text",getAttributeKeys:h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e.getAttributeKeys(),"t0",1);case 1:case"end":return t.stop()}}),t)})),getAttribute:function(t){return e.getAttribute(t)}}}function Is(e,t,n){var i,r=d(t.getAttributeKeys());try{for(r.s();!(i=r.n()).done;){var a=i.value;e.checkAttribute(t,a)||n.removeAttribute(a,t)}}catch(o){r.e(o)}finally{r.f()}}var Vs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}return m(e,[{key:"convert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(e,t){var n,i,r=d(new js(e));try{for(r.s();!(i=r.n()).done;){var a,o=i.value,s={},c=d(o.getAttributeKeys());try{for(c.s();!(a=c.n()).done;){var l=a.value;s[l]=o.getAttribute(l)}}catch(h){c.e(h)}finally{c.f()}var u=t.createElement(o.name,s);n&&t.append(u,n),n=zo._createAt(u,0)}}catch(h){r.e(h)}finally{r.f()}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=ws.createFrom(e),this.conversionApi.store={};var i=this._convertItem(e,this._modelCursor).modelRange,r=t.createDocumentFragment();if(i){this._removeEmptyElements();for(var a=0,o=Array.from(this._modelCursor.parent.getChildren());a<o.length;a++){var s=o[a];t.append(s,r)}r.markers=function(e,t){var n,i=new Set,r=new Map,a=Uo._createIn(e).getItems(),o=d(a);try{for(o.s();!(n=o.n()).done;){var s=n.value;"$marker"==s.name&&i.add(s)}}catch(m){o.e(m)}finally{o.f()}var c,l=d(i);try{for(l.s();!(c=l.n()).done;){var u=c.value,h=u.getAttribute("data-name"),f=t.createPositionBefore(u);r.has(h)?r.get(h).end=f.clone():r.set(h,new Uo(f.clone())),t.remove(u)}}catch(m){l.e(m)}finally{l.f()}return r}(r,t)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}},{key:"_convertItem",value:function(e,t){var n=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,n,this.conversionApi):e.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Uo))throw new Tn.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}},{key:"_convertChildren",value:function(e,t){for(var n=new Uo(t),i=t,r=0,a=Array.from(e.getChildren());r<a.length;r++){var o=a[r],s=this._convertItem(o,i);s.modelRange instanceof Uo&&(n.end=s.modelRange.end,i=s.modelCursor)}return{modelRange:n,modelCursor:i}}},{key:"_splitToAllowedParent",value:function(e,t){var n=this.conversionApi.schema.findAllowedParent(t,e);if(!n)return null;if(n===t.parent)return{position:t};if(this._modelCursor.parent.getAncestors().includes(n))return null;var i,r=this.conversionApi.writer.split(t,n),a=[],o=d(r.range.getWalker());try{for(o.s();!(i=o.n()).done;){var s=i.value;if("elementEnd"==s.type)a.push(s.item);else{var c=a.pop(),l=s.item;this._registerSplitPair(c,l)}}}catch(u){o.e(u)}finally{o.f()}return{position:r.position,cursorParent:r.range.end.parent}}},{key:"_registerSplitPair",value:function(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);var n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}},{key:"_getSplitParts",value:function(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}},{key:"_removeEmptyElements",value:function(){var e,t=!1,n=d(this._splitParts.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value;i.isEmpty&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),t=!0)}}catch(r){n.e(r)}finally{n.f()}t&&this._removeEmptyElements()}}]),e}();Bn(Vs,Ln);var Rs=function(){function e(t,n){var i=this;f(this,e),this.model=t,this.stylesProcessor=n,this.processor,this.mapper=new qo,this.downcastDispatcher=new Go({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,"insert")){var i=n.writer,r=n.mapper.toViewPosition(t.range.start),a=i.createText(t.item.data);i.insert(r,a)}}),{priority:"lowest"}),this.upcastDispatcher=new Vs({schema:t.schema}),this.viewDocument=new wr(n),this._viewWriter=new Ur(this.viewDocument),this.upcastDispatcher.on("text",(function(e,t,n){if(n.schema.checkChild(t.modelCursor,"$text")&&n.consumable.consume(t.viewItem)){var i=n.writer.createText(t.viewItem.data);n.writer.insert(i,t.modelCursor),t.modelRange=Uo._createFromPositionAndShift(t.modelCursor,i.offsetSize),t.modelCursor=t.modelRange.end}}),{priority:"lowest"}),this.upcastDispatcher.on("element",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var i=n.convertChildren(t.viewItem,t.modelCursor),r=i.modelRange,a=i.modelCursor;t.modelRange=r,t.modelCursor=a}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var i=n.convertChildren(t.viewItem,t.modelCursor),r=i.modelRange,a=i.modelCursor;t.modelRange=r,t.modelCursor=a}}),{priority:"lowest"}),this.decorate("init"),this.on("init",(function(){i.fire("ready")}),{priority:"lowest"})}return m(e,[{key:"get",value:function(e){var t=e||{},n=t.rootName,i=void 0===n?"main":n,r=t.trim,a=void 0===r?"empty":r;if(!this._checkIfRootsExists([i]))throw new Tn.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);var o=this.model.document.getRoot(i);return"empty"!==a||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o):""}},{key:"stringify",value:function(e){var t=this.toView(e);return this.processor.toData(t)}},{key:"toView",value:function(e){var t=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();var i=Uo._createIn(e),r=new Hr(t);if(this.mapper.bindElements(e,r),this.downcastDispatcher.convertInsert(i,n),!e.is("documentFragment")){var a,o=function(e){var t=[],n=e.root.document;if(!n)return[];var i,r=Uo._createIn(e),a=d(n.model.markers);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=r.getIntersection(o.getRange());s&&t.push([o.name,s])}}catch(c){a.e(c)}finally{a.f()}return t}(e),s=d(o);try{for(s.s();!(a=s.n()).done;){var c=u(a.value,2),l=c[0],h=c[1];this.downcastDispatcher.convertMarkerAdd(l,h,n)}}catch(f){s.e(f)}finally{s.f()}}return r}},{key:"init",value:function(e){var t=this;if(this.model.document.version)throw new Tn.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);var n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new Tn.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",(function(e){for(var i=0,r=Object.keys(n);i<r.length;i++){var a=r[i],o=t.model.document.getRoot(a);e.insert(t.parse(n[a],o),o,0)}})),Promise.resolve()}},{key:"set",value:function(e){var t=this,n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new Tn.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",(function(e){e.setSelection(null),e.removeSelectionAttribute(t.model.document.selection.getAttributeKeys());for(var i=0,r=Object.keys(n);i<r.length;i++){var a=r[i],o=t.model.document.getRoot(a);e.remove(e.createRangeIn(o)),e.insert(t.parse(n[a],o),o,0)}}))}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(e);return this.toModel(n,t)}},{key:"toModel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(i){return t.upcastDispatcher.convert(e,i,n)}))}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!this.model.document.getRootNames().includes(i))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}}]),e}();Bn(Rs,ar);var Ds=function(){function e(t,n){f(this,e),this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(n)?n:[n],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return m(e,[{key:"addAlias",value:function(e,t){var n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new Tn.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}},{key:"for",value:function(e){if(!this._helpers.has(e))throw new Tn.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(e)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var t,n=d(zs(e));try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.model,a=i.view;this.for("upcast").elementToElement({model:r,view:a,converterPriority:e.converterPriority})}}catch(o){n.e(o)}finally{n.f()}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var t,n=d(zs(e));try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.model,a=i.view;this.for("upcast").elementToAttribute({view:a,model:r,converterPriority:e.converterPriority})}}catch(o){n.e(o)}finally{n.f()}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var t,n=d(zs(e));try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.model,a=i.view;this.for("upcast").attributeToAttribute({view:a,model:r})}}catch(o){n.e(o)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(e){var t=e.name,n=e.dispatchers,i=e.isDowncast;if(this._helpers.has(t))throw new Tn.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);var r=i?new cs(n):new ms(n);this._helpers.set(t,r)}}]),e}();function zs(e){var t,n,i,r,a,o;return h.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.model.values){s.next=20;break}t=d(e.model.values),s.prev=2,t.s();case 4:if((n=t.n()).done){s.next=10;break}return i=n.value,r={key:e.model.key,value:i},a=e.view[i],o=e.upcastAlso?e.upcastAlso[i]:void 0,s.delegateYield(Bs(r,a,o),"t0",8);case 8:s.next=4;break;case 10:s.next=15;break;case 12:s.prev=12,s.t1=s.catch(2),t.e(s.t1);case 15:return s.prev=15,t.f(),s.finish(15);case 18:s.next=21;break;case 20:return s.delegateYield(Bs(e.model,e.view,e.upcastAlso),"t2",21);case 21:case"end":return s.stop()}}),g,null,[[2,12,15,18]])}function Bs(e,t,n){var i,r,a;return h.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,{model:e,view:t};case 2:if(!n){o.next=21;break}n=Array.isArray(n)?n:[n],i=d(n),o.prev=5,i.s();case 7:if((r=i.n()).done){o.next=13;break}return a=r.value,o.next=11,{model:e,view:a};case 11:o.next=7;break;case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(5),i.e(o.t0);case 18:return o.prev=18,i.f(),o.finish(18);case 21:case"end":return o.stop()}}),b,null,[[5,15,18,21]])}var Fs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";f(this,e),this.operations=[],this.type=t}return m(e,[{key:"addOperation",value:function(e){return e.batch=this,this.operations.push(e),e}},{key:"baseVersion",get:function(){var e,t=d(this.operations);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==n.baseVersion)return n.baseVersion}}catch(i){t.e(i)}finally{t.f()}return null}}]),e}(),Hs=function(){function e(t){f(this,e),this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return m(e,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"fromJSON",value:function(e){return new this(e.baseVersion)}},{key:"className",get:function(){return"Operation"}}]),e}(),Us=function(){function e(t){f(this,e),this.markers=new Map,this._children=new Io,t&&this._insertChild(0,t)}return m(e,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"is",value:function(e){return"documentFragment"===e||"model:documentFragment"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var t,n=this,i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n=n.getChild(n.offsetToIndex(r))}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e,t=[],n=d(this._children);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(i.toJSON())}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,i=function(e){return"string"==typeof e?[new Eo(e)]:(zn(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Eo(e):e instanceof Po?new Eo(e.data,e.getAttributes()):e})))}(t),r=d(i);try{for(r.s();!(n=r.n()).done;){var a=n.value;null!==a.parent&&a._remove(),a.parent=this}}catch(o){r.e(o)}finally{r.f()}this._children._insertNodes(e,i)}},{key:"_removeChildren",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this._children._removeNodes(e,n),r=d(i);try{for(r.s();!(t=r.n()).done;)t.value.parent=null}catch(a){r.e(a)}finally{r.f()}return i}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}],[{key:"fromJSON",value:function(t){var n,i=[],r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.name?i.push(Vo.fromJSON(a)):i.push(Eo.fromJSON(a))}}catch(o){r.e(o)}finally{r.f()}return new e(i)}}]),e}();function qs(e,t){var n=(t=Gs(t)).reduce((function(e,t){return e+t.offsetSize}),0),i=e.parent;Qs(e);var r=e.index;return i._insertChild(r,t),Ys(i,r+t.length),Ys(i,r),new Uo(e,e.getShiftedBy(n))}function Ws(e){if(!e.isFlat)throw new Tn.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);var t=e.start.parent;Qs(e.start),Qs(e.end);var n=t._removeChildren(e.start.index,e.end.index-e.start.index);return Ys(t,e.start.index),n}function Zs(e,t){if(!e.isFlat)throw new Tn.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);var n=Ws(e);return qs(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function Gs(e){var t=[];e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new Eo(e[n]));else if(e[n]instanceof Po)t.push(new Eo(e[n].data,e[n].getAttributes()));else if(e[n]instanceof Us||e[n]instanceof Io){var i,r=d(e[n]);try{for(r.s();!(i=r.n()).done;){var a=i.value;t.push(a)}}catch(l){r.e(l)}finally{r.f()}}else e[n]instanceof Lo&&t.push(e[n]);for(var o=1;o<t.length;o++){var s=t[o],c=t[o-1];s instanceof Eo&&c instanceof Eo&&Ks(s,c)&&(t.splice(o-1,2,new Eo(c.data+s.data,c.getAttributes())),o--)}return t}function Ys(e,t){var n=e.getChild(t-1),i=e.getChild(t);if(n&&i&&n.is("text")&&i.is("text")&&Ks(n,i)){var r=new Eo(n.data+i.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,r)}}function Qs(e){var t=e.textNode,n=e.parent;if(t){var i=e.offset-t.startOffset,r=t.index;n._removeChildren(r,1);var a=new Eo(t.data.substr(0,i),t.getAttributes()),o=new Eo(t.data.substr(i),t.getAttributes());n._insertChild(r,[a,o])}}function Ks(e,t){var n,i=e.getAttributes(),r=t.getAttributes(),a=d(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o[1]!==t.getAttribute(o[0]))return!1;r.next()}}catch(s){a.e(s)}finally{a.f()}return r.next().done}var $s=function(e,t){return Ga(e,t)},Js=function(e){p(n,e);var t=v(n);function n(e,i,r,a,o){var s;return f(this,n),(s=t.call(this,o)).range=e.clone(),s.key=i,s.oldValue=void 0===r?null:r,s.newValue=void 0===a?null:a,s}return m(n,[{key:"clone",value:function(){return new n(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return e.range=this.range.toJSON(),e}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new Tn.b("attribute-operation-range-not-flat: The range to change is not flat.",this);var e,t=d(this.range.getItems({shallow:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==this.oldValue&&!$s(n.getAttribute(this.key),this.oldValue))throw new Tn.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:n,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&n.hasAttribute(this.key))throw new Tn.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:n,key:this.key})}}catch(i){t.e(i)}finally{t.f()}}},{key:"_execute",value:function(){$s(this.oldValue,this.newValue)||function(e,t,n){Qs(e.start),Qs(e.end);var i,r=d(e.getItems({shallow:!0}));try{for(r.s();!(i=r.n()).done;){var a=i.value,o=a.is("textProxy")?a.textNode:a;null!==n?o._setAttribute(t,n):o._removeAttribute(t),Ys(o.parent,o.index)}}catch(s){r.e(s)}finally{r.f()}Ys(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}],[{key:"fromJSON",value:function(e,t){return new n(Uo.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"AttributeOperation"}}]),n}(Hs),Xs=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,null)).sourcePosition=e.clone(),r.howMany=i,r}return m(n,[{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new Tn.b("detach-operation-on-document-node: Cannot detach document node.",this)}},{key:"_execute",value:function(){Ws(Uo._createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:"type",get:function(){return"detach"}}],[{key:"className",get:function(){return"DetachOperation"}}]),n}(Hs),ec=function(e){p(n,e);var t=v(n);function n(e,i,r,a){var o;return f(this,n),(o=t.call(this,a)).sourcePosition=e.clone(),o.sourcePosition.stickiness="toNext",o.howMany=i,o.targetPosition=r.clone(),o.targetPosition.stickiness="toNone",o}return m(n,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new Tn.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(e===t&&n<i&&i<n+this.howMany)throw new Tn.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Yn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=n&&this.targetPosition.path[r]<n+this.howMany)throw new Tn.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}},{key:"_execute",value:function(){Zs(Uo._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}},{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}}],[{key:"fromJSON",value:function(e,t){var n=zo.fromJSON(e.sourcePosition,t),i=zo.fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}},{key:"className",get:function(){return"MoveOperation"}}]),n}(Hs),tc=function(e){p(n,e);var t=v(n);function n(e,i,r){var a;return f(this,n),(a=t.call(this,r)).position=e.clone(),a.position.stickiness="toNone",a.nodes=new Io(Gs(i)),a.shouldReceiveAttributes=!1,a}return m(n,[{key:"clone",value:function(){var e=new Io(l(this.nodes).map((function(e){return e._clone(!0)}))),t=new n(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}},{key:"getReversed",value:function(){var e=this.position.root.document.graveyard,t=new zo(e,[0]);return new ec(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new Tn.b("insert-operation-position-invalid: Insertion position is invalid.",this)}},{key:"_execute",value:function(){var e=this.nodes;this.nodes=new Io(l(e).map((function(e){return e._clone(!0)}))),qs(this.position,e)}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}},{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}}],[{key:"fromJSON",value:function(e,t){var i,r=[],a=d(e.nodes);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.name?r.push(Vo.fromJSON(o)):r.push(Eo.fromJSON(o))}}catch(c){a.e(c)}finally{a.f()}var s=new n(zo.fromJSON(e.position,t),r,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}},{key:"className",get:function(){return"InsertOperation"}}]),n}(Hs),nc=function(e){p(n,e);var t=v(n);function n(e,i,r,a,o,s){var c;return f(this,n),(c=t.call(this,s)).name=e,c.oldRange=i?i.clone():null,c.newRange=r?r.clone():null,c.affectsData=o,c._markers=a,c}return m(n,[{key:"clone",value:function(){return new n(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var e=this.newRange?"_set":"_remove";this._markers[e](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}},{key:"type",get:function(){return"marker"}}],[{key:"fromJSON",value:function(e,t){return new n(e.name,e.oldRange?Uo.fromJSON(e.oldRange,t):null,e.newRange?Uo.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}},{key:"className",get:function(){return"MarkerOperation"}}]),n}(Hs),ic=function(e){p(n,e);var t=v(n);function n(e,i,r,a){var o;return f(this,n),(o=t.call(this,a)).position=e,o.position.stickiness="toNext",o.oldName=i,o.newName=r,o}return m(n,[{key:"clone",value:function(){return new n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.nodeAfter;if(!(e instanceof Vo))throw new Tn.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(e.name!==this.oldName)throw new Tn.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e}},{key:"type",get:function(){return"rename"}}],[{key:"fromJSON",value:function(e,t){return new n(zo.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}},{key:"className",get:function(){return"RenameOperation"}}]),n}(Hs),rc=function(e){p(n,e);var t=v(n);function n(e,i,r,a,o){var s;return f(this,n),(s=t.call(this,o)).root=e,s.key=i,s.oldValue=r,s.newValue=a,s}return m(n,[{key:"clone",value:function(){return new n(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Tn.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new Tn.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new Tn.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return e.root=this.root.toJSON(),e}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}],[{key:"fromJSON",value:function(e,t){if(!t.getRoot(e.root))throw new Tn.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:e.root});return new n(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"RootAttributeOperation"}}]),n}(Hs),ac=function(e){p(n,e);var t=v(n);function n(e,i,r,a,o){var s;return f(this,n),(s=t.call(this,o)).sourcePosition=e.clone(),s.sourcePosition.stickiness="toPrevious",s.howMany=i,s.targetPosition=r.clone(),s.targetPosition.stickiness="toNext",s.graveyardPosition=a.clone(),s}return m(n,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new zo(this.sourcePosition.root,t)._getTransformedByMergeOperation(this),i=new oc(e,this.howMany,this.graveyardPosition,this.baseVersion+1);return i.insertionPosition=n,i}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new Tn.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!t.parent)throw new Tn.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=e.maxOffset)throw new Tn.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}},{key:"_execute",value:function(){var e=this.sourcePosition.parent;Zs(Uo._createIn(e),this.targetPosition),Zs(Uo._createOn(e),this.graveyardPosition)}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}},{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new zo(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Uo(this.sourcePosition,e)}}],[{key:"fromJSON",value:function(e,t){var n=zo.fromJSON(e.sourcePosition,t),i=zo.fromJSON(e.targetPosition,t),r=zo.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,r,e.baseVersion)}},{key:"className",get:function(){return"MergeOperation"}}]),n}(Hs),oc=function(e){p(n,e);var t=v(n);function n(e,i,r,a){var o;return f(this,n),(o=t.call(this,a)).splitPosition=e.clone(),o.splitPosition.stickiness="toNext",o.howMany=i,o.insertionPosition=n.getInsertionPosition(e),o.insertionPosition.stickiness="toNone",o.graveyardPosition=r?r.clone():null,o.graveyardPosition&&(o.graveyardPosition.stickiness="toNext"),o}return m(n,[{key:"clone",value:function(){var e=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return e.insertionPosition=this.insertionPosition,e}},{key:"getReversed",value:function(){var e=this.splitPosition.root.document.graveyard,t=new zo(e,[0]);return new ac(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new Tn.b("split-operation-position-invalid: Split position is invalid.",this);if(!e.parent)throw new Tn.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new Tn.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Tn.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}},{key:"_execute",value:function(){var e=this.splitPosition.parent;if(this.graveyardPosition)Zs(Uo._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var t=e._clone();qs(this.insertionPosition,t)}Zs(new Uo(zo._createAt(e,this.splitPosition.offset),zo._createAt(e,e.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var e=r(a(n.prototype),"toJSON",this).call(this);return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}},{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var e=this.insertionPosition.path.slice();return e.push(0),new zo(this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Uo(this.splitPosition,e)}}],[{key:"getInsertionPosition",value:function(e){var t=e.path.slice(0,-1);return t[t.length-1]++,new zo(e.root,t)}},{key:"fromJSON",value:function(e,t){var n=zo.fromJSON(e.splitPosition,t),i=zo.fromJSON(e.insertionPosition,t),r=e.graveyardPosition?zo.fromJSON(e.graveyardPosition,t):null,a=new this(n,e.howMany,r,e.baseVersion);return a.insertionPosition=i,a}},{key:"className",get:function(){return"SplitOperation"}}]),n}(Hs),sc=function(e){p(n,e);var t=v(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return f(this,n),(r=t.call(this,i))._document=e,r.rootName=a,r}return m(n,[{key:"is",value:function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||e===this.name||e==="model:"+this.name||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){return this.rootName}},{key:"document",get:function(){return this._document}}]),n}(Vo),cc=function(){function e(t,n){f(this,e),this.model=t,this.batch=n}return m(e,[{key:"createText",value:function(e,t){return new Eo(e,t)}},{key:"createElement",value:function(e,t){return new Vo(e,t)}},{key:"createDocumentFragment",value:function(){return new Us}},{key:"cloneElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e._clone(t)}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof Eo&&""==e.data)){var i=zo._createAt(t,n);if(e.parent){if(fc(e.root,i.root))return void this.move(Uo._createOn(e),i);if(e.root.document)throw new Tn.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(e)}var r=i.root.document?i.root.document.version:null,a=new tc(i,e,r);if(e instanceof Eo&&(a.shouldReceiveAttributes=!0),this.batch.addOperation(a),this.model.applyOperation(a),e instanceof Us){var o,s=d(e.markers);try{for(s.s();!(o=s.n()).done;){var c=u(o.value,2),l=c[0],h=c[1],f=zo._createAt(h.root,0),m={range:new Uo(h.start._getCombined(f,i),h.end._getCombined(f,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,m):this.addMarker(l,m)}}catch(p){s.e(p)}finally{s.f()}}}}},{key:"insertText",value:function(e,t,n,i){t instanceof Us||t instanceof Vo||t instanceof zo?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,i)}},{key:"insertElement",value:function(e,t,n,i){t instanceof Us||t instanceof Vo||t instanceof zo?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,i)}},{key:"append",value:function(e,t){this.insert(e,t,"end")}},{key:"appendText",value:function(e,t,n){t instanceof Us||t instanceof Vo?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}},{key:"appendElement",value:function(e,t,n){t instanceof Us||t instanceof Vo?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}},{key:"setAttribute",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Uo){var i,r=n.getMinimalFlatRanges(),a=d(r);try{for(a.s();!(i=a.n()).done;)lc(this,e,t,i.value)}catch(o){a.e(o)}finally{a.f()}}else uc(this,e,t,n)}},{key:"setAttributes",value:function(e,t){var n,i=d(Xn(e));try{for(i.s();!(n=i.n()).done;){var r=u(n.value,2),a=r[0],o=r[1];this.setAttribute(a,o,t)}}catch(s){i.e(s)}finally{i.f()}}},{key:"removeAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Uo){var n,i=t.getMinimalFlatRanges(),r=d(i);try{for(r.s();!(n=r.n()).done;)lc(this,e,null,n.value)}catch(a){r.e(a)}finally{r.f()}}else uc(this,e,null,t)}},{key:"clearAttributes",value:function(e){var t=this;this._assertWriterUsedCorrectly();var n=function(e){var n,i=d(e.getAttributeKeys());try{for(i.s();!(n=i.n()).done;){var r=n.value;t.removeAttribute(r,e)}}catch(a){i.e(a)}finally{i.f()}};if(e instanceof Uo){var i,r=d(e.getItems());try{for(r.s();!(i=r.n()).done;)n(i.value)}catch(a){r.e(a)}finally{r.f()}}else n(e)}},{key:"move",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Uo))throw new Tn.b("writer-move-invalid-range: Invalid range to move.",this);if(!e.isFlat)throw new Tn.b("writer-move-range-not-flat: Range to move is not flat.",this);var i=zo._createAt(t,n);if(!i.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!fc(e.root,i.root))throw new Tn.b("writer-move-different-document: Range is going to be moved between different documents.",this);var r=e.root.document?e.root.document.version:null,a=new ec(e.start,e.end.offset-e.start.offset,i,r);this.batch.addOperation(a),this.model.applyOperation(a)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var t,n=(e instanceof Uo?e:Uo._createOn(e)).getMinimalFlatRanges().reverse(),i=d(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;this._addOperationForAffectedMarkers("move",r),hc(r.start,r.end.offset-r.start.offset,this.batch,this.model)}}catch(a){i.e(a)}finally{i.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Vo))throw new Tn.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(n instanceof Vo))throw new Tn.b("writer-merge-no-element-after: Node after merge position must be an element.",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,t,n){return this.model.createPositionFromPath(e,t,n)}},{key:"createPositionAt",value:function(e,t){return this.model.createPositionAt(e,t)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,t){return this.model.createRange(e,t)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,t,n){return this.model.createSelection(e,t,n)}},{key:"_mergeDetached",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;this.move(Uo._createIn(n),zo._createAt(t,"end")),this.remove(n)}},{key:"_merge",value:function(e){var t=zo._createAt(e.nodeBefore,"end"),n=zo._createAt(e.nodeAfter,0),i=e.root.document.graveyard,r=new zo(i,[0]),a=e.root.document.version,o=new ac(n,e.nodeAfter.maxOffset,t,r,a);this.batch.addOperation(o),this.model.applyOperation(o)}},{key:"rename",value:function(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Vo))throw new Tn.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);var n=e.root.document?e.root.document.version:null,i=new ic(zo._createBefore(e),e.name,t,n);this.batch.addOperation(i),this.model.applyOperation(i)}},{key:"split",value:function(e,t){this._assertWriterUsedCorrectly();var n,i,r=e.parent;if(!r.parent)throw new Tn.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(t||(t=r.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new Tn.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{var a=r.root.document?r.root.document.version:null,o=r.maxOffset-e.offset,s=new oc(e,o,null,a);this.batch.addOperation(s),this.model.applyOperation(s),n||i||(n=r,i=e.parent.nextSibling),r=(e=this.createPositionAfter(e.parent)).parent}while(r!==t);return{position:e,range:new Uo(zo._createAt(n,"end"),zo._createAt(i,0))}}},{key:"wrap",value:function(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new Tn.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);var n=t instanceof Vo?t:new Vo(t);if(n.childCount>0)throw new Tn.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==n.parent)throw new Tn.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(n,e.start);var i=new Uo(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,zo._createAt(n,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new Tn.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(Uo._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new Tn.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);var n=t.usingOperation,i=t.range,r=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new Tn.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!i)throw new Tn.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return n?(dc(this,e,null,i,r),this.model.markers.get(e)):this.model.markers._set(e,i,n,r)}},{key:"updateMarker",value:function(e,t){this._assertWriterUsedCorrectly();var n="string"==typeof e?e:e.name,i=this.model.markers.get(n);if(!i)throw new Tn.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(t){var r="boolean"==typeof t.usingOperation,a="boolean"==typeof t.affectsData,o=a?t.affectsData:i.affectsData;if(!r&&!t.range&&!a)throw new Tn.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);var s=i.getRange(),c=t.range?t.range:s;r&&t.usingOperation!==i.managedUsingOperations?t.usingOperation?dc(this,n,null,c,o):(dc(this,n,s,null,o),this.model.markers._set(n,c,void 0,o)):i.managedUsingOperations?dc(this,n,s,c,o):this.model.markers._set(n,c,void 0,o)}else this.model.markers._refresh(i)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new Tn.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);var n=this.model.markers.get(t);n.managedUsingOperations?dc(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}},{key:"setSelection",value:function(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}},{key:"setSelectionAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else{var n,i=d(Xn(e));try{for(i.s();!(n=i.n()).done;){var r=u(n.value,2),a=r[0],o=r[1];this._setSelectionAttribute(a,o)}}catch(s){i.e(s)}finally{i.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else{var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._removeSelectionAttribute(i)}}catch(r){n.e(r)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,t){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var i=is._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}},{key:"_removeSelectionAttribute",value:function(e){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var n=is._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new Tn.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,t){var n,i=d(this.model.markers);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.managedUsingOperations){var a=r.getRange(),o=!1;if("move"===e)o=t.containsPosition(a.start)||t.start.isEqual(a.start)||t.containsPosition(a.end)||t.end.isEqual(a.end);else{var s=t.nodeBefore,c=t.nodeAfter,l=a.start.parent==s&&a.start.isAtEnd,u=a.end.parent==c&&0==a.end.offset,h=a.end.nodeAfter==c,f=a.start.nodeAfter==c;o=l||u||h||f}o&&this.updateMarker(r.name,{range:a})}}}catch(m){i.e(m)}finally{i.f()}}}]),e}();function lc(e,t,n,i){var r,a,o,s,c=e.model,l=c.document,u=i.start,h=d(i.getWalker({shallow:!0}));try{for(h.s();!(s=h.n()).done;){var f=s.value;o=f.item.getAttribute(t),r&&a!=o&&(a!=n&&m(),u=r),r=f.nextPosition,a=o}}catch(p){h.e(p)}finally{h.f()}function m(){var i=new Uo(u,r),o=i.root.document?l.version:null,s=new Js(i,t,a,n,o);e.batch.addOperation(s),c.applyOperation(s)}r instanceof zo&&r!=u&&a!=n&&m()}function uc(e,t,n,i){var r,a,o=e.model,s=o.document,c=i.getAttribute(t);if(c!=n){if(i.root===i){var l=i.document?s.version:null;a=new rc(i,t,c,n,l)}else{var u=(r=new Uo(zo._createBefore(i),e.createPositionAfter(i))).root.document?s.version:null;a=new Js(r,t,c,n,u)}e.batch.addOperation(a),o.applyOperation(a)}}function dc(e,t,n,i,r){var a=e.model,o=a.document,s=new nc(t,n,i,a.markers,r,o.version);e.batch.addOperation(s),a.applyOperation(s)}function hc(e,t,n,i){var r;if(e.root.document){var a=i.document,o=new zo(a.graveyard,[0]);r=new ec(e,t,o,a.version)}else r=new Xs(e,t);n.addOperation(r),i.applyOperation(r)}function fc(e,t){return e===t||e instanceof sc&&t instanceof sc}var mc=function(){function e(t){f(this,e),this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return m(e,[{key:"refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);var t,n=Uo._createOn(e),i=d(this._markerCollection.getMarkersIntersectingRange(n));try{for(i.s();!(t=i.n()).done;){var r=t.value,a=r.getRange();this.bufferMarkerChange(r.name,a,a,r.affectsData)}}catch(o){i.e(o)}finally{i.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var t,n=d(e.range.getItems({shallow:!0}));try{for(n.s();!(t=n.n()).done;){var i=t.value;this._isInInsertedElement(i.parent)||this._markAttribute(i)}}catch(v){n.e(v)}finally{n.f()}break;case"remove":case"move":case"reinsert":if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var r=this._isInInsertedElement(e.sourcePosition.parent),a=this._isInInsertedElement(e.targetPosition.parent);r||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),a||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break;case"rename":if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var o,s=Uo._createFromPositionAndShift(e.position,1),c=d(this._markerCollection.getMarkersIntersectingRange(s));try{for(c.s();!(o=c.n()).done;){var l=o.value,u=l.getRange();this.bufferMarkerChange(l.name,u,u,l.affectsData)}}catch(v){c.e(v)}finally{c.f()}break;case"split":var h=e.splitPosition.parent;this._isInInsertedElement(h)||this._markRemove(h,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break;case"merge":var f=e.sourcePosition.parent;this._isInInsertedElement(f.parent)||this._markRemove(f.parent,f.startOffset,1);var m=e.graveyardPosition.parent;this._markInsert(m,e.graveyardPosition.offset,1);var p=e.targetPosition.parent;this._isInInsertedElement(p)||this._markInsert(p,e.targetPosition.offset,f.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,t,n,i){var r=this._changedMarkers.get(e);r?(r.newRange=n,r.affectsData=i,null==r.oldRange&&null==r.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:i})}},{key:"getMarkersToRemove",value:function(){var e,t=[],n=d(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var i=u(e.value,2),r=i[0],a=i[1];null!=a.oldRange&&t.push({name:r,range:a.oldRange})}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"getMarkersToAdd",value:function(){var e,t=[],n=d(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var i=u(e.value,2),r=i[0],a=i[1];null!=a.newRange&&t.push({name:r,range:a.newRange})}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map((function(e){return{name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}}))}},{key:"hasDataChanges",value:function(){var e,t=d(this._changedMarkers);try{for(t.s();!(e=t.n()).done;)if(u(e.value,2)[1].affectsData)return!0}catch(n){t.e(n)}finally{t.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var t,n=[],i=d(this._changesInElement.keys());try{for(i.s();!(t=i.n()).done;){var r,a=t.value,o=this._changesInElement.get(a).sort((function(e,t){return e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1})),s=this._elementSnapshots.get(a),c=pc(a.getChildren()),u=vc(s.length,o),h=0,f=0,m=d(u);try{for(m.s();!(r=m.n()).done;){var p=r.value;if("i"===p)n.push(this._getInsertDiff(a,h,c[h].name)),h++;else if("r"===p)n.push(this._getRemoveDiff(a,h,s[f].name)),f++;else if("a"===p){var v=c[h].attributes,g=s[f].attributes,b=void 0;if("$text"==c[h].name)b=new Uo(zo._createAt(a,h),zo._createAt(a,h+1));else{var k=a.offsetToIndex(h);b=new Uo(zo._createAt(a,h),zo._createAt(a.getChild(k),0))}n.push.apply(n,l(this._getAttributesDiff(b,g,v))),h++,f++}else h++,f++}}catch(T){m.e(T)}finally{m.f()}}}catch(T){i.e(T)}finally{i.f()}n.sort((function(e,t){return e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1}));for(var y=1;y<n.length;y++){var w=n[y-1],_=n[y],x="remove"==w.type&&"remove"==_.type&&"$text"==w.name&&"$text"==_.name&&w.position.isEqual(_.position),j="insert"==w.type&&"insert"==_.type&&"$text"==w.name&&"$text"==_.name&&w.position.parent==_.position.parent&&w.position.offset+w.length==_.position.offset,C="attribute"==w.type&&"attribute"==_.type&&w.position.parent==_.position.parent&&w.range.isFlat&&_.range.isFlat&&w.position.offset+w.length==_.position.offset&&w.attributeKey==_.attributeKey&&w.attributeOldValue==_.attributeOldValue&&w.attributeNewValue==_.attributeNewValue;(x||j||C)&&(n[y-1].length++,C&&(n[y-1].range.end=n[y-1].range.end.getShiftedBy(1)),n.splice(y,1),y--)}for(var O=0,N=n;O<N.length;O++){var A=N[O];delete A.changeCount,"attribute"==A.type&&(delete A.position,delete A.length)}return this._changeCount=0,this._cachedChangesWithGraveyard=n.slice(),this._cachedChanges=n.slice().filter(gc),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(e,t,n){var i={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i)}},{key:"_markRemove",value:function(e,t,n){var i={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,t,n)}},{key:"_markAttribute",value:function(e){var t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}},{key:"_markChange",value:function(e,t){this._makeSnapshot(e);var n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(var i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}},{key:"_getChangesForElement",value:function(e){var t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,pc(e.getChildren()))}},{key:"_handleChange",value:function(e,t){e.nodesToHandle=e.howMany;var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=e.offset+e.howMany,o=r.offset+r.howMany;if("insert"==e.type&&("insert"==r.type&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<o&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==r.type&&e.offset<r.offset&&(r.offset+=e.howMany),"attribute"==r.type))if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<o){var s=r.howMany;r.howMany=e.offset-r.offset,t.unshift({type:"attribute",offset:a,howMany:s-r.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==r.type)if(a<=r.offset)r.offset-=e.howMany;else if(a<=o)if(e.offset<r.offset){var c=a-r.offset;r.offset=e.offset,r.howMany-=c,e.nodesToHandle-=c}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<o){var l=o-e.offset;r.howMany-=l,e.nodesToHandle-=l}if("remove"==r.type&&(a<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),"attribute"==r.type)if(a<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){var u=a-r.offset;r.offset=e.offset,r.howMany-=u}else if(e.offset<o)if(a<=o){var h=r.howMany;r.howMany=e.offset-r.offset;var f=h-r.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:f,count:this._changeCount++})}else r.howMany-=o-e.offset}if("attribute"==e.type){if("insert"==r.type)if(e.offset<r.offset&&a>r.offset){if(a>o){var m={type:"attribute",offset:o,howMany:a-o,count:this._changeCount++};this._handleChange(m,t),t.push(m)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<o&&(a>o?(e.nodesToHandle=a-o,e.offset=o):e.nodesToHandle=0);if("remove"==r.type&&e.offset<r.offset&&a>r.offset){var p={type:"attribute",offset:r.offset,howMany:a-r.offset,count:this._changeCount++};this._handleChange(p,t),t.push(p),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==r.type&&(e.offset>=r.offset&&a<=o?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&a>=o&&(r.howMany=0))}}}catch(v){i.e(v)}finally{i.f()}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,t,n){return{type:"insert",position:zo._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,t,n){return{type:"remove",position:zo._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,t,n){var i=[];n=new Map(n);var r,a=d(t);try{for(a.s();!(r=a.n()).done;){var o=u(r.value,2),s=o[0],c=o[1],l=n.has(s)?n.get(s):null;l!==c&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:c,attributeNewValue:l,changeCount:this._changeCount++}),n.delete(s)}}catch(g){a.e(g)}finally{a.f()}var h,f=d(n);try{for(f.s();!(h=f.n()).done;){var m=u(h.value,2),p=m[0],v=m[1];i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:p,attributeOldValue:null,attributeNewValue:v,changeCount:this._changeCount++})}}catch(g){f.e(g)}finally{f.f()}return i}},{key:"_isInInsertedElement",value:function(e){var t=e.parent;if(!t)return!1;var n=this._changesInElement.get(t),i=e.startOffset;if(n){var r,a=d(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;if("insert"==o.type&&i>=o.offset&&i<o.offset+o.howMany)return!0}}catch(s){a.e(s)}finally{a.f()}}return this._isInInsertedElement(t)}},{key:"_removeAllNestedChanges",value:function(e,t,n){var i,r=new Uo(zo._createAt(e,t),zo._createAt(e,t+n)),a=d(r.getItems({shallow:!0}));try{for(a.s();!(i=a.n()).done;){var o=i.value;o.is("element")&&(this._elementSnapshots.delete(o),this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}}catch(s){a.e(s)}finally{a.f()}}},{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}}]),e}();function pc(e){var t,n=[],i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.is("text"))for(var a=0;a<r.data.length;a++)n.push({name:"$text",attributes:new Map(r.getAttributes())});else n.push({name:r.name,attributes:new Map(r.getAttributes())})}}catch(o){i.e(o)}finally{i.f()}return n}function vc(e,t){var n,i=[],r=0,a=0,o=d(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.offset>r){for(var c=0;c<s.offset-r;c++)i.push("e");a+=s.offset-r}if("insert"==s.type){for(var u=0;u<s.howMany;u++)i.push("i");r=s.offset+s.howMany}else if("remove"==s.type){for(var h=0;h<s.howMany;h++)i.push("r");r=s.offset,a+=s.howMany}else i.push.apply(i,l("a".repeat(s.howMany).split(""))),r=s.offset+s.howMany,a+=s.howMany}}catch(m){o.e(m)}finally{o.f()}if(a<e)for(var f=0;f<e-a-r;f++)i.push("e");return i}function gc(e){var t=e.position&&"$graveyard"==e.position.root.rootName,n=e.range&&"$graveyard"==e.range.root.rootName;return!t&&!n}var bc=function(){function e(){f(this,e),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}return m(e,[{key:"addOperation",value:function(e){this._operations.includes(e)||this._operations.push(e)}},{key:"getOperations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;return e<0?[]:this._operations.slice(e,t)}},{key:"getOperation",value:function(e){return this._operations[e]}},{key:"setOperationAsUndone",value:function(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}}]),e}();function kc(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function yc(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}var wc=function(){function e(t){var n=this;f(this,e),this.model=t,this.version=0,this.history=new bc(this),this.selection=new is(this),this.roots=new Fn({idProperty:"rootName"}),this.differ=new mc(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(t,"applyOperation",(function(e,t){var i=t[0];if(i.isDocumentOperation&&i.baseVersion!==n.version)throw new Tn.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",n,{operation:i})}),{priority:"highest"}),this.listenTo(t,"applyOperation",(function(e,t){var i=t[0];i.isDocumentOperation&&n.differ.bufferOperation(i)}),{priority:"high"}),this.listenTo(t,"applyOperation",(function(e,t){var i=t[0];i.isDocumentOperation&&(n.version++,n.history.addOperation(i))}),{priority:"low"}),this.listenTo(this.selection,"change",(function(){n._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",(function(e,t,i,r){n.differ.bufferMarkerChange(t.name,i,r,t.affectsData),null===i&&t.on("change",(function(e,i){n.differ.bufferMarkerChange(t.name,i,t.getRange(),t.affectsData)}))}))}return m(e,[{key:"createRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(t))throw new Tn.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:t});var n=new sc(this,e,t);return this.roots.add(n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots,(function(e){return e.rootName})).filter((function(e){return"$graveyard"!=e}))}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=Qn(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e,t=d(this.roots);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n!==this.graveyard)return n}}catch(i){t.e(i)}finally{t.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),t=this.model,n=t.schema,i=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(i)||t.createRange(i)}},{key:"_validateSelectionRange",value:function(e){return _c(e.start)&&_c(e.end)}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,i=d(this._postFixers);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(this.selection.refresh(),t=r(e))break}}catch(a){i.e(a)}finally{i.f()}}while(t)}},{key:"graveyard",get:function(){return this.getRoot("$graveyard")}}]),e}();function _c(e){var t=e.textNode;if(t){var n=t.data,i=e.offset-t.startOffset;return!kc(n,i)&&!yc(n,i)}return!0}Bn(wc,Ln);var xc=function(){function e(){f(this,e),this._markers=new Map}return m(e,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e instanceof jc?e.name:e,a=this._markers.get(r);if(a){var o=a.getRange(),s=!1;return o.isEqual(t)||(a._attachLiveRange(es.fromRange(t)),s=!0),n!=a.managedUsingOperations&&(a._managedUsingOperations=n,s=!0),"boolean"==typeof i&&i!=a.affectsData&&(a._affectsData=i,s=!0),s&&this.fire("update:"+r,a,o,t),a}var c=es.fromRange(t),l=new jc(r,c,n,i);return this._markers.set(r,l),this.fire("update:"+r,l,null,t),l}},{key:"_remove",value:function(e){var t=e instanceof jc?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire("update:"+t,n,n.getRange(),null),this._destroyMarker(n),!0)}},{key:"_refresh",value:function(e){var t=e instanceof jc?e.name:e,n=this._markers.get(t);if(!n)throw new Tn.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);var i=n.getRange();this.fire("update:"+t,n,i,i,n.managedUsingOperations,n.affectsData)}},{key:"getMarkersAtPosition",value:h.mark((function e(t){var n,i,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(this),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=11;break}if(r=i.value,e.t0=r.getRange().containsPosition(t),!e.t0){e.next=9;break}return e.next=9,r;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"getMarkersIntersectingRange",value:h.mark((function e(t){var n,i,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(this),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=11;break}if(r=i.value,e.t0=null!==r.getRange().getIntersection(t),!e.t0){e.next=9;break}return e.next=9,r;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"destroy",value:function(){var e,t=d(this._markers.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this._destroyMarker(n)}}catch(i){t.e(i)}finally{t.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:h.mark((function e(t){var n,i,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(this._markers.values()),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=11;break}if(r=i.value,e.t0=r.name.startsWith(t+":"),!e.t0){e.next=9;break}return e.next=9,r;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]),e}();Bn(xc,Ln);var jc=function(){function e(t,n,i,r){f(this,e),this.name=t,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=i,this._affectsData=r}return m(e,[{key:"getStart",value:function(){if(!this._liveRange)throw new Tn.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new Tn.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new Tn.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}},{key:"is",value:function(e){return"marker"===e||"model:marker"===e}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}},{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new Tn.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new Tn.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}}]),e}();Bn(jc,Ln);var Cc=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"clone",value:function(){return new n(this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.baseVersion+1)}},{key:"_execute",value:function(){}},{key:"type",get:function(){return"noop"}}],[{key:"className",get:function(){return"NoOperation"}}]),n}(Hs),Oc={};Oc[Js.className]=Js,Oc[tc.className]=tc,Oc[nc.className]=nc,Oc[ec.className]=ec,Oc[Cc.className]=Cc,Oc[Hs.className]=Hs,Oc[ic.className]=ic,Oc[rc.className]=rc,Oc[oc.className]=oc,Oc[ac.className]=ac;var Nc=function(e){p(n,e);var t=v(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(f(this,n),!(r=t.call(this,e,i,a)).root.is("rootElement"))throw new Tn.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",e);return Ac.call(o(r)),c(r)}return m(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e}},{key:"toPosition",value:function(){return new zo(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}]),n}(zo);function Ac(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var i=n[0];i.isDocumentOperation&&Tc.call(e,i)}),{priority:"low"})}function Tc(e){var t=this.getTransformedByOperation(e);if(!this.isEqual(t)){var n=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",n)}}Bn(Nc,Ln);var Sc=function(){function e(t,n,i){f(this,e),this.model=t,this.writer=n,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return m(e,[{key:"handleNodes",value:function(e,t){e=Array.from(e);for(var n=0;n<e.length;n++){var i=e[n];this._handleNode(i,{isFirst:0===n&&t.isFirst,isLast:n===e.length-1&&t.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?Uo._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new Uo(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e,t){this.schema.isObject(e)?this._handleObject(e,t):this._checkAndSplitToAllowedPosition(e,t)?(this._insert(e),this._mergeSiblingsOf(e,t)):this._handleDisallowedNode(e,t)}},{key:"_handleObject",value:function(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}},{key:"_handleDisallowedNode",value:function(e,t){e.is("element")?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}},{key:"_insert",value:function(e){if(!this.schema.checkChild(this.position,e))throw new Tn.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:e,position:this.position});var t=Nc.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=t.toPosition(),t.detach(),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=Nc.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Nc.fromPosition(e,"toNext"))}},{key:"_mergeSiblingsOf",value:function(e,t){if(e instanceof Vo){var n=this._canMergeLeft(e,t),i=this._canMergeRight(e,t),r=Nc._createBefore(e);r.stickiness="toNext";var a=Nc._createAfter(e);if(a.stickiness="toNext",n){var o=Nc.fromPosition(this.position);o.stickiness="toNext",this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=Nc._createAt(r.nodeBefore,"end","toPrevious")),this.writer.merge(r),r.isEqual(this._affectedEnd)&&t.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Nc._createAt(r.nodeBefore,"end","toNext")),this.position=o.toPosition(),o.detach()}if(i){if(!this.position.isEqual(a))throw new Tn.b("insertcontent-invalid-insertion-position",this);this.position=zo._createAt(a.nodeBefore,"end");var s=Nc.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(a)&&(this._affectedEnd.detach(),this._affectedEnd=Nc._createAt(a.nodeBefore,"end","toNext")),this.writer.merge(a),a.getShiftedBy(-1).isEqual(this._affectedStart)&&t.isFirst&&(this._affectedStart.detach(),this._affectedStart=Nc._createAt(a.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach()}(n||i)&&this._filterAttributesOf.push(this.position.parent),r.detach(),a.detach()}}},{key:"_canMergeLeft",value:function(e,t){var n=e.previousSibling;return t.isFirst&&n instanceof Vo&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}},{key:"_canMergeRight",value:function(e,t){var n=e.nextSibling;return t.isLast&&n instanceof Vo&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}},{key:"_tryAutoparagraphing",value:function(e,t){var n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n,t))}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:"_getAllowedIn",value:function(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}]),e}();function Mc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.isCollapsed){var i=t.getFirstRange();if("$graveyard"!=i.root.rootName){var r=e.schema;e.change((function(e){if(n.doNotResetEntireContent||!function(e,t){var n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;var i=t.getFirstRange();return i.start.parent!=i.end.parent&&e.checkChild(n,"paragraph")}(r,t)){var a=function(e){var t=e.root.document.model,n=e.start,i=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){var r=function(e){var t,n=e.parent,i=n.root.document.model.schema,r=n.getAncestors({parentFirst:!0,includeSelf:!0}),a=d(r);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(i.isLimit(o))return null;if(i.isBlock(o))return o}}catch(s){a.e(s)}finally{a.f()}}(i);if(r&&i.isTouching(t.createPositionAt(r,0))){var a=t.createSelection(e);t.modifySelection(a,{direction:"backward"}),i=a.getLastPosition()}}return[Nc.fromPosition(n,"toPrevious"),Nc.fromPosition(i,"toNext")]}(i),o=u(a,2),s=o[0],c=o[1];i.start.isTouching(i.end)||e.remove(i),n.leaveUnmerged||(function(e,t,n){var i=e.model;if(Lc(e.model.schema,t,n)){var r=function(e,t){for(var n=e.getAncestors(),i=t.getAncestors(),r=0;n[r]&&n[r]==i[r];)r++;return[n[r],i[r]]}(t,n),a=u(r,2),o=a[0],s=a[1];!i.hasContent(o,{ignoreMarkers:!0})&&i.hasContent(s,{ignoreMarkers:!0})?function e(t,n,i,r){var a=n.parent,o=i.parent;if(a!=r&&o!=r){for(n=t.createPositionAfter(a),(i=t.createPositionBefore(o)).isEqual(n)||t.insert(a,i);n.parent.isEmpty;){var s=n.parent;n=t.createPositionBefore(s),t.remove(s)}i=t.createPositionBefore(o),function(e,t){var n=t.nodeBefore,i=t.nodeAfter;n.name!=i.name&&e.rename(n,i.name),e.clearAttributes(n),e.setAttributes(Object.fromEntries(i.getAttributes()),n),e.merge(t)}(t,i),Lc(t.model.schema,n,i)&&e(t,n,i,r)}}(e,t,n,o.parent):function e(t,n,i,r){var a=n.parent,o=i.parent;if(a!=r&&o!=r){for(n=t.createPositionAfter(a),(i=t.createPositionBefore(o)).isEqual(n)||t.insert(o,n),t.merge(n);i.parent.isEmpty;){var s=i.parent;i=t.createPositionBefore(s),t.remove(s)}Lc(t.model.schema,n,i)&&e(t,n,i,r)}}(e,t,n,o.parent)}}(e,s,c),r.removeDisallowedAttributes(s.parent.getChildren(),e)),Pc(e,t,s),!n.doNotAutoparagraph&&function(e,t){var n=e.checkChild(t,"$text"),i=e.checkChild(t,"paragraph");return!n&&i}(r,s)&&Ec(e,s,t),s.detach(),c.detach()}else!function(e,t){var n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),Ec(e,e.createPositionAt(n,0),t)}(e,t)}))}}}function Lc(e,t,n){var i=t.parent,r=n.parent;return i!=r&&!e.isLimit(i)&&!e.isLimit(r)&&function(e,t,n){var i,r=new Uo(e,t),a=d(r.getWalker());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(n.isLimit(o.item))return!1}}catch(s){a.e(s)}finally{a.f()}return!0}(t,n,e)}function Ec(e,t,n){var i=e.createElement("paragraph");e.insert(i,t),Pc(e,n,e.createPositionAt(i,0))}function Pc(e,t,n){t instanceof is?e.setSelection(n):t.setTo(n)}function Ic(e,t){if("text"==t.type)return"word"===e.unit?function(e,t){var n=e.position.textNode;if(n)for(var i=e.position.offset-n.startOffset;!Rc(n.data,i,t)&&!Dc(n,i,t);){e.next();var r=t?e.position.nodeAfter:e.position.nodeBefore;if(r&&r.is("text")){var a=r.data.charAt(t?0:r.data.length-1);' ,.?!:;"-()'.includes(a)||(e.next(),n=e.position.textNode)}i=e.position.offset-n.startOffset}return e.position}(e.walker,e.isForward):function(e,t){var n=e.position.textNode;if(n)for(var i=n.data,r=e.position.offset-n.startOffset;kc(i,r)||"character"==t&&yc(i,r);)e.next(),r=e.position.offset-n.startOffset;return e.position}(e.walker,e.unit,e.isForward);if(t.type==(e.isForward?"elementStart":"elementEnd")){if(e.schema.isObject(t.item))return zo._createAt(t.item,e.isForward?"after":"before");if(e.schema.checkChild(t.nextPosition,"$text"))return t.nextPosition}else{if(e.schema.isLimit(t.item))return void e.walker.skip((function(){return!0}));if(e.schema.checkChild(t.nextPosition,"$text"))return t.nextPosition}}function Vc(e,t){var n=e.root,i=zo._createAt(n,t?"end":0);return t?new Uo(e,i):new Uo(i,e)}function Rc(e,t,n){var i=t+(n?0:-1);return' ,.?!:;"-()'.includes(e.charAt(i))}function Dc(e,t,n){return t===(n?e.endOffset:0)}function zc(e,t){var n=[];Array.from(e.getItems({direction:"backward"})).map((function(e){return t.createRangeOn(e)})).filter((function(t){return(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end))})).forEach((function(e){n.push(e.start.parent),t.remove(e)})),n.forEach((function(e){for(var n=e;n.parent&&n.isEmpty;){var i=t.createRangeOn(n);n=n.parent,t.remove(i)}}))}function Bc(e){e.document.registerPostFixer((function(t){return function(e,t){var n,i=t.document.selection,r=t.schema,a=[],o=!1,s=d(i.getRanges());try{for(s.s();!(n=s.n()).done;){var c=n.value,l=Fc(c,r);l&&!l.isEqual(c)?(a.push(l),o=!0):a.push(c)}}catch(u){s.e(u)}finally{s.f()}o&&e.setSelection(function(e){var t=[];t.push(e.shift());var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=t.pop();if(r.isIntersecting(a)){var o=a.start.isAfter(r.start)?r.start:a.start,s=a.end.isAfter(r.end)?a.end:r.end,c=new Uo(o,s);t.push(c)}else t.push(a),t.push(r)}}catch(u){i.e(u)}finally{i.f()}return t}(a),{backward:i.isBackward})}(t,e)}))}function Fc(e,t){return e.isCollapsed?function(e,t){var n=e.start,i=t.getNearestSelectionRange(n);if(!i)return null;if(!i.isCollapsed)return i;var r=i.start;return n.isEqual(r)?null:new Uo(r)}(e,t):function(e,t){var n=e.start,i=e.end,r=t.checkChild(n,"$text"),a=t.checkChild(i,"$text"),o=t.getLimitElement(n),s=t.getLimitElement(i);if(o===s){if(r&&a)return null;if(function(e,t,n){var i=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),r=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return i||r}(n,i,t)){var c=n.nodeAfter&&t.isObject(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),l=i.nodeBefore&&t.isObject(i.nodeBefore)?null:t.getNearestSelectionRange(i,"backward"),u=c?c.start:n,d=l?l.start:i;return new Uo(u,d)}}var h=o&&!o.is("rootElement"),f=s&&!s.is("rootElement");if(h||f){var m=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,p=h&&(!m||!Uc(n.nodeAfter,t)),v=f&&(!m||!Uc(i.nodeBefore,t)),g=n,b=i;return p&&(g=zo._createBefore(Hc(o,t))),v&&(b=zo._createAfter(Hc(s,t))),new Uo(g,b)}return null}(e,t)}function Hc(e,t){for(var n=e,i=n;t.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function Uc(e,t){return e&&t.isObject(e)}var qc=function(){function e(){var t=this;f(this,e),this.markers=new xc,this.document=new wc(this),this.schema=new xs,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(e){return t.decorate(e)})),this.on("applyOperation",(function(e,t){t[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((function(e,t){if("$marker"===t.name)return!0})),Bc(this)}return m(e,[{key:"change",value:function(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Fs,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){Tn.b.rethrowUnexpectedError(e,this)}}},{key:"enqueueChange",value:function(e,t){try{"string"==typeof e?e=new Fs(e):"function"==typeof e&&(t=e,e=new Fs),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){Tn.b.rethrowUnexpectedError(e,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,t,n){return function(e,t,n,i){return e.change((function(r){var a;(a=n?n instanceof Qo||n instanceof is?n:r.createSelection(n,i):e.document.selection).isCollapsed||e.deleteContent(a,{doNotAutoparagraph:!0});var o,s=new Sc(e,r,a.anchor);o=t.is("documentFragment")?t.getChildren():[t],s.handleNodes(o,{isFirst:!0,isLast:!0});var c=s.getSelectionRange();c&&(a instanceof is?r.setSelection(c):a.setTo(c));var l=s.getAffectedRange()||e.createRange(a.anchor);return s.destroy(),l}))}(this,e,t,n)}},{key:"deleteContent",value:function(e,t){Mc(this,e,t)}},{key:"modifySelection",value:function(e,t){!function(e,t){for(var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.schema,a="backward"!=i.direction,o=i.unit?i.unit:"character",s=t.focus,c=new Ro({boundaries:Vc(s,a),singleCharacters:!0,direction:a?"forward":"backward"}),l={walker:c,schema:r,isForward:a,unit:o},u=function(){if(n.done)return{v:void 0};var i=Ic(l,n.value);return i?{v:void(t instanceof is?e.change((function(e){e.setSelectionFocus(i)})):t.setFocus(i))}:void 0};n=c.next();){var d=u();if("object"===typeof d)return d.v}}(this,e,t)}},{key:"getSelectedContent",value:function(e){return function(e,t){return e.change((function(e){var n=e.createDocumentFragment(),i=t.getFirstRange();if(!i||i.isCollapsed)return n;var r,a,o=i.start.root,s=i.start.getCommonPath(i.end),c=o.getNodeByPath(s),l=(r=i.start.parent==i.end.parent?i:e.createRange(e.createPositionAt(c,i.start.path[s.length]),e.createPositionAt(c,i.end.path[s.length]+1))).end.offset-r.start.offset,u=d(r.getItems({shallow:!0}));try{for(u.s();!(a=u.n()).done;){var h=a.value;h.is("textProxy")?e.appendText(h.data,h.getAttributes(),n):e.append(e.cloneElement(h,!0),n)}}catch(p){u.e(p)}finally{u.f()}if(r!=i){var f=i._getTransformedByMove(r.start,e.createPositionAt(n,0),l)[0],m=e.createRange(e.createPositionAt(n,0),f.start);zc(e.createRange(f.end,e.createPositionAt(n,"end")),e),zc(m,e)}return n}))}(this,e)}},{key:"hasContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e instanceof Vo?Uo._createIn(e):e;if(n.isCollapsed)return!1;var i=t.ignoreWhitespaces,r=void 0!==i&&i,a=t.ignoreMarkers;if(void 0===a||!a){var o,s=d(this.markers.getMarkersIntersectingRange(n));try{for(s.s();!(o=s.n()).done;)if(o.value.affectsData)return!0}catch(h){s.e(h)}finally{s.f()}}var c,l=d(n.getItems());try{for(l.s();!(c=l.n()).done;){var u=c.value;if(u.is("textProxy")){if(!r)return!0;if(-1!==u.data.search(/\S/))return!0}else if(this.schema.isObject(u))return!0}}catch(h){l.e(h)}finally{l.f()}return!1}},{key:"createPositionFromPath",value:function(e,t,n){return new zo(e,t,n)}},{key:"createPositionAt",value:function(e,t){return zo._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return zo._createAfter(e)}},{key:"createPositionBefore",value:function(e){return zo._createBefore(e)}},{key:"createRange",value:function(e,t){return new Uo(e,t)}},{key:"createRangeIn",value:function(e){return Uo._createIn(e)}},{key:"createRangeOn",value:function(e){return Uo._createOn(e)}},{key:"createSelection",value:function(e,t,n){return new Qo(e,t,n)}},{key:"createBatch",value:function(e){return new Fs(e)}},{key:"createOperationFromJSON",value:function(e){return function(){function e(){f(this,e)}return m(e,null,[{key:"fromJSON",value:function(e,t){return Oc[e.__className].fromJSON(e,t)}}]),e}().fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var t=this._pendingChanges[0].batch;this._currentWriter=new cc(this,t);var n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]),e}();Bn(qc,ar);var Wc=function(){function e(){f(this,e),this._listener=Object.create(Na)}return m(e,[{key:"listenTo",value:function(e){var t=this;this._listener.listenTo(e,"keydown",(function(e,n){t._listener.fire("_keydown:"+Lr(n),n)}))}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Er(e),r=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(function(e,n){t(n,(function(){n.preventDefault(),n.stopPropagation(),e.stop()})),e.return=!0}),{priority:r})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+Lr(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),e}(),Zc=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this)).editor=e,i}return m(n,[{key:"set",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t){var s=t;t=function(e,t){i.editor.execute(s),t()}}r(a(n.prototype),"set",this).call(this,e,t,o)}}]),n}(Wc),Gc=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,t),this._context=n.context||new Gn({language:n.language}),this._context._addEditor(this,!n.context);var i=Array.from(this.constructor.builtinPlugins||[]);this.config=new wn(n,this.constructor.defaultConfig),this.config.define("plugins",i),this.config.define(this._context._getEditorConfig()),this.plugins=new Hn(this,i,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new ys,this.set("state","initializing"),this.once("ready",(function(){return e.state="ready"}),{priority:"high"}),this.once("destroy",(function(){return e.state="destroyed"}),{priority:"high"}),this.set("isReadOnly",!1),this.model=new qc;var r=new Gi;this.data=new Rs(this.model,r),this.editing=new ks(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Ds([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Zc(this),this.keystrokes.listenTo(this.editing.view.document)}return m(t,[{key:"initPlugins",value:function(){var e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],i=e.get("extraPlugins")||[];return this.plugins.init(t.concat(i),n)}},{key:"destroy",value:function(){var e=this,t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((function(t){return e.once("ready",t)}))),t.then((function(){e.fire("destroy"),e.stopListening(),e.commands.destroy()})).then((function(){return e.plugins.destroy()})).then((function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()})).then((function(){return e._context._removeEditor(e)}))}},{key:"execute",value:function(){try{var t;(t=this.commands).execute.apply(t,arguments)}catch(e){Tn.b.rethrowUnexpectedError(e,this)}}}]),t}();Bn(Gc,ar);var Yc={setData:function(e){this.data.set(e)},getData:function(e){return this.data.get(e)}};function Qc(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}var Kc={updateSourceElement:function(){if(!this.sourceElement)throw new Tn.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);Qc(this.sourceElement,this.data.get())}},$c=function(){function e(){f(this,e)}return m(e,[{key:"getHtml",value:function(e){var t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}]),e}(),Jc=function(){function e(t){f(this,e),this._domParser=new DOMParser,this._domConverter=new _a(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new $c}return m(e,[{key:"toData",value:function(e){var t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}},{key:"toView",value:function(e){var t=this._toDom(e);return this._domConverter.domToView(t)}},{key:"_toDom",value:function(e){for(var t=this._domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),i=t.body.childNodes;i.length>0;)n.appendChild(i[0]);return n}}]),e}(),Xc=function(){function e(t){f(this,e),this.editor=t,this._components=new Map}return m(e,[{key:"names",value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._components.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,i.originalName;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"add",value:function(e,t){if(this.has(e))throw new Tn.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:e});this._components.set(el(e),{callback:t,originalName:e})}},{key:"create",value:function(e){if(!this.has(e))throw new Tn.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:e});return this._components.get(el(e)).callback(this.editor.locale)}},{key:"has",value:function(e){return this._components.has(el(e))}}]),e}();function el(e){return String(e).toLowerCase()}var tl=function(){function e(){f(this,e),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}return m(e,[{key:"add",value:function(e){var t=this;if(this._elements.has(e))throw new Tn.b("focusTracker-add-element-already-exist",this);this.listenTo(e,"focus",(function(){return t._focus(e)}),{useCapture:!0}),this.listenTo(e,"blur",(function(){return t._blur()}),{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((function(){e.focusedElement=null,e.isFocused=!1}),0)}}]),e}();Bn(tl,Na),Bn(tl,ar);var nl=function(){function e(t){var n=this;f(this,e),this.editor=t,this.componentFactory=new Xc(t),this.focusTracker=new tl,this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",(function(){return n.update()}))}return m(e,[{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var e,t=d(this._editableElementsMap.values());try{for(t.s();!(e=t.n()).done;)e.value.ckeditorInstance=null}catch(n){t.e(n)}finally{t.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"element",get:function(){return null}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]),e}();Bn(nl,Ln),n(13);var il=new WeakMap;function rl(e){var t=e.view,n=e.element,i=e.text,r=e.isDirectHost,a=void 0===r||r,o=t.document;il.has(o)||(il.set(o,new Map),o.registerPostFixer((function(e){return ol(o,e)}))),il.get(o).set(n,{text:i,isDirectHost:a}),t.change((function(e){return ol(o,e)}))}function al(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}function ol(e,t){var n,i=il.get(e),r=!1,a=d(i);try{for(a.s();!(n=a.n()).done;){var o=u(n.value,2);sl(t,o[0],o[1])&&(r=!0)}}catch(s){a.e(s)}finally{a.f()}return r}function sl(e,t,n){var i=n.text,r=n.isDirectHost?t:function(e){if(1===e.childCount){var t=e.getChild(0);if(t.is("element")&&!t.is("uiElement"))return t}return null}(t),a=!1;return!!r&&(n.hostElement=r,r.getAttribute("data-placeholder")!==i&&(e.setAttribute("data-placeholder",i,r),a=!0),function(e){if(!e.isAttached())return!1;var t=!Array.from(e.getChildren()).some((function(e){return!e.is("uiElement")})),n=e.document;if(!n.isFocused&&t)return!0;var i=n.selection.anchor;return!(!t||!i||i.parent===e)}(r)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,r)&&(a=!0):al(e,r)&&(a=!0),a)}var cl=function(e){p(n,e);var t=v(n);function n(e,i){var r,a;return f(this,n),(r=t.call(this,e)).view=i,r._toolbarConfig=(a=e.config.get("toolbar"),Array.isArray(a)?{items:a}:a?Object.assign({items:[]},a):{items:[]}),r}return m(n,[{key:"init",value:function(){var e=this.editor,t=this.view,n=e.editing.view,i=t.editable,r=n.document.getRoot();i.name=r.rootName,t.render();var a=i.element;this.setEditableElement(i.name,a),this.focusTracker.add(a),i.bind("isFocused").to(this.focusTracker),n.attachDomRoot(a),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy(),r(a(n.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var e=this.editor,t=this.view,n=t.editable.element,i=e.editing.view,r=t.toolbar;t.panel.bind("isVisible").to(this.focusTracker,"isFocused"),this._toolbarConfig.viewportTopOffset&&(t.viewportTopOffset=this._toolbarConfig.viewportTopOffset),t.listenTo(e.ui,"update",(function(){t.panel.isVisible&&t.panel.pin({target:n,positions:t.panelPositions})})),r.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function(e){var t=e.origin,n=e.originKeystrokeHandler,i=e.originFocusTracker,r=e.toolbar,a=e.beforeFocus,o=e.afterBlur;i.add(r.element),n.set("Alt+F10",(function(e,t){i.isFocused&&!r.focusTracker.isFocused&&(a&&a(),r.focus(),t())})),r.keystrokes.set("Esc",(function(e,n){r.focusTracker.isFocused&&(t.focus(),o&&o(),n())}))}({origin:i,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:r})}},{key:"_initPlaceholder",value:function(){var e=this.editor,t=e.editing.view,n=t.document.getRoot(),i=e.sourceElement,r=e.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder");r&&rl({view:t,element:n,text:r,isDirectHost:!1})}},{key:"element",get:function(){return this.view.editable.element}}]),n}(nl),ll=function(e){p(n,e);var t=v(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return f(this,n),(e=t.call(this,i,{idProperty:"viewUid"})).on("add",(function(t,n,i){e._renderViewIntoCollectionParent(n,i)})),e.on("remove",(function(t,n){n.element&&e._parentElement&&n.element.remove()})),e._parentElement=null,e}return m(n,[{key:"destroy",value:function(){this.map((function(e){return e.destroy()}))}},{key:"setParent",value:function(e){this._parentElement=e;var t,n=d(this);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._renderViewIntoCollectionParent(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"delegate",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length||!n.every((function(e){return"string"==typeof e})))throw new Tn.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:function(t){var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var a,o=i.value,s=d(n);try{for(s.s();!(a=s.n()).done;){var c=a.value;o.delegate(c).to(t)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){r.e(l)}finally{r.f()}e.on("add",(function(e,i){var r,a=d(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.delegate(o).to(t)}}catch(l){a.e(l)}finally{a.f()}})),e.on("remove",(function(e,i){var r,a=d(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.stopDelegating(o,t)}}catch(l){a.e(l)}finally{a.f()}}))}}}},{key:"_renderViewIntoCollectionParent",value:function(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}]),n}(Fn),ul=function(){function e(t){f(this,e),Object.assign(this,yl(kl(t))),this._isRendered=!1,this._revertData=null}return m(e,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new Tn.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(h.mark((function e(t){var n,i,r;return h.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.children){a.next=24;break}n=d(t.children),a.prev=2,n.s();case 4:if((i=n.n()).done){a.next=16;break}if(!Cl(r=i.value)){a.next=11;break}return a.next=9,r;case 9:a.next=14;break;case 11:if(a.t0=Ol(r),!a.t0){a.next=14;break}return a.delegateYield(e(r),"t1",14);case 14:a.next=4;break;case 16:a.next=21;break;case 18:a.prev=18,a.t2=a.catch(2),n.e(a.t2);case 21:return a.prev=21,n.f(),a.finish(21);case 24:case"end":return a.stop()}}),e,null,[[2,18,21,24]])}))(this),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"_renderNode",value:function(e){if(e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new Tn.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:"_renderText",value:function(e){var t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),ml(this.text)?this._bindToObservable({schema:this.text,updater:vl(t),data:e}):t.textContent=this.text.join(""),t}},{key:"_renderAttributes",value:function(e){var t,n,i,r;if(this.attributes){var a=e.node,o=e.revertData;for(t in this.attributes)if(i=a.getAttribute(t),n=this.attributes[t],o&&(o.attributes[t]=i),r=te(n[0])&&n[0].ns?n[0].ns:null,ml(n)){var s=r?n[0].value:n;o&&Al(t)&&s.unshift(i),this._bindToObservable({schema:s,updater:gl(a,t,r),data:e})}else"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(o&&i&&Al(t)&&n.unshift(i),jl(n=n.map((function(e){return e&&e.value||e})).reduce((function(e,t){return e.concat(t)}),[]).reduce(_l,""))||a.setAttributeNS(r,t,n))}}},{key:"_renderStyleAttribute",value:function(e,t){var n=t.node;for(var i in e){var r=e[i];ml(r)?this._bindToObservable({schema:[r],updater:bl(n,i),data:t}):n.style[i]=r}}},{key:"_renderElementChildren",value:function(e){var t,n=e.node,i=e.intoFragment?document.createDocumentFragment():n,r=e.isApplying,a=0,o=d(this.children);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(Nl(s)){if(!r){s.setParent(n);var c,l=d(s);try{for(l.s();!(c=l.n()).done;){var u=c.value;i.appendChild(u.element)}}catch(f){l.e(f)}finally{l.f()}}}else if(Cl(s))r||(s.isRendered||s.render(),i.appendChild(s.element));else if(fa(s))i.appendChild(s);else if(r){var h={children:[],bindings:[],attributes:{}};e.revertData.children.push(h),s._renderNode({node:i.childNodes[a++],isApplying:!0,revertData:h})}else i.appendChild(s.render())}}catch(f){o.e(f)}finally{o.f()}e.intoFragment&&n.appendChild(i)}},{key:"_setUpListeners",value:function(e){var t=this;if(this.eventListeners){var n=function(n){var i=t.eventListeners[n].map((function(t){var i=n.split("@"),r=u(i,2),a=r[0],o=r[1];return t.activateDomEventListener(a,o,e)}));e.revertData&&e.revertData.bindings.push(i)};for(var i in this.eventListeners)n(i)}}},{key:"_bindToObservable",value:function(e){var t=e.schema,n=e.updater,i=e.data,r=i.revertData;pl(t,n,i);var a=t.filter((function(e){return!jl(e)})).filter((function(e){return e.observable})).map((function(e){return e.activateAttributeListener(t,n,i)}));r&&r.bindings.push(a)}},{key:"_revertTemplateFromNode",value:function(e,t){var n,i=d(t.bindings);try{for(i.s();!(n=i.n()).done;){var r,a=n.value,o=d(a);try{for(o.s();!(r=o.n()).done;)(0,r.value)()}catch(u){o.e(u)}finally{o.f()}}}catch(u){i.e(u)}finally{i.f()}if(t.text)e.textContent=t.text;else{for(var s in t.attributes){var c=t.attributes[s];null===c?e.removeAttribute(s):e.setAttribute(s,c)}for(var l=0;l<t.children.length;++l)this._revertTemplateFromNode(e.childNodes[l],t.children[l])}}}],[{key:"bind",value:function(e,t){return{to:function(n,i){return new hl({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i})},if:function(n,i,r){return new fl({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:r})}}}},{key:"extend",value:function(e,t){if(e._isRendered)throw new Tn.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,e]);!function e(t,n){var i;if(n.attributes&&(t.attributes||(t.attributes={}),xl(t.attributes,n.attributes)),n.eventListeners&&(t.eventListeners||(t.eventListeners={}),xl(t.eventListeners,n.eventListeners)),n.text&&(i=t.text).push.apply(i,l(n.text)),n.children&&n.children.length){if(t.children.length!=n.children.length)throw new Tn.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",t);var r,a=0,o=d(n.children);try{for(o.s();!(r=o.n()).done;){var s=r.value;e(t.children[a++],s)}}catch(c){o.e(c)}finally{o.f()}}}(e,yl(kl(t)))}}]),e}();Bn(ul,Ln);var dl=function(){function e(t){f(this,e),Object.assign(this,t)}return m(e,[{key:"getValue",value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:"activateAttributeListener",value:function(e,t,n){var i=this,r=function(){return pl(e,t,n)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,r),function(){i.emitter.stopListening(i.observable,"change:"+i.attribute,r)}}}]),e}(),hl=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"activateDomEventListener",value:function(e,t,n){var i=this,r=function(e,n){t&&!n.target.matches(t)||("function"==typeof i.eventNameOrFunction?i.eventNameOrFunction(n):i.observable.fire(i.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,r),function(){i.emitter.stopListening(n.node,e,r)}}}]),n}(dl),fl=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"getValue",value:function(e){return!jl(r(a(n.prototype),"getValue",this).call(this,e))&&(this.valueIfTrue||!0)}}]),n}(dl);function ml(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(ml):e instanceof dl)}function pl(e,t,n){var i=function(e,t){return e.map((function(e){return e instanceof dl?e.getValue(t):e}))}(e,n.node);jl(i=1==e.length&&e[0]instanceof fl?i[0]:i.reduce(_l,""))?t.remove():t.set(i)}function vl(e){return{set:function(t){e.textContent=t},remove:function(){e.textContent=""}}}function gl(e,t,n){return{set:function(i){e.setAttributeNS(n,t,i)},remove:function(){e.removeAttributeNS(n,t)}}}function bl(e,t){return{set:function(n){e.style[t]=n},remove:function(){e.style[t]=null}}}function kl(e){return kn(e,(function(e){if(e&&(e instanceof dl||Ol(e)||Cl(e)||Nl(e)))return e}))}function yl(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){Array.isArray(e.text)||(e.text=[e.text])}(e),e.on&&(e.eventListeners=function(e){for(var t in e)wl(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(var t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),wl(e,t)}(e.attributes);var t=[];if(e.children)if(Nl(e.children))t.push(e.children);else{var n,i=d(e.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;Ol(r)||Cl(r)||fa(r)?t.push(r):t.push(new ul(r))}}catch(a){i.e(a)}finally{i.f()}}e.children=t}return e}function wl(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function _l(e,t){return jl(t)?e:jl(e)?t:"".concat(e," ").concat(t)}function xl(e,t){for(var n in t){var i;e[n]?(i=e[n]).push.apply(i,l(t[n])):e[n]=t[n]}}function jl(e){return!e&&0!==e}function Cl(e){return e instanceof Tl}function Ol(e){return e instanceof ul}function Nl(e){return e instanceof ll}function Al(e){return"class"==e||"style"==e}n(15);var Tl=function(){function e(t){f(this,e),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Fn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(function(e,n){n.locale=t})),this.decorate("render")}return m(e,[{key:"createCollection",value:function(e){var t=new ll(e);return this._viewCollections.add(t),t}},{key:"registerChild",value:function(e){zn(e)||(e=[e]);var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._unboundChildren.add(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"deregisterChild",value:function(e){zn(e)||(e=[e]);var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._unboundChildren.remove(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setTemplate",value:function(e){this.template=new ul(e)}},{key:"extendTemplate",value:function(e){ul.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new Tn.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map((function(e){return e.destroy()})),this.template&&this.template._revertData&&this.template.revert(this.element)}},{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ul.bind(this,this)}}]),e}();Bn(Tl,Na),Bn(Tl,ar);var Sl=function(e){return"string"==typeof e||!Je(e)&&E(e)&&"[object String]"==S(e)},Ml=function(e){p(n,e);var t=v(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return f(this,n),(i=t.call(this,r)).locale=e,i}return m(n,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new ul({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var e=document.querySelector(".ck-body-wrapper");e||(e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=n&&n.xmlns,a=r?e.createElementNS(r,t):e.createElement(t);for(var o in n)a.setAttribute(o,n[o]);!Sl(i)&&zn(i)||(i=[i]);var s,c=d(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;Sl(l)&&(l=e.createTextNode(l)),a.appendChild(l)}}catch(u){c.e(u)}finally{c.f()}return a}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){r(a(n.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}]),n}(ll);n(17);var Ll=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).body=new Ml(e),i}return m(n,[{key:"render",value:function(){r(a(n.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),r(a(n.prototype),"destroy",this).call(this)}}]),n}(Tl),El=function(e){p(n,e);var t=v(n);function n(e,i,r){var a;return f(this,n),(a=t.call(this,e,i,r)).extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),a}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this);var t=this._editingView,i=this.t;t.change((function(n){var r=t.document.getRoot(e.name);n.setAttribute("aria-label",i("Rich Text Editor, %0",[e.name]),r)}))}}]),n}(function(e){p(n,e);var t=v(n);function n(e,i,r){var a;return f(this,n),(a=t.call(this,e)).setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),a.name=null,a.set("isFocused",!1),a._editableElement=r,a._hasExternalElement=!!a._editableElement,a._editingView=i,a}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(function(){return e._updateIsFocusedClasses()})),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),r(a(n.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var e=this._editingView;function t(t){e.change((function(n){var i=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",i)}))}e.isRenderingInProgress?function n(i){e.once("change:isRenderingInProgress",(function(e,r,a){a?n(i):t(i)}))}(this):t(this)}}]),n}(Tl));function Pl(e){var t=e.element,n=e.target,i=e.positions,r=e.limiter,a=e.fitInViewport;ne(n)&&(n=n()),ne(r)&&(r=r());var o,s,c=function(e){return e&&e.parentNode?e.offsetParent===ba.document.body?null:e.offsetParent:null}(t),l=new bo(t),h=new bo(n);if(r||a){var f=function(e,t){var n=t.elementRect,i=t.viewportRect,r=n.getArea(),a=function(e,t){var n,i=t.targetRect,r=t.elementRect,a=t.limiterRect,o=t.viewportRect,s=[],c=r.getArea(),l=d(e);try{for(l.s();!(n=l.n()).done;){var h=Il(n.value,i,r);if(h){var f=u(h,2),m=f[0],p=f[1],v=0,g=0;if(a)if(o){var b=a.getIntersection(o);b&&(v=b.getIntersectionArea(p))}else v=a.getIntersectionArea(p);o&&(g=o.getIntersectionArea(p));var k={positionName:m,positionRect:p,limiterIntersectArea:v,viewportIntersectArea:g};if(v===c)return[k];s.push(k)}}}catch(y){l.e(y)}finally{l.f()}return s}(e,t);if(i){var o=Vl(a.filter((function(e){return e.viewportIntersectArea===r})),r);if(o)return o}return Vl(a,r)}(i,{targetRect:h,elementRect:l,limiterRect:r&&new bo(r).getVisible(),viewportRect:a&&new bo(ba.window)})||Il(i[0],h,l),m=u(f,2);s=m[0],o=m[1]}else{var p=Il(i[0],h,l),v=u(p,2);s=v[0],o=v[1]}var g=Rl(o);return c&&(g=function(e,t){var n=e.left,i=e.top,r=Rl(new bo(t)),a=vo(t);return n-=r.left,i-=r.top,n+=t.scrollLeft,i+=t.scrollTop,{left:n-=a.left,top:i-=a.top}}(g,c)),{left:g.left,top:g.top,name:s}}function Il(e,t,n){var i=e(t,n);if(!i)return null;var r=i.left,a=i.top;return[i.name,n.clone().moveTo(r,a)]}function Vl(e,t){var n,i,r,a=0,o=d(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,c=s.positionName,l=s.positionRect,u=s.limiterIntersectArea,h=s.viewportIntersectArea;if(u===t)return[c,l];var f=Math.pow(h,2)+Math.pow(u,2);f>a&&(a=f,n=l,i=c)}}catch(m){o.e(m)}finally{o.f()}return n?[i,n]:null}function Rl(e){var t=e.left,n=e.top,i=ba.window;return{left:t+i.scrollX,top:n+i.scrollY}}function Dl(e){return function(t){return t+e}}n(19);var zl=Dl("px"),Bl=ba.document.body,Fl=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.set("top",0),i.set("left",0),i.set("position","arrow_nw"),i.set("isVisible",!1),i.set("withArrow",!0),i.set("class"),i.content=i.createCollection(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",r.to("position",(function(e){return"ck-balloon-panel_"+e})),r.if("isVisible","ck-balloon-panel_visible"),r.if("withArrow","ck-balloon-panel_with-arrow"),r.to("class")],style:{top:r.to("top",zl),left:r.to("left",zl)}},children:i.content}),i}return m(n,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(e){this.show();var t=n.defaultPositions,i=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast],limiter:Bl,fitInViewport:!0},e),r=n._getOptimalPosition(i),a=parseInt(r.left),o=parseInt(r.top),s=r.name;Object.assign(this,{top:o,left:a,position:s})}},{key:"pin",value:function(e){var t=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){t.isVisible?t._startPinning(e):t._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(e){var t=this;this.attachTo(e);var n=Hl(e.target),i=e.limiter?Hl(e.limiter):Bl;this.listenTo(ba.document,"scroll",(function(r,a){var o=a.target,s=n&&o.contains(n),c=i&&o.contains(i);!s&&!c&&n&&i||t.attachTo(e)}),{useCapture:!0}),this.listenTo(ba.window,"resize",(function(){t.attachTo(e)}))}},{key:"_stopPinning",value:function(){this.stopListening(ba.document,"scroll"),this.stopListening(ba.window,"resize")}}]),n}(Tl);function Hl(e){return yn(e)?e:po(e)?e.commonAncestorContainer:"function"==typeof e?Hl(e()):null}function Ul(e,t){return e.top-t.height-Fl.arrowVerticalOffset}function ql(e){return e.bottom+Fl.arrowVerticalOffset}Fl.arrowHorizontalOffset=25,Fl.arrowVerticalOffset=10,Fl._getOptimalPosition=Pl,Fl.defaultPositions={northWestArrowSouthWest:function(e,t){return{top:Ul(e,t),left:e.left-Fl.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(e,t){return{top:Ul(e,t),left:e.left-.25*t.width-Fl.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(e,t){return{top:Ul(e,t),left:e.left-t.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(e,t){return{top:Ul(e,t),left:e.left-.75*t.width+Fl.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(e,t){return{top:Ul(e,t),left:e.left-t.width+Fl.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(e,t){return{top:Ul(e,t),left:e.left+e.width/2-Fl.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(e,t){return{top:Ul(e,t),left:e.left+e.width/2-.25*t.width-Fl.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(e,t){return{top:Ul(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(e,t){return{top:Ul(e,t),left:e.left+e.width/2-.75*t.width+Fl.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(e,t){return{top:Ul(e,t),left:e.left+e.width/2-t.width+Fl.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(e,t){return{top:Ul(e,t),left:e.right-Fl.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(e,t){return{top:Ul(e,t),left:e.right-.25*t.width-Fl.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(e,t){return{top:Ul(e,t),left:e.right-t.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(e,t){return{top:Ul(e,t),left:e.right-.75*t.width+Fl.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(e,t){return{top:Ul(e,t),left:e.right-t.width+Fl.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(e,t){return{top:ql(e),left:e.left-Fl.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(e,t){return{top:ql(e),left:e.left-.25*t.width-Fl.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(e,t){return{top:ql(e),left:e.left-t.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(e,t){return{top:ql(e),left:e.left-.75*t.width+Fl.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(e,t){return{top:ql(e),left:e.left-t.width+Fl.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(e,t){return{top:ql(e),left:e.left+e.width/2-Fl.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(e,t){return{top:ql(e),left:e.left+e.width/2-.25*t.width-Fl.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(e,t){return{top:ql(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(e,t){return{top:ql(e),left:e.left+e.width/2-.75*t.width+Fl.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(e,t){return{top:ql(e),left:e.left+e.width/2-t.width+Fl.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(e,t){return{top:ql(e),left:e.right-Fl.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(e,t){return{top:ql(e),left:e.right-.25*t.width-Fl.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(e,t){return{top:ql(e),left:e.right-t.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(e,t){return{top:ql(e),left:e.right-.75*t.width+Fl.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(e,t){return{top:ql(e),left:e.right-t.width+Fl.arrowHorizontalOffset,name:"arrow_ne"}}};var Wl=function(){function e(t){var n=this;if(f(this,e),Object.assign(this,t),t.actions&&t.keystrokeHandler){var i=function(e){var i=t.actions[e];"string"==typeof i&&(i=[i]);var r,a=d(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;t.keystrokeHandler.set(o,(function(t,i){n[e](),i()}))}}catch(s){a.e(s)}finally{a.f()}};for(var r in t.actions)i(r)}}return m(e,[{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var t=this.current,n=this.focusables.length;if(!n)return null;if(null===t)return this[1===e?"first":"last"];var i=(t+n+e)%n;do{var r=this.focusables.get(i);if(Zl(r))return r;i=(i+n+e)%n}while(i!==t);return null}},{key:"first",get:function(){return this.focusables.find(Zl)||null}},{key:"last",get:function(){return this.focusables.filter(Zl).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var e=this,t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((function(n,i){var r=n.element===e.focusTracker.focusedElement;return r&&(t=i),r})),t)}}]),e}();function Zl(e){return!(!e.focus||"none"==ba.window.getComputedStyle(e.element).display)}var Gl=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),i}return n}(Tl),Yl=function(){function e(t,n){f(this,e),e._observerInstance||e._createObserver(),this._element=t,this._callback=n,e._addElementCallback(t,n),e._observerInstance.observe(t)}return m(e,[{key:"destroy",value:function(){e._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(t,n){e._elementCallbacks||(e._elementCallbacks=new Map);var i=e._elementCallbacks.get(t);i||(i=new Set,e._elementCallbacks.set(t,i)),i.add(n)}},{key:"_deleteElementCallback",value:function(t,n){var i=e._getElementCallbacks(t);i&&(i.delete(n),i.size||(e._elementCallbacks.delete(t),e._observerInstance.unobserve(t))),e._elementCallbacks&&!e._elementCallbacks.size&&(e._observerInstance=null,e._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(t){return e._elementCallbacks?e._elementCallbacks.get(t):null}},{key:"_createObserver",value:function(){var t;t="function"==typeof ba.window.ResizeObserver?ba.window.ResizeObserver:Ql,e._observerInstance=new t((function(t){var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.target.offsetParent){var a=e._getElementCallbacks(r.target);if(a){var o,s=d(a);try{for(s.s();!(o=s.n()).done;)(0,o.value)(r)}catch(c){s.e(c)}finally{s.f()}}}}}catch(c){i.e(c)}finally{i.f()}}))}}]),e}();Yl._observerInstance=null,Yl._elementCallbacks=null;var Ql=function(){function e(t){f(this,e),this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return m(e,[{key:"observe",value:function(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var e=this,t=function t(){e._checkElementRectsAndExecuteCallback(),e._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(ba.window,"resize",(function(){e._checkElementRectsAndExecuteCallback()})),this._periodicCheckTimeout=setTimeout(t,100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var e,t=[],n=d(this._elements);try{for(n.s();!(e=n.n()).done;){var i=e.value;this._hasRectChanged(i)&&t.push({target:i,contentRect:this._previousRects.get(i)})}}catch(r){n.e(r)}finally{n.f()}t.length&&this._callback(t)}},{key:"_hasRectChanged",value:function(e){if(!e.ownerDocument.body.contains(e))return!1;var t=new bo(e),n=this._previousRects.get(e),i=!n||!n.isEqual(t);return this._previousRects.set(e,t),i}}]),e}();Bn(Ql,Na);var Kl=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.set("isVisible",!1),i.set("position","se"),i.children=i.createCollection(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",(function(e){return"ck-dropdown__panel_"+e})),r.if("isVisible","ck-dropdown__panel-visible")]},children:i.children,on:{selectstart:r.to((function(e){return e.preventDefault()}))}}),i}return m(n,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}]),n}(Tl);n(21);var $l=function(e){p(n,e);var t=v(n);function n(e,i,r){var a;f(this,n);var o=(a=t.call(this,e)).bindTemplate;return a.buttonView=i,a.panelView=r,a.set("isOpen",!1),a.set("isEnabled",!0),a.set("class"),a.set("id"),a.set("panelPosition","auto"),a.keystrokes=new Wc,a.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",(function(e){return!e}))],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[i,r]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),a}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",(function(){e.isOpen=!e.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(function(){e.isOpen&&("auto"===e.panelPosition?e.panelView.position=n._getOptimalPosition({element:e.panelView.element,target:e.buttonView.element,fitInViewport:!0,positions:e._panelPositions}).name:e.panelView.position=e.panelPosition)})),this.keystrokes.listenTo(this.element);var t=function(t,n){e.isOpen&&(e.buttonView.focus(),e.isOpen=!1,n())};this.keystrokes.set("arrowdown",(function(t,n){e.buttonView.isEnabled&&!e.isOpen&&(e.isOpen=!0,n())})),this.keystrokes.set("arrowright",(function(t,n){e.isOpen&&n()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var e=n.defaultPanelPositions,t=e.southEast,i=e.southWest,r=e.northEast,a=e.northWest;return"ltr"===this.locale.uiLanguageDirection?[t,i,r,a]:[i,t,a,r]}}]),n}(Tl);$l.defaultPanelPositions={southEast:function(e){return{top:e.bottom,left:e.left,name:"se"}},southWest:function(e,t){return{top:e.bottom,left:e.left-t.width+e.width,name:"sw"}},northEast:function(e,t){return{top:e.top-t.height,left:e.left,name:"ne"}},northWest:function(e,t){return{top:e.bottom-t.height,left:e.left-t.width+e.width,name:"nw"}}},$l._getOptimalPosition=Pl,n(23);var Jl=function(e){p(n,e);var t=v(n);function n(){var e;f(this,n);var i=(e=t.call(this)).bindTemplate;return e.set("content",""),e.set("viewBox","0 0 20 20"),e.set("fillColor",""),e.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:i.to("viewBox")}}),e}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(function(){e._updateXMLContent(),e._colorFillPaths()})),this.on("change:fillColor",(function(){e._colorFillPaths()}))}},{key:"_updateXMLContent",value:function(){if(this.content){var e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");for(t&&(this.viewBox=t),this.element.innerHTML="";e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var e=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((function(t){t.style.fill=e.fillColor}))}}]),n}(Tl);n(25);var Xl=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n),(i=t.call(this,e)).set("text",""),i.set("position","s");var r=i.bindTemplate;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",r.to("position",(function(e){return"ck-tooltip_"+e})),r.if("text","ck-hidden",(function(e){return!e.trim()}))]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:r.to("text")}]}]}),i}return n}(Tl);n(27);var eu=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate,a=Nn();return i.set("class"),i.set("labelStyle"),i.set("icon"),i.set("isEnabled",!0),i.set("isOn",!1),i.set("isVisible",!0),i.set("isToggleable",!1),i.set("keystroke"),i.set("label"),i.set("tabindex",-1),i.set("tooltip"),i.set("tooltipPosition","s"),i.set("type","button"),i.set("withText",!1),i.set("withKeystroke",!1),i.children=i.createCollection(),i.tooltipView=i._createTooltipView(),i.labelView=i._createLabelView(a),i.iconView=new Jl,i.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),i.keystrokeView=i._createKeystrokeView(),i.bind("_tooltipString").to(o(i),"tooltip",o(i),"label",o(i),"keystroke",i._getTooltipString.bind(o(i))),i.setTemplate({tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",(function(e){return!e})),r.if("isVisible","ck-hidden",(function(e){return!e})),r.to("isOn",(function(e){return e?"ck-on":"ck-off"})),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],type:r.to("type",(function(e){return e||"button"})),tabindex:r.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+a,"aria-disabled":r.if("isEnabled",!0,(function(e){return!e})),"aria-pressed":r.to("isOn",(function(e){return!!i.isToggleable&&String(e)}))},children:i.children,on:{mousedown:r.to((function(e){e.preventDefault()})),click:r.to((function(e){i.isEnabled?i.fire("execute"):e.preventDefault()}))}}),i}return m(n,[{key:"render",value:function(){r(a(n.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var e=new Xl;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}},{key:"_createLabelView",value:function(e){var t=new Tl,n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:"ck-editor__aria-label_"+e},children:[{text:this.bindTemplate.to("label")}]}),t}},{key:"_createKeystrokeView",value:function(){var e=new Tl;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(function(e){return Pr(e)}))}]}),e}},{key:"_getTooltipString",value:function(e,t,n){return e?"string"==typeof e?e:(n&&(n=Pr(n)),e instanceof Function?e(t,n):"".concat(t).concat(n?" (".concat(n,")"):"")):""}}]),n}(Tl),tu='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',nu=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).arrowView=i._createArrowView(),i.extendTemplate({attributes:{"aria-haspopup":!0}}),i.delegate("execute").to(o(i),"open"),i}return m(n,[{key:"render",value:function(){r(a(n.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var e=new Jl;return e.content=tu,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}]),n}(eu);n(29);var iu=function(e){p(n,e);var t=v(n);function n(){var e;return f(this,n),(e=t.call(this)).items=e.createCollection(),e.focusTracker=new tl,e.keystrokes=new Wc,e._focusCycler=new Wl({focusables:e.items,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),e.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:e.items}),e}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this);var t,i=d(this.items);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.focusTracker.add(o.element)}}catch(s){i.e(s)}finally{i.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),n}(Tl),ru=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).children=i.createCollection(),i.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:i.children}),i}return m(n,[{key:"focus",value:function(){this.children.first.focus()}}]),n}(Tl),au=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),i}return n}(Tl);n(31);var ou=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).isToggleable=!0,i.toggleSwitchView=i._createToggleView(),i.extendTemplate({attributes:{class:"ck-switchbutton"}}),i}return m(n,[{key:"render",value:function(){r(a(n.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var e=new Tl;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}]),n}(eu);function su(e){var t=e.emitter,n=e.activator,i=e.callback,r=e.contextElements;t.listenTo(document,"mousedown",(function(e,t){var a=t.target;if(n()){var o,s=d(r);try{for(s.s();!(o=s.n()).done;)if(o.value.contains(a))return}catch(c){s.e(c)}finally{s.f()}i()}}))}function cu(e){var t=new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:nu)(e),n=new Kl(e),i=new $l(e,t,n);return t.bind("isEnabled").to(i),t instanceof nu?t.bind("isOn").to(i,"isOpen"):t.arrowView.bind("isOn").to(i,"isOpen"),function(e){(function(e){e.on("render",(function(){su({emitter:e,activator:function(){return e.isOpen},callback:function(){e.isOpen=!1},contextElements:[e.element]})}))})(e),function(e){e.on("execute",(function(t){t.source instanceof ou||(e.isOpen=!1)}))}(e),function(e){e.keystrokes.set("arrowdown",(function(t,n){e.isOpen&&(e.panelView.focus(),n())})),e.keystrokes.set("arrowup",(function(t,n){e.isOpen&&(e.panelView.focusLast(),n())}))}(e)}(i),i}function lu(e,t){var n=e.locale,i=n.t,r=e.toolbarView=new du(n);r.set("ariaLabel",i("Dropdown toolbar")),e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.map((function(e){return r.items.add(e)})),e.panelView.children.add(r),r.items.delegate("execute").to(e)}function uu(e,t){var n=e.locale,i=e.listView=new iu(n);i.items.bindTo(t).using((function(e){var t=e.type,i=e.model;if("separator"===t)return new au(n);if("button"===t||"switchbutton"===t){var r,a,o=new ru(n);return(r=a="button"===t?new eu(n):new ou(n)).bind.apply(r,l(Object.keys(i))).to(i),a.delegate("execute").to(o),o.children.add(a),o}})),e.panelView.children.add(i),i.items.delegate("execute").to(e)}n(33),n(35),n(37);var du=function(e){p(n,e);var t=v(n);function n(e,i){var r;f(this,n);var a,s=(r=t.call(this,e)).bindTemplate,c=r.t;return r.options=i||{},r.set("ariaLabel",c("Editor toolbar")),r.set("maxWidth","auto"),r.items=r.createCollection(),r.focusTracker=new tl,r.keystrokes=new Wc,r.set("class"),r.set("isCompact",!1),r.itemsView=new hu(e),r.children=r.createCollection(),r.children.add(r.itemsView),r.focusables=r.createCollection(),r._focusCycler=new Wl({focusables:r.focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),r.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")}},children:r.children,on:{mousedown:(a=o(r),a.bindTemplate.to((function(e){e.target===a.element&&e.preventDefault()})))}}),r._behavior=r.options.shouldGroupWhenFull?new mu(o(r)):new fu(o(r)),r}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this);var t,i=d(this.items);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.focusTracker.add(o.element)}}catch(s){i.e(s)}finally{i.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),r(a(n.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(e,t){var n=this;e.map((function(e){"|"==e?n.items.add(new Gl):t.has(e)?n.items.add(t.create(e)):console.warn(Object(Tn.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:e})}))}}]),n}(Tl),hu=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).children=i.createCollection(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:i.children}),i}return n}(Tl),fu=function(){function e(t){f(this,e);var n=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((function(e){return e})),t.focusables.bindTo(t.items).using((function(e){return e})),t.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}return m(e,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),e}(),mu=function(){function e(t){var n=this;f(this,e),this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using((function(e){return e})),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("add",(function(e,t,i){i>n.ungroupedItems.length?n.groupedItems.add(t,i-n.ungroupedItems.length):n.ungroupedItems.add(t,i),n._updateGrouping()})),t.items.on("remove",(function(e,t,i){i>n.ungroupedItems.length?n.groupedItems.remove(t):n.ungroupedItems.remove(t),n._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return m(e,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(this.viewElement.offsetParent){for(var e;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_enableGroupingOnResize",value:function(){var e,t=this;this.resizeObserver=new Yl(this.viewElement,(function(n){e&&e===n.contentRect.width&&!t.shouldUpdateGroupingOnNextResize||(t.shouldUpdateGroupingOnNextResize=!1,t._updateGrouping(),e=n.contentRect.width)})),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var t=this;e.on("change:maxWidth",(function(){t._updateGrouping()}))}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new Gl),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,t=e.t,n=cu(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",lu(n,[]),n.buttonView.set({label:t("Show more items"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using((function(e){return e})),n}},{key:"_updateFocusCycleableItems",value:function(){var e=this;this.viewFocusables.clear(),this.ungroupedItems.map((function(t){e.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new bo(e.lastChild),i=new bo(e);if(!this.cachedPadding){var r=ba.window.getComputedStyle(e),a="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[a])}return"ltr"===t?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}}]),e}(),pu=Dl("px"),vu=function(e){p(n,e);var t=v(n);function n(e,i,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return f(this,n),(a=t.call(this,e)).toolbar=new du(e,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),a.set("viewportTopOffset",0),a.toolbar.extendTemplate({attributes:{class:["ck-toolbar_floating"]}}),a.panel=new Fl(e),a.panel.withArrow=!1,a.panelPositions=a._getPanelPositions(),a.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),a.editable=new El(e,i,r),a._resizeObserver=null,a}return m(n,[{key:"render",value:function(){var e=this;if(r(a(n.prototype),"render",this).call(this),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar),this.toolbar.options.shouldGroupWhenFull){var t=this.editable.element;this._resizeObserver=new Yl(t,(function(){e.toolbar.maxWidth=pu(new bo(t).width)}))}}},{key:"destroy",value:function(){r(a(n.prototype),"destroy",this).call(this),this._resizeObserver&&this._resizeObserver.destroy()}},{key:"_getPanelPositionTop",value:function(e,t){return e.top>t.height+this.viewportTopOffset?e.top-t.height:e.bottom>t.height+this.viewportTopOffset+50?this.viewportTopOffset:e.bottom}},{key:"_getPanelPositions",value:function(){var e=this,t=[function(t,n){return{top:e._getPanelPositionTop(t,n),left:t.left,name:"toolbar_west"}},function(t,n){return{top:e._getPanelPositionTop(t,n),left:t.left+t.width-n.width,name:"toolbar_east"}}];return"ltr"===this.locale.uiLanguageDirection?t:t.reverse()}}]),n}(Ll),gu=function(e){p(n,e);var t=v(n);function n(e,i){var r;f(this,n),(r=t.call(this,i)).data.processor=new Jc(r.data.viewDocument),r.model.document.createRoot(),yn(e)&&(r.sourceElement=e,function(e){var t=e.sourceElement;if(t){if(t.ckeditorInstance)throw new Tn.b("editor-source-element-already-used: The DOM element cannot be used to create multiple editor instances.",e);t.ckeditorInstance=e,e.once("destroy",(function(){delete t.ckeditorInstance}))}}(o(r)));var a=!r.config.get("toolbar.shouldNotGroupWhenFull"),s=new vu(r.locale,r.editing.view,r.sourceElement,{shouldToolbarGroupWhenFull:a});return r.ui=new cl(o(r),s),function(e){if(!ne(e.updateSourceElement))throw new Tn.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",e);var t=e.sourceElement;if(t&&"textarea"===t.tagName.toLowerCase()&&t.form){var n,i=t.form,r=function(){return e.updateSourceElement()};ne(i.submit)&&(n=i.submit,i.submit=function(){r(),n.apply(i)}),i.addEventListener("submit",r),e.on("destroy",(function(){i.removeEventListener("submit",r),n&&(i.submit=n)}))}}(o(r)),r}return m(n,[{key:"destroy",value:function(){var e=this,t=this.getData();return this.ui.destroy(),r(a(n.prototype),"destroy",this).call(this).then((function(){e.sourceElement&&Qc(e.sourceElement,t)}))}}],[{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i){var r=yn(e);if(r&&"TEXTAREA"===e.tagName)throw new Tn.b("editor-wrong-element: This type of editor cannot be initialized inside <textarea> element.",null);var a=new t(e,n);i(a.initPlugins().then((function(){a.ui.init()})).then((function(){if(!r&&n.initialData)throw new Tn.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);var t=n.initialData||function(e){return yn(e)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e;var t}(e);return a.data.init(t)})).then((function(){return a.fire("ready")})).then((function(){return a})))}))}}]),n}(Gc);Bn(gu,Yc),Bn(gu,Kc);var bu=function(){function e(t){f(this,e),this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}return m(e,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",ku,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",ku),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),e}();function ku(e){e.return=!1,e.stop()}Bn(bu,ar);var yu=function(){function e(t){f(this,e),this.files=function(e){var t=e.files?Array.from(e.files):[],n=e.items?Array.from(e.items):[];return t.length?t:n.filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()}))}(t),this._native=t}return m(e,[{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,t){this._native.setData(e,t)}},{key:"types",get:function(){return this._native.types}}]),e}(),wu=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).document;function a(e,t){t.preventDefault();var n=t.dropRange?[t.dropRange]:Array.from(r.selection.getRanges()),i=new Cn(r,"clipboardInput");r.fire(i,{dataTransfer:t.dataTransfer,targetRanges:n}),i.stop.called&&t.stopPropagation()}return i.domEventType=["paste","copy","cut","drop","dragover"],i.listenTo(r,"paste",a,{priority:"low"}),i.listenTo(r,"drop",a,{priority:"low"}),i}return m(n,[{key:"onDomEvent",value:function(e){var t={dataTransfer:new yu(e.clipboardData?e.clipboardData:e.dataTransfer)};"drop"==e.type&&(t.dropRange=function(e,t){var n,i=t.target.ownerDocument,r=t.clientX,a=t.clientY;return i.caretRangeFromPoint&&i.caretRangeFromPoint(r,a)?n=i.caretRangeFromPoint(r,a):t.rangeParent&&((n=i.createRange()).setStart(t.rangeParent,t.rangeOffset),n.collapse(!0)),n?e.domConverter.domRangeToView(n):e.document.selection.getFirstRange()}(this.view,e)),this.fire(e.type,e,t)}}]),n}($a),_u=["figcaption","li"],xu=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document,i=t.editing.view,r=i.document;function a(e,i){var a=i.dataTransfer;i.preventDefault();var o=t.data.toView(t.model.getSelectedContent(n.selection));r.fire("clipboardOutput",{dataTransfer:a,content:o,method:e.name})}this._htmlDataProcessor=new Jc(r),i.addObserver(wu),this.listenTo(r,"clipboardInput",(function(e){t.isReadOnly&&e.stop()}),{priority:"highest"}),this.listenTo(r,"clipboardInput",(function(t,n){var r,a=n.dataTransfer,o="";a.getData("text/html")?o=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1==t.length?" ":t}))}(a.getData("text/html")):a.getData("text/plain")&&((r=(r=a.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(r="<p>".concat(r,"</p>")),o=r),o=e._htmlDataProcessor.toView(o);var s=new Cn(e,"inputTransformation");e.fire(s,{content:o,dataTransfer:a}),s.stop.called&&t.stop(),i.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",(function(t,n){if(!n.content.isEmpty){var i=e.editor.data,r=e.editor.model,a=i.toModel(n.content,"$clipboardHolder");if(0==a.childCount)return;r.insertContent(a),t.stop()}}),{priority:"low"}),this.listenTo(r,"copy",a,{priority:"low"}),this.listenTo(r,"cut",(function(e,n){t.isReadOnly?n.preventDefault():a(e,n)}),{priority:"low"}),this.listenTo(r,"clipboardOutput",(function(i,r){r.content.isEmpty||(r.dataTransfer.setData("text/html",e._htmlDataProcessor.toData(r.content)),r.dataTransfer.setData("text/plain",function e(t){var n="";if(t.is("text")||t.is("textProxy"))n=t.data;else if(t.is("img")&&t.hasAttribute("alt"))n=t.getAttribute("alt");else{var i,r=null,a=d(t.getChildren());try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e(o);r&&(r.is("containerElement")||o.is("containerElement"))&&(_u.includes(r.name)||_u.includes(o.name)?n+="\n":n+="\n\n"),n+=s,r=o}}catch(c){a.e(c)}finally{a.f()}}return n}(r.content))),"cut"==r.method&&t.model.deleteContent(n.selection)}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Clipboard"}}]),n}(bu),ju=function(){function e(t){var n=this;f(this,e),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(function(){n.refresh()})),this.on("execute",(function(e){n.isEnabled||e.stop()}),{priority:"high"}),this.listenTo(t,"change:isReadOnly",(function(e,t,i){i?n.forceDisabled("readOnlyMode"):n.clearForceDisabled("readOnlyMode")}))}return m(e,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Cu,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Cu),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),e}();function Cu(e){e.return=!1,e.stop()}function Ou(e,t){var n,i,r;return h.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=d(t),a.prev=1,n.s();case 3:if((i=n.n()).done){a.next=11;break}if(r=i.value,a.t0=r&&e.getAttributeProperties(r[0]).copyOnEnter,!a.t0){a.next=9;break}return a.next=9,r;case 9:a.next=3;break;case 11:a.next=16;break;case 13:a.prev=13,a.t1=a.catch(1),n.e(a.t1);case 16:return a.prev=16,n.f(),a.finish(16);case 19:case"end":return a.stop()}}),k,null,[[1,13,16,19]])}Bn(ju,ar);var Nu=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(i){!function(e,t,n,i){var r=n.isCollapsed,a=n.getFirstRange(),o=a.start.parent,s=a.end.parent;if(i.isLimit(o)||i.isLimit(s))r||o!=s||e.deleteContent(n);else if(r){var c=Ou(t.model.schema,n.getAttributes());Au(t,a.start),t.setSelectionAttribute(c)}else{var l=!(a.start.isAtStart&&a.end.isAtEnd),u=o==s;e.deleteContent(n,{leaveUnmerged:l}),l&&(u?Au(t,n.focus):t.setSelection(s,0))}}(e.editor.model,i,n.selection,t.schema),e.fire("afterExecute",{writer:i})}))}}]),n}(ju);function Au(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}var Tu=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).document;return r.on("keydown",(function(e,t){var n;i.isEnabled&&t.keyCode==Mr.enter&&(r.once("enter",(function(e){return n=e}),{priority:"highest"}),r.fire("enter",new Ka(r,t.domEvent,{isSoft:t.shiftKey})),n&&n.stop.called&&e.stop())})),i}return m(n,[{key:"observe",value:function(){}}]),n}(Sa),Su=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;t.addObserver(Tu),e.commands.add("enter",new Nu(e)),this.listenTo(n,"enter",(function(n,i){i.preventDefault(),i.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),n}(bu),Mu=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(i){!function(e,t,n){var i=n.isCollapsed,r=n.getFirstRange(),a=r.start.parent,o=r.end.parent,s=a==o;if(i){var c=Ou(e.schema,n.getAttributes());Lu(e,t,r.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(c)}else{var l=!(r.start.isAtStart&&r.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:l}),s?Lu(e,t,n.focus):l&&t.setSelection(o,0)}}(t,i,n.selection),e.fire("afterExecute",{writer:i})}))}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;var n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;var i=t.getFirstRange(),r=i.start.parent,a=i.end.parent;return!Eu(r,e)&&!Eu(a,e)||r===a}(e.schema,t.selection)}}]),n}(ju);function Lu(e,t,n){var i=t.createElement("softBreak");e.insertContent(i,n),t.setSelection(i,"after")}function Eu(e,t){return!e.is("rootElement")&&(t.isLimit(e)||Eu(e.parent,t))}var Pu=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.conversion,i=e.editing.view,r=i.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:function(e,t){return t.createEmptyElement("br")}}),i.addObserver(Tu),e.commands.add("shiftEnter",new Mu(e)),this.listenTo(r,"enter",(function(t,n){n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),i.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),n}(bu),Iu=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"execute",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!Vu(e.schema,n))do{if(!(n=n.parent))return}while(!Vu(e.schema,n));e.change((function(e){e.setSelection(n,"in")}))}}]),n}(ju);function Vu(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}for(var Ru=Er("Ctrl+A"),Du=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new Iu(e)),this.listenTo(t,"keydown",(function(t,n){Lr(n)===Ru&&(e.execute("selectAll"),n.preventDefault())}))}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),n}(bu),zu=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor;t.ui.componentFactory.add("selectAll",(function(n){var i=t.commands.get("selectAll"),r=new eu(n),a=n.t;return r.set({label:a("Select all"),icon:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(r,"execute",(function(){t.execute("selectAll"),t.editing.view.focus()})),r}))}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),n}(bu),Bu=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Du,zu]}},{key:"pluginName",get:function(){return"SelectAll"}}]),n}(bu),Fu=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;f(this,e),this.model=t,this.size=0,this.limit=i,this.isLocked=!1,this._changeCallback=function(e,t){"transparent"!=t.type&&t!==n._batch&&n._reset(!0)},this._selectionChangeCallback=function(){n._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return m(e,[{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}},{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}}]),e}(),Hu=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e))._buffer=new Fu(e.model,i),r._batches=new WeakSet,r}return m(n,[{key:"destroy",value:function(){r(a(n.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document,r=t.text||"",a=r.length,o=t.range?n.createSelection(t.range):i.selection,s=t.resultRange;n.enqueueChange(this._buffer.batch,(function(t){e._buffer.lock(),n.deleteContent(o),r&&n.insertContent(t.createText(r,i.selection.getAttributes()),o),s?t.setSelection(s):o.is("documentSelection")||t.setSelection(o),e._buffer.unlock(),e._buffer.input(a),e._batches.add(e._buffer.batch)}))}},{key:"buffer",get:function(){return this._buffer}}]),n}(ju),Uu=[Lr("arrowUp"),Lr("arrowRight"),Lr("arrowDown"),Lr("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],qu=112;qu<=135;qu++)Uu.push(qu);function Wu(e){return!!e.ctrlKey||Uu.includes(e.keyCode)}function Zu(e){if(e.newChildren.length-e.oldChildren.length==1){var t=function(e,t){var n,i=[],r=0;return e.forEach((function(e){"equal"==e?(a(),r++):"insert"==e?(o("insert")?n.values.push(t[r]):(a(),n={type:"insert",index:r,values:[t[r]]}),r++):o("delete")?n.howMany++:(a(),n={type:"delete",index:r,howMany:1})})),a(),i;function a(){n&&(i.push(n),n=null)}function o(e){return n&&n.type==e}}(ua(e.oldChildren,e.newChildren,Gu),e.newChildren);if(!(t.length>1)){var n=t[0];return n.values[0]&&n.values[0].is("text")?n:void 0}}}function Gu(e,t){return e&&e.is("text")&&t&&t.is("text")?e.data===t.data:e===t}var Yu=function(){function e(t){f(this,e),this.editor=t,this.editing=this.editor.editing}return m(e,[{key:"handle",value:function(e,t){if(function(e){if(0==e.length)return!1;var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("children"===i.type&&!Zu(i))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}(e))this._handleContainerChildrenMutations(e,t);else{var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._handleTextMutation(r,t),this._handleTextNodeInsertion(r)}}catch(a){i.e(a)}finally{i.f()}}}},{key:"_handleContainerChildrenMutations",value:function(e,t){var n=function(e){var t=e.map((function(e){return e.node})).reduce((function(e,t){return e.getCommonAncestor(t,{includeSelf:!0})}));if(t)return t.getAncestors({includeSelf:!0,parentFirst:!0}).find((function(e){return e.is("containerElement")||e.is("rootElement")}))}(e);if(n){var i=this.editor.editing.view.domConverter.mapViewToDom(n),r=new _a(this.editor.editing.view.document),a=this.editor.data.toModel(r.domToView(i)).getChild(0),o=this.editor.editing.mapper.toModelElement(n);if(o){var s=Array.from(a.getChildren()),c=Array.from(o.getChildren()),l=s[s.length-1],u=c[c.length-1];l&&l.is("softBreak")&&u&&!u.is("softBreak")&&s.pop();var d=this.editor.model.schema;if(Qu(s,d)&&Qu(c,d)){var h=s.map((function(e){return e.is("text")?e.data:"@"})).join("").replace(/\u00A0/g," "),f=c.map((function(e){return e.is("text")?e.data:"@"})).join("").replace(/\u00A0/g," ");if(f!==h){var m=Ku(ua(f,h)),p=m.firstChangeAt,v=m.insertions,g=m.deletions,b=null;t&&(b=this.editing.mapper.toModelRange(t.getFirstRange()));var k=h.substr(p,v),y=this.editor.model.createRange(this.editor.model.createPositionAt(o,p),this.editor.model.createPositionAt(o,p+g));this.editor.execute("input",{text:k,range:y,resultRange:b})}}}}}},{key:"_handleTextMutation",value:function(e,t){if("text"==e.type){var n=e.newText.replace(/\u00A0/g," "),i=e.oldText.replace(/\u00A0/g," ");if(i!==n){var r=Ku(ua(i,n)),a=r.firstChangeAt,o=r.insertions,s=r.deletions,c=null;t&&(c=this.editing.mapper.toModelRange(t.getFirstRange()));var l=this.editing.view.createPositionAt(e.node,a),u=this.editing.mapper.toModelPosition(l),d=this.editor.model.createRange(u,u.getShiftedBy(s)),h=n.substr(a,o);this.editor.execute("input",{text:h,range:d,resultRange:c})}}}},{key:"_handleTextNodeInsertion",value:function(e){if("children"==e.type){var t=Zu(e),n=this.editing.view.createPositionAt(e.node,t.index),i=this.editing.mapper.toModelPosition(n),r=t.values[0].data;this.editor.execute("input",{text:r.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}}]),e}();function Qu(e,t){return e.every((function(e){return t.isInline(e)}))}function Ku(e){for(var t=null,n=null,i=0;i<e.length;i++)"equal"!=e[i]&&(t=null===t?i:t,n=i);for(var r=0,a=0,o=t;o<=n;o++)"insert"!=e[o]&&r++,"delete"!=e[o]&&a++;return{insertions:a,deletions:r,firstChangeAt:t}}var $u=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=new Hu(e,e.config.get("typing.undoStep")||20);e.commands.add("input",t),function(e){var t=null,n=e.model,i=e.editing.view,r=e.commands.get("input");function a(e){var a=n.document,s=i.document.isComposing,c=t&&t.isEqual(a.selection);t=null,r.isEnabled&&(Wu(e)||a.selection.isCollapsed||s&&229===e.keyCode||!s&&229===e.keyCode&&c||o())}function o(){var e=r.buffer;e.lock(),n.enqueueChange(e.batch,(function(){n.deleteContent(n.document.selection)})),e.unlock()}Ar.isAndroid?i.document.on("beforeinput",(function(e,t){return a(t)}),{priority:"lowest"}):i.document.on("keydown",(function(e,t){return a(t)}),{priority:"lowest"}),i.document.on("compositionstart",(function(){var e=n.document,t=1!==e.selection.rangeCount||e.selection.getFirstRange().isFlat;e.selection.isCollapsed||t||o()}),{priority:"lowest"}),i.document.on("compositionend",(function(){t=n.createSelection(n.document.selection)}),{priority:"lowest"})}(e),function(e){e.editing.view.document.on("mutations",(function(t,n,i){new Yu(e).handle(n,i)}))}(e)}},{key:"isInput",value:function(e){return this.editor.commands.get("input")._batches.has(e)}}],[{key:"pluginName",get:function(){return"Input"}}]),n}(bu),Ju=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).direction=i,r._buffer=new Fu(e.model,e.config.get("typing.undoStep")),r}return m(n,[{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document;n.enqueueChange(this._buffer.batch,(function(r){e._buffer.lock();var a=r.createSelection(t.selection||i.selection),o=a.isCollapsed;if(a.isCollapsed&&n.modifySelection(a,{direction:e.direction,unit:t.unit}),e._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))e._replaceEntireContentWithParagraph(r);else if(!a.isCollapsed){var s=0;a.getFirstRange().getMinimalFlatRanges().forEach((function(e){s+=br(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),n.deleteContent(a,{doNotResetEntireContent:o,direction:e.direction}),e._buffer.input(s),r.setSelection(a),e._buffer.unlock()}}))}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(e){if(e>1)return!1;var t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(i))return!1;if(!t.schema.checkChild(i,"paragraph"))return!1;var r=i.getChild(0);return!r||"paragraph"!==r.name}},{key:"_replaceEntireContentWithParagraph",value:function(e){var t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n),r=e.createElement("paragraph");e.remove(e.createRangeIn(i)),e.insert(r,i),e.setSelection(r,0)}},{key:"buffer",get:function(){return this._buffer}}]),n}(ju),Xu=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n),i=t.call(this,e);var r=e.document,a=0;function o(e,t,n){var i;r.once("delete",(function(e){return i=e}),{priority:Number.POSITIVE_INFINITY}),r.fire("delete",new Ka(r,t,n)),i&&i.stop.called&&e.stop()}return r.on("keyup",(function(e,t){t.keyCode!=Mr.delete&&t.keyCode!=Mr.backspace||(a=0)})),r.on("keydown",(function(e,t){var n={};if(t.keyCode==Mr.delete)n.direction="forward",n.unit="character";else{if(t.keyCode!=Mr.backspace)return;n.direction="backward",n.unit="codePoint"}var i=Ar.isMac?t.altKey:t.ctrlKey;n.unit=i?"word":n.unit,n.sequence=++a,o(e,t.domEvent,n)})),Ar.isAndroid&&r.on("beforeinput",(function(t,n){if("deleteContentBackward"==n.domEvent.inputType){var i={unit:"codepoint",direction:"backward",sequence:1},r=n.domTarget.ownerDocument.defaultView.getSelection();r.anchorNode==r.focusNode&&r.anchorOffset+1!=r.focusOffset&&(i.selectionToRemove=e.domConverter.domSelectionToView(r)),o(t,n.domEvent,i)}})),i}return m(n,[{key:"observe",value:function(){}}]),n}(Sa),ed=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;if(t.addObserver(Xu),e.commands.add("forwardDelete",new Ju(e,"forward")),e.commands.add("delete",new Ju(e,"backward")),this.listenTo(n,"delete",(function(n,i){var r={unit:i.unit,sequence:i.sequence};if(i.selectionToRemove){var a,o=e.model.createSelection(),s=[],c=d(i.selectionToRemove.getRanges());try{for(c.s();!(a=c.n()).done;){var l=a.value;s.push(e.editing.mapper.toModelRange(l))}}catch(u){c.e(u)}finally{c.f()}o.setTo(s),r.selection=o}e.execute("forward"==i.direction?"forwardDelete":"delete",r),i.preventDefault(),t.scrollToTheSelection()})),Ar.isAndroid){var i=null;this.listenTo(n,"delete",(function(e,t){var n=t.domTarget.ownerDocument.defaultView.getSelection();i={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}}),{priority:"lowest"}),this.listenTo(n,"keyup",(function(e,t){if(i){var n=t.domTarget.ownerDocument.defaultView.getSelection();n.collapse(i.anchorNode,i.anchorOffset),n.extend(i.focusNode,i.focusOffset),i=null}}))}}}],[{key:"pluginName",get:function(){return"Delete"}}]),n}(bu),td=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[$u,ed]}},{key:"pluginName",get:function(){return"Typing"}}]),n}(bu),nd=new Map;function id(e,t,n){var i=nd.get(e);i||(i=new Map,nd.set(e,i)),i.set(t,n)}function rd(e){return[e]}function ad(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e,t){var n=nd.get(e);return n&&n.has(t)?n.get(t):rd}(e.constructor,t.constructor);try{return i(e=e.clone(),t,n)}catch(e){throw e}}function od(e,t,n){e=e.slice(),t=t.slice();var i=new sd(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(e),i.setOriginalOperations(t);var r=i.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:r};var a,o=new WeakMap,s=d(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;o.set(c,0)}}catch(C){s.e(C)}finally{s.f()}for(var u={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length},h=0;h<e.length;){var f,m,p=e[h],v=o.get(p);if(v!=t.length){var g=t[v],b=ad(p,g,i.getContext(p,g,!0)),k=ad(g,p,i.getContext(g,p,!1));i.updateRelation(p,g),i.setOriginalOperations(b,p),i.setOriginalOperations(k,g);var y,w=d(b);try{for(w.s();!(y=w.n()).done;){var _=y.value;o.set(_,v+k.length)}}catch(C){w.e(C)}finally{w.f()}(f=e).splice.apply(f,[h,1].concat(l(b))),(m=t).splice.apply(m,[v,1].concat(l(k)))}else h++}if(n.padWithNoOps){var x=e.length-u.originalOperationsACount,j=t.length-u.originalOperationsBCount;ld(e,j-x),ld(t,x-j)}return cd(e,u.nextBaseVersionB),cd(t,u.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:r}}var sd=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(this,e),this.originalOperations=new Map,this._history=t.history,this._useRelations=n,this._forceWeakRemove=!!i,this._relations=new Map}return m(e,[{key:"setOriginalOperations",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=n?this.originalOperations.get(n):null,r=d(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.originalOperations.set(a,i||a)}}catch(o){r.e(o)}finally{r.f()}}},{key:"updateRelation",value:function(e,t){switch(e.constructor){case ec:switch(t.constructor){case ac:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case ec:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter")}break;case oc:switch(t.constructor){case ac:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case ec:(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))&&this._setRelation(e,t,"splitBefore")}break;case ac:switch(t.constructor){case ac:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case oc:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case nc:var n=e.newRange;if(!n)return;switch(t.constructor){case ec:var i=Uo._createFromPositionAndShift(t.sourcePosition,t.howMany),r=i.containsPosition(n.start)||i.start.isEqual(n.start),a=i.containsPosition(n.end)||i.end.isEqual(n.end);!r&&!a||i.containsRange(n)||this._setRelation(e,t,{side:r?"left":"right",path:r?n.start.path.slice():n.end.path.slice()});break;case ac:var o=n.start.isEqual(t.targetPosition),s=n.start.isEqual(t.deletionPosition),c=n.end.isEqual(t.deletionPosition),l=n.end.isEqual(t.sourcePosition);(o||s||c||l)&&this._setRelation(e,t,{wasInLeftElement:o,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:c,wasInRightElement:l})}}}},{key:"getContext",value:function(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){var t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}},{key:"_getRelation",value:function(e,t){var n=this.originalOperations.get(t),i=this._history.getUndoneOperation(n);if(!i)return null;var r=this.originalOperations.get(e),a=this._relations.get(r);return a&&a.get(i)||null}},{key:"_setRelation",value:function(e,t,n){var i=this.originalOperations.get(e),r=this.originalOperations.get(t),a=this._relations.get(i);a||(a=new Map,this._relations.set(i,a)),a.set(r,n)}}]),e}();function cd(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;)n.value.baseVersion=t++}catch(r){i.e(r)}finally{i.f()}}function ld(e,t){for(var n=0;n<t;n++)e.push(new Cc(0))}function ud(e,t,n){var i=e.nodes.getNode(0).getAttribute(t);if(i==n)return null;var r=new Uo(e.position,e.position.getShiftedBy(e.howMany));return new Js(r,t,i,n,0)}function dd(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function hd(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],a=new ec(r.start,r.end.offset-r.start.offset,t,0);n.push(a);for(var o=i+1;o<e.length;o++)e[o]=e[o]._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)[0];t=t._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)}return n}id(Js,Js,(function(e,t,n){if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){var i=e.range.getDifference(t.range).map((function(t){return new Js(t,e.key,e.oldValue,e.newValue,0)})),r=e.range.getIntersection(t.range);return r&&n.aIsStrong&&i.push(new Js(r,t.key,t.newValue,e.newValue,0)),0==i.length?[new Cc(0)]:i}return[e]})),id(Js,tc,(function(e,t){if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){var n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((function(t){return new Js(t,e.key,e.oldValue,e.newValue,e.baseVersion)}));if(t.shouldReceiveAttributes){var i=ud(t,e.key,e.oldValue);i&&n.unshift(i)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),id(Js,ac,(function(e,t){var n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(Uo._createFromPositionAndShift(t.graveyardPosition,1));var i=e.range._getTransformedByMergeOperation(t);return i.isCollapsed||n.push(i),n.map((function(t){return new Js(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),id(Js,ec,(function(e,t){return function(e,t){var n=Uo._createFromPositionAndShift(t.sourcePosition,t.howMany),i=null,r=[];n.containsRange(e,!0)?i=e:e.start.hasSameParentAs(n.start)?(r=e.getDifference(n),i=e.getIntersection(n)):r=[e];var a,o=[],s=d(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;c=c._getTransformedByDeletion(t.sourcePosition,t.howMany);var u=t.getMovedRangeStart(),h=c.start.hasSameParentAs(u);c=c._getTransformedByInsertion(u,t.howMany,h),o.push.apply(o,l(c))}}catch(f){s.e(f)}finally{s.f()}return i&&o.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),o}(e.range,t).map((function(t){return new Js(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),id(Js,oc,(function(e,t){if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){var n=e.clone();return n.range=new Uo(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),id(tc,Js,(function(e,t){var n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){var i=ud(e,t.key,t.newValue);i&&n.push(i)}return n})),id(tc,tc,(function(e,t,n){return e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]})),id(tc,ec,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),id(tc,oc,(function(e,t){return e.position=e.position._getTransformedBySplitOperation(t),[e]})),id(tc,ac,(function(e,t){return e.position=e.position._getTransformedByMergeOperation(t),[e]})),id(nc,tc,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]})),id(nc,nc,(function(e,t,n){if(e.name==t.name){if(!n.aIsStrong)return[new Cc(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),id(nc,ac,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]})),id(nc,ec,(function(e,t,n){if(e.oldRange&&(e.oldRange=Uo._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){var i=Uo._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=i.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=i.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=Uo._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]})),id(nc,oc,(function(e,t,n){if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){var i=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=zo._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=zo._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=zo._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=zo._createAt(t.insertionPosition):e.newRange.end=i.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),id(ac,tc,(function(e,t){return e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]})),id(ac,ac,(function(e,t,n){if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){var i=t.graveyardPosition.path.slice();return i.push(0),e.sourcePosition=new zo(t.graveyardPosition.root,i),e.howMany=0,[e]}return[new Cc(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var r="$graveyard"==e.targetPosition.root.rootName,a="$graveyard"==t.targetPosition.root.rootName;if(a&&!r||(!r||a)&&n.aIsStrong){var o=t.targetPosition._getTransformedByMergeOperation(t),s=e.targetPosition._getTransformedByMergeOperation(t);return[new ec(o,e.howMany,s,0)]}return[new Cc(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),id(ac,ec,(function(e,t,n){var i=Uo._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition)?[new Cc(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),id(ac,oc,(function(e,t,n){if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){var i=0!=t.howMany,r=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(i||r||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),id(ec,tc,(function(e,t){var n=Uo._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),id(ec,ec,(function(e,t,n){var i,r=Uo._createFromPositionAndShift(e.sourcePosition,e.howMany),a=Uo._createFromPositionAndShift(t.sourcePosition,t.howMany),o=n.aIsStrong,s=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?s=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(s=!1),i=e.targetPosition.isEqual(t.targetPosition)&&s?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),dd(e,t)&&dd(t,e))return[t.getReversed()];if(r.containsPosition(t.targetPosition)&&r.containsRange(a,!0))return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),hd([r],i);if(a.containsPosition(e.targetPosition)&&a.containsRange(r,!0))return r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),hd([r],i);var c=Yn(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),hd([r],i);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(o=!1):o=!0;var u,h=[],f=r.getDifference(a),m=d(f);try{for(m.s();!(u=m.n()).done;){var p=u.value;p.start=p.start._getTransformedByDeletion(t.sourcePosition,t.howMany),p.end=p.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var v="same"==Yn(p.start.getParentPath(),t.getMovedRangeStart().getParentPath()),g=p._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,v);h.push.apply(h,l(g))}}catch(k){m.e(k)}finally{m.f()}var b=r.getIntersection(a);return null!==b&&o&&(b.start=b.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),b.end=b.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===h.length?h.push(b):1==h.length?a.start.isBefore(r.start)||a.start.isEqual(r.start)?h.unshift(b):h.push(b):h.splice(1,0,b)),0===h.length?[new Cc(e.baseVersion)]:hd(h,i)})),id(ec,oc,(function(e,t,n){var i=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=e.targetPosition._getTransformedBySplitOperation(t));var r=Uo._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=i,[e];if(r.start.hasSameParentAs(t.splitPosition)&&r.containsPosition(t.splitPosition)){var a=new Uo(t.splitPosition,r.end);return a=a._getTransformedBySplitOperation(t),hd([new Uo(r.start,t.splitPosition),a],i)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(i=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(i=e.targetPosition);var o=[r._getTransformedBySplitOperation(t)];if(t.graveyardPosition){var s=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);e.howMany>1&&s&&!n.aWasUndone&&o.push(Uo._createFromPositionAndShift(t.insertionPosition,1))}return hd(o,i)})),id(ec,ac,(function(e,t,n){var i=Uo._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new Cc(0)]}else if(!n.aWasUndone){var r=[],a=t.graveyardPosition.clone(),o=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(r.push(new ec(e.sourcePosition,e.howMany-1,e.targetPosition,0)),a=a._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));var s=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),c=new ec(a,1,s,0),l=c.getMovedRangeStart().path.slice();l.push(0);var u=new zo(c.targetPosition.root,l);o=o._getTransformedByMove(a,s,1);var d=new ec(o,t.howMany,u,0);return r.push(c),r.push(d),r}var h=Uo._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=h.start,e.howMany=h.end.offset-h.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),id(ic,tc,(function(e,t){return e.position=e.position._getTransformedByInsertOperation(t),[e]})),id(ic,ac,(function(e,t){return e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e])})),id(ic,ec,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),id(ic,ic,(function(e,t,n){if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new Cc(0)];e.oldName=t.newName}return[e]})),id(ic,oc,(function(e,t){if("same"==Yn(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){var n=new ic(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,n]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),id(rc,rc,(function(e,t,n){if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new Cc(0)];e.oldValue=t.newValue}return[e]})),id(oc,tc,(function(e,t){return e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=oc.getInsertionPosition(e.splitPosition),[e]})),id(oc,ac,(function(e,t,n){if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){var i=t.graveyardPosition.path.slice();i.push(0);var r=new zo(t.graveyardPosition.root,i),a=oc.getInsertionPosition(new zo(t.graveyardPosition.root,i)),o=new oc(r,0,null,0);return o.insertionPosition=a,e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=oc.getInsertionPosition(e.splitPosition),e.graveyardPosition=o.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[o,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=oc.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),id(oc,ec,(function(e,t,n){var i=Uo._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){var r=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&r){var a=e.splitPosition._getTransformedByMoveOperation(t),o=e.graveyardPosition._getTransformedByMoveOperation(t),s=o.path.slice();s.push(0);var c=new zo(o.root,s);return[new ec(a,e.howMany,c,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){var l=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=l,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=oc.getInsertionPosition(e.splitPosition),[e]}return!e.splitPosition.isEqual(t.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=oc.getInsertionPosition(e.splitPosition),[e]):(e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=oc.getInsertionPosition(e.splitPosition),[e])})),id(oc,oc,(function(e,t,n){if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new Cc(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new Cc(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){var i="$graveyard"==e.splitPosition.root.rootName,r="$graveyard"==t.splitPosition.root.rootName;if(r&&!i||(!i||r)&&n.aIsStrong){var a=[];return t.howMany&&a.push(new ec(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&a.push(new ec(e.splitPosition,e.howMany,e.moveTargetPosition,0)),a}return[new Cc(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){var o=t.insertionPosition.path.slice();o.push(0);var s=new zo(t.insertionPosition.root,o);return[e,new ec(e.insertionPosition,1,s,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=oc.getInsertionPosition(e.splitPosition),[e]}));var fd=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._stack=[],i._createdBatches=new WeakSet,i.refresh(),i}return m(n,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(e){var t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(e,t,n){var i,r=this.editor.model,a=r.document,o=[],s=d(e);try{for(s.s();!(i=s.n()).done;){var c=md(i.value,n).find((function(e){return e.start.root!=a.graveyard}));c&&o.push(c)}}catch(l){s.e(l)}finally{s.f()}o.length&&r.change((function(e){e.setSelection(o,{backward:t})}))}},{key:"_undo",value:function(e,t){var n=this.editor.model,i=n.document;this._createdBatches.add(t);var r=e.operations.slice().filter((function(e){return e.isDocumentOperation}));r.reverse();var a,o=d(r);try{for(o.s();!(a=o.n()).done;){var s,c=a.value,l=c.baseVersion+1,u=Array.from(i.history.getOperations(l)),h=od([c.getReversed()],u,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA,f=d(h);try{for(f.s();!(s=f.n()).done;){var m=s.value;t.addOperation(m),n.applyOperation(m),i.history.setOperationAsUndone(c,m)}}catch(p){f.e(p)}finally{f.f()}}}catch(p){o.e(p)}finally{o.f()}}}]),n}(ju);function md(e,t){var n=e.getTransformedByOperations(t);n.sort((function(e,t){return e.start.isBefore(t.start)?-1:1}));for(var i=1;i<n.length;i++){var r=n[i-1],a=n[i];r.end.isTouching(a.start)&&(r.end=a.end,n.splice(i,1),i--)}return n}var pd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?this._stack.findIndex((function(e){return e.batch==t})):this._stack.length-1,i=this._stack.splice(n,1)[0],r=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(r,(function(){e._undo(i.batch,r);var t=e.editor.model.document.history.getOperations(i.batch.baseVersion);e._restoreSelection(i.selection.ranges,i.selection.isBackward,t),e.fire("revert",i.batch,r)})),this.refresh()}}]),n}(fd),vd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"execute",value:function(){var e=this,t=this._stack.pop(),n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,(function(){var i=t.batch.operations[t.batch.operations.length-1].baseVersion+1,r=e.editor.model.document.history.getOperations(i);e._restoreSelection(t.selection.ranges,t.selection.isBackward,r),e._undo(t.batch,n)})),this.refresh()}}]),n}(fd),gd=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._batchRegistry=new WeakSet,i}return m(n,null,[{key:"pluginName",get:function(){return"UndoEditing"}}]),m(n,[{key:"init",value:function(){var e=this,t=this.editor;this._undoCommand=new pd(t),this._redoCommand=new vd(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(function(t,n){var i=n[0];if(i.isDocumentOperation){var r=i.batch,a=e._redoCommand._createdBatches.has(r),o=e._undoCommand._createdBatches.has(r);e._batchRegistry.has(r)||"transparent"==r.type&&!a&&!o||(a?e._undoCommand.addBatch(r):o||(e._undoCommand.addBatch(r),e._redoCommand.clearStack()),e._batchRegistry.add(r))}}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(function(t,n,i){e._redoCommand.addBatch(i)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}]),n}(bu),bd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',kd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',yd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?bd:kd,r="ltr"==t.uiLanguageDirection?kd:bd;this._addButton("undo",n("Undo"),"CTRL+Z",i),this._addButton("redo",n("Redo"),"CTRL+Y",r)}},{key:"_addButton",value:function(e,t,n,i){var r=this,a=this.editor;a.ui.componentFactory.add(e,(function(o){var s=a.commands.get(e),c=new eu(o);return c.set({label:t,icon:i,keystroke:n,tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),r.listenTo(c,"execute",(function(){a.execute(e),a.editing.view.focus()})),c}))}}]),n}(bu),wd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[gd,yd]}},{key:"pluginName",get:function(){return"Undo"}}]),n}(bu),_d=function(){function e(t){f(this,e),this.context=t}return m(e,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),e}();Bn(_d,ar);var xd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new Fn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(e){if("string"!=typeof e)throw new Tn.b("pendingactions-add-invalid-message: The message must be a string.",this);var t=Object.create(ar);return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}},{key:"remove",value:function(e){this._actions.remove(e),this.hasAny=!!this._actions.length}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}},{key:"first",get:function(){return this._actions.get(0)}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),n}(_d),jd=function(){function e(){var t=this;f(this,e);var n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=function(e){t.loaded=e.loaded}}return m(e,[{key:"read",value:function(e){var t=this,n=this._reader;return this.total=e.size,new Promise((function(i,r){n.onload=function(){var e=n.result;t._data=e,i(e)},n.onerror=function(){r("error")},n.onabort=function(){r("aborted")},t._reader.readAsDataURL(e)}))}},{key:"abort",value:function(){this._reader.abort()}},{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}}]),e}();Bn(jd,ar);var Cd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this;this.loaders=new Fn,this.loaders.on("add",(function(){return e._updatePendingAction()})),this.loaders.on("remove",(function(){return e._updatePendingAction()})),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(e,t){return t?e/t*100:0}))}},{key:"getLoader",value:function(e){return this._loadersMap.get(e)||null}},{key:"createLoader",value:function(e){var t=this;if(!this.createUploadAdapter)return console.warn(Object(Tn.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;var n=new Od(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(n),this._loadersMap.set(e,n),e instanceof Promise&&n.file.then((function(e){t._loadersMap.set(e,n)})).catch((function(){})),n.on("change:uploaded",(function(){var e,n=0,i=d(t.loaders);try{for(i.s();!(e=i.n()).done;)n+=e.value.uploaded}catch(r){i.e(r)}finally{i.f()}t.uploaded=n})),n.on("change:uploadTotal",(function(){var e,n=0,i=d(t.loaders);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.uploadTotal&&(n+=r.uploadTotal)}}catch(a){i.e(a)}finally{i.f()}t.uploadTotal=n})),n}},{key:"destroyLoader",value:function(e){var t=this,n=e instanceof Od?e:this.getLoader(e);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach((function(e,i){e===n&&t._loadersMap.delete(i)}))}},{key:"_updatePendingAction",value:function(){var e=this.editor.plugins.get(xd);if(this.loaders.length){if(!this._pendingAction){var t=this.editor.t,n=function(e){return"".concat(t("Upload in progress")," ").concat(parseInt(e),"%.")};this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[xd]}}]),n}(bu);Bn(Cd,ar);var Od=function(){function e(t,n){f(this,e),this.id=Nn(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=n(this),this._reader=new jd,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(e,t){return t?e/t*100:0})),this.set("uploadResponse",null)}return m(e,[{key:"read",value:function(){var e=this;if("idle"!=this.status)throw new Tn.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then((function(t){return e._reader.read(t)})).then((function(t){if("reading"!==e.status)throw e.status;return e.status="idle",t})).catch((function(t){if("aborted"===t)throw e.status="aborted","aborted";throw e.status="error",e._reader.error?e._reader.error:t}))}},{key:"upload",value:function(){var e=this;if("idle"!=this.status)throw new Tn.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then((function(){return e._adapter.upload()})).then((function(t){return e.uploadResponse=t,e.status="idle",t})).catch((function(t){if("aborted"===e.status)throw"aborted";throw e.status="error",t}))}},{key:"abort",value:function(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((function(){})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(e){var t={};return t.promise=new Promise((function(n,i){t.rejecter=i,t.isFulfilled=!1,e.then((function(e){t.isFulfilled=!0,n(e)})).catch((function(e){t.isFulfilled=!0,i(e)}))})),t}},{key:"file",get:function(){var e=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((function(t){return e._filePromiseWrapper?t:null})):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}}]),e}();function Nd(){var e,t,n=function(e){e=e.toLowerCase();var t,n=document.cookie.split(";"),i=d(n);try{for(i.s();!(t=i.n()).done;){var r=t.value.split("=");if(decodeURIComponent(r[0].trim().toLowerCase())===e)return decodeURIComponent(r[1])}}catch(a){i.e(a)}finally{i.f()}return null}("ckCsrfToken");return n&&40==n.length||(n=function(e){var t="",n=new Uint8Array(40);window.crypto.getRandomValues(n);for(var i=0;i<n.length;i++){var r="abcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%"abcdefghijklmnopqrstuvwxyz0123456789".length);t+=Math.random()>.5?r.toUpperCase():r}return t}(),e="ckCsrfToken",t=n,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"),n}Bn(Od,ar);var Ad=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Cd).createUploadAdapter=function(n){return new Td(n,t,e.editor.t)})}}],[{key:"requires",get:function(){return[Cd]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),n}(bu),Td=function(){function e(t,n,i){f(this,e),this.loader=t,this.url=n,this.t=i}return m(e,[{key:"upload",value:function(){var e=this;return this.loader.file.then((function(t){return new Promise((function(n,i){e._initRequest(),e._initListeners(n,i,t),e._sendRequest(t)}))}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}},{key:"_initListeners",value:function(e,t,n){var i=this.xhr,r=this.loader,a=(0,this.t)("Cannot upload file:")+" ".concat(n.name,".");i.addEventListener("error",(function(){return t(a)})),i.addEventListener("abort",(function(){return t()})),i.addEventListener("load",(function(){var n=i.response;if(!n||!n.uploaded)return t(n&&n.error&&n.error.message?n.error.message:a);e({default:n.url})})),i.upload&&i.upload.addEventListener("progress",(function(e){e.lengthComputable&&(r.uploadTotal=e.total,r.uploaded=e.loaded)}))}},{key:"_sendRequest",value:function(e){var t=new FormData;t.append("upload",e),t.append("ckCsrfToken",Nd()),this.xhr.send(t)}}]),e}();function Sd(e,t,n,i){var r,a=null;"function"==typeof i?r=i:(a=e.commands.get(i),r=function(){e.execute(i)}),e.model.document.on("change:data",(function(i,o){if((!a||a.isEnabled)&&t.isEnabled&&"transparent"!=o.type){var s=Array.from(e.model.document.differ.getChanges()),c=s[0];if(1==s.length&&"insert"===c.type&&"$text"==c.name&&1==c.length){var l=c.position.parent;if(l.is("paragraph")&&1===l.childCount){var u=n.exec(l.getChild(0).data);u&&e.model.enqueueChange((function(e){var t=e.createPositionAt(l,0),n=e.createPositionAt(l,u[0].length),i=new es(t,n);!1!==r({match:u})&&e.remove(i),i.detach()}))}}}}))}function Md(e,t,n,i){var r,a;n instanceof RegExp?r=n:a=n,a=a||function(e){for(var t,n=[],i=[];null!==(t=r.exec(e))&&!(t&&t.length<4);){var a=t,o=a.index,s=a[1],c=a[2],l=a[3],u=s+c+l,d=[o+=t[0].length-u.length,o+s.length],h=[o+s.length+c.length,o+s.length+c.length+l.length];n.push(d),n.push(h),i.push([o+s.length,o+s.length+c.length])}return{remove:n,format:i}},e.model.document.on("change:data",(function(n,r){if("transparent"!=r.type&&t.isEnabled){var o=e.model,s=o.document.selection;if(s.isCollapsed){var c=Array.from(o.document.differ.getChanges()),l=c[0];if(1==c.length&&"insert"===l.type&&"$text"==l.name&&1==l.length){var u=s.focus,h=u.parent,f=function(e,t){var n=e.start;return{text:Array.from(e.getItems()).reduce((function(e,i){return!i.is("text")&&!i.is("textProxy")||i.getAttribute("code")?(n=t.createPositionAfter(i),""):e+i.data}),""),range:t.createRange(n,e.end)}}(o.createRange(o.createPositionAt(h,0),u),o),m=f.text,p=f.range,v=a(m),g=Ld(p.start,v.format,o),b=Ld(p.start,v.remove,o);g.length&&b.length&&o.enqueueChange((function(e){if(!1!==i(e,g)){var t,n=d(b.reverse());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.remove(r)}}catch(a){n.e(a)}finally{n.f()}}}))}}}}))}function Ld(e,t,n){return t.filter((function(e){return void 0!==e[0]&&void 0!==e[1]})).map((function(t){return n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1]))}))}function Ed(e,t){return function(n,i){if(!e.commands.get(t).isEnabled)return!1;var r,a=e.model.schema.getValidRanges(i,t),o=d(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;n.setAttribute(t,!0,s)}}catch(c){o.e(c)}finally{o.f()}n.removeSelectionAttribute(t)}}var Pd=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).attributeKey=i,r}return m(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document.selection,r=void 0===t.forceValue?!this.value:t.forceValue;n.change((function(t){if(i.isCollapsed)r?t.setSelectionAttribute(e.attributeKey,!0):t.removeSelectionAttribute(e.attributeKey);else{var a,o=n.schema.getValidRanges(i.getRanges(),e.attributeKey),s=d(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;r?t.setAttribute(e.attributeKey,r,c):t.removeAttribute(e.attributeKey,c)}}catch(l){s.e(l)}finally{s.f()}}}))}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);var i,r=d(n.getRanges());try{for(r.s();!(i=r.n()).done;){var a,o=i.value,s=d(o.getItems());try{for(s.s();!(a=s.n()).done;){var c=a.value;if(t.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey)}}catch(l){s.e(l)}finally{s.f()}}}catch(l){r.e(l)}finally{r.f()}return!1}}]),n}(ju),Id=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"bold"}),e.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",function(e){var t=e.getStyle("font-weight");return t?"bold"==t||Number(t)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add("bold",new Pd(e,"bold")),e.keystrokes.set("CTRL+B","bold")}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),n}(bu),Vd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("bold",(function(i){var r=t.commands.get("bold"),a=new eu(i);return a.set({label:n("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(r,"value","isEnabled"),e.listenTo(a,"execute",(function(){t.execute("bold"),t.editing.view.focus()})),a}))}}]),n}(bu),Rd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"italic"}),e.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add("italic",new Pd(e,"italic")),e.keystrokes.set("CTRL+I","italic")}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),n}(bu),Dd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("italic",(function(i){var r=t.commands.get("italic"),a=new eu(i);return a.set({label:n("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(r,"value","isEnabled"),e.listenTo(a,"execute",(function(){t.execute("italic"),t.editing.view.focus()})),a}))}}]),n}(bu);function zd(e){var t=e.next();return t.done?null:t.value}var Bd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.schema,r=n.document.selection,a=Array.from(r.getSelectedBlocks()),o=void 0===t.forceValue?!this.value:t.forceValue;n.change((function(t){if(o){var n=a.filter((function(e){return Fd(e)||Ud(i,e)}));e._applyQuote(t,n)}else e._removeQuote(t,a.filter(Fd))}))}},{key:"_getValue",value:function(){var e=zd(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Fd(e))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,t=this.editor.model.schema,n=zd(e.getSelectedBlocks());return!!n&&Ud(t,n)}},{key:"_removeQuote",value:function(e,t){Hd(e,t).reverse().forEach((function(t){if(t.start.isAtStart&&t.end.isAtEnd)e.unwrap(t.start.parent);else if(t.start.isAtStart){var n=e.createPositionBefore(t.start.parent);e.move(t,n)}else{t.end.isAtEnd||e.split(t.end);var i=e.createPositionAfter(t.end.parent);e.move(t,i)}}))}},{key:"_applyQuote",value:function(e,t){var n=[];Hd(e,t).reverse().forEach((function(t){var i=Fd(t.start);i||(i=e.createElement("blockQuote"),e.wrap(t,i)),n.push(i)})),n.reverse().reduce((function(t,n){return t.nextSibling==n?(e.merge(e.createPositionAfter(t)),t):n}))}}]),n}(ju);function Fd(e){return"blockQuote"==e.parent.name?e.parent:null}function Hd(e,t){for(var n,i=0,r=[];i<t.length;){var a=t[i],o=t[i+1];n||(n=e.createPositionBefore(a)),o&&a.nextSibling==o||(r.push(e.createRange(n,e.createPositionAfter(a))),n=null),i++}return r}function Ud(e,t){var n=e.checkChild(t.parent,"blockQuote"),i=e.checkChild(["$root","blockQuote"],t);return n&&i}var qd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Bd(e)),t.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),t.addChildCheck((function(e,t){if(e.endsWith("blockQuote")&&"blockQuote"==t.name)return!1})),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer((function(n){var i,r=e.model.document.differ.getChanges(),a=d(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;if("insert"==o.type){var s=o.position.nodeAfter;if(!s)continue;if(s.is("blockQuote")&&s.isEmpty)return n.remove(s),!0;if(s.is("blockQuote")&&!t.checkChild(o.position,s))return n.unwrap(s),!0;if(s.is("element")){var c,l=n.createRangeIn(s),u=d(l.getItems());try{for(u.s();!(c=u.n()).done;){var h=c.value;if(h.is("blockQuote")&&!t.checkChild(n.createPositionBefore(h),h))return n.unwrap(h),!0}}catch(m){u.e(m)}finally{u.f()}}}else if("remove"==o.type){var f=o.position.parent;if(f.is("blockQuote")&&f.isEmpty)return n.remove(f),!0}}}catch(m){a.e(m)}finally{a.f()}return!1}))}},{key:"afterInit",value:function(){var e=this,t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(function(n,i){var r=e.editor.model.document,a=r.selection.getLastPosition().parent;r.selection.isCollapsed&&a.isEmpty&&t.value&&(e.editor.execute("blockQuote"),e.editor.editing.view.scrollToTheSelection(),i.preventDefault(),n.stop())}))}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}}]),n}(bu);n(39);var Wd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("blockQuote",(function(i){var r=t.commands.get("blockQuote"),a=new eu(i);return a.set({label:n("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(r,"value","isEnabled"),e.listenTo(a,"execute",(function(){t.execute("blockQuote"),t.editing.view.focus()})),a}))}}]),n}(bu),Zd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.ui.componentFactory,n=e.t;t.add("ckfinder",(function(t){var i=e.commands.get("ckfinder"),r=new eu(t);return r.set({label:n("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),r.bind("isEnabled").to(i),r.on("execute",(function(){e.execute("ckfinder"),e.editing.view.focus()})),r}))}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),n}(bu),Gd=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"observe",value:function(e){var t=this;this.listenTo(e,"load",(function(e,n){"IMG"==n.target.tagName&&t._fireEvents(n)}),{useCapture:!0})}},{key:"_fireEvents",value:function(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}]),n}(Sa),Yd=function(){function e(){f(this,e),this._stack=[]}return m(e,[{key:"add",value:function(e,t){var n=this._stack,i=n[0];this._insertDescriptor(e);var r=n[0];i===r||Qd(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:t})}},{key:"remove",value:function(e,t){var n=this._stack,i=n[0];this._removeDescriptor(e);var r=n[0];i===r||Qd(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:t})}},{key:"_insertDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e.id}));if(!Qd(e,t[n])){n>-1&&t.splice(n,1);for(var i=0;t[i]&&Kd(t[i],e);)i++;t.splice(i,0,e)}}},{key:"_removeDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e}));n>-1&&t.splice(n,1)}}]),e}();function Qd(e,t){return e&&t&&e.priority==t.priority&&$d(e.classes)==$d(t.classes)}function Kd(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&$d(e.classes)>$d(t.classes)}function $d(e){return Array.isArray(e)?e.sort().join(","):e}function Jd(e,t,n){return e&&eh(e)&&!n.isInline(t)}function Xd(e){return e.getAttribute("widget-type-around")}function eh(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function th(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=sh,n.label&&function(e,t,n){n.setCustomProperty("widgetLabel",t,e)}(e,n.label,t),n.hasSelectionHandle&&function(e,t){var n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){var t=this.toDomElement(e),n=new Jl;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),t.appendChild(n.element),t}));t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),nh(e,t,(function(e,t,n){return n.addClass(i(t.classes),e)}),(function(e,t,n){return n.removeClass(i(t.classes),e)})),e;function i(e){return Array.isArray(e)?e:[e]}}function nh(e,t,n,i){var r=new Yd;r.on("change:top",(function(t,r){r.oldDescriptor&&i(e,r.oldDescriptor,r.writer),r.newDescriptor&&n(e,r.newDescriptor,r.writer)})),t.setCustomProperty("addHighlight",(function(e,t,n){return r.add(t,n)}),e),t.setCustomProperty("removeHighlight",(function(e,t,n){return r.remove(t,n)}),e)}function ih(e){var t=e.getCustomProperty("widgetLabel");return t?"function"==typeof t?t():t:""}function rh(e,t){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",(function(n,i,r){t.setAttribute("contenteditable",r?"false":"true",e)})),e.on("change:isFocused",(function(n,i,r){r?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)})),e}function ah(e,t){var n=e.getSelectedElement();if(n){var i=Xd(e);if(i)return t.createPositionAt(n,i);if(t.schema.isBlock(n))return t.createPositionAfter(n)}var r=e.getSelectedBlocks().next().value;if(r){if(r.isEmpty)return t.createPositionAt(r,0);var a=t.createPositionAfter(r);return e.focus.isTouching(a)?a:t.createPositionBefore(r)}return e.focus}function oh(e,t){var n=new bo(ba.window),i=n.getIntersection(e),r=t.height+Fl.arrowVerticalOffset;if(e.top-r>n.top||e.bottom+r<n.bottom)return null;var a=i||e,o=a.left+a.width/2-t.width/2;return{top:Math.max(e.top,0)+Fl.arrowVerticalOffset,left:o,name:"arrow_n"}}function sh(){return null}function ch(e){return!!e.getCustomProperty("image")&&eh(e)}function lh(e){var t=e.getSelectedElement();return t&&ch(t)?t:null}function uh(e){return!!e&&e.is("image")}function dh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.createElement("image",n),r=ah(t.document.selection,t);t.insertContent(i,r),i.parent&&e.setSelection(i,"on")}function hh(e){var t=e.schema,n=e.document.selection;return function(e,t,n){var i=function(e,t){var n=ah(e,t).parent;return n.isEmpty&&!n.is("$root")?n.parent:n}(e,n);return t.checkChild(i,"image")}(n,t,e)&&!function(e,t){var n=e.getSelectedElement();return n&&t.isObject(n)}(n,t)&&function(e){return l(e.focus.getAncestors()).every((function(e){return!e.is("image")}))}(n)}function fh(e){var t,n=[],i=d(e.getChildren());try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(r),r.is("element")&&n.push.apply(n,l(r.getChildren()))}}catch(a){i.e(a)}finally{i.f()}return n.find((function(e){return e.is("img")}))}function mh(e){return function(n){n.on("attribute:".concat(e,":image"),t)};function t(e,t,n){if(n.consumable.consume(t.item,e.name)){var i=n.writer,r=fh(n.mapper.toViewElement(t.item));i.setAttribute(t.attributeKey,t.attributeNewValue||"",r)}}}Bn(Yd,Ln);var ph=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){this.isEnabled=hh(this.editor.model)}},{key:"execute",value:function(e){var t=this.editor.model;t.change((function(n){var i,r=Array.isArray(e.source)?e.source:[e.source],a=d(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;dh(n,t,{src:o})}}catch(s){a.e(s)}finally{a.f()}}))}}]),n}(ju),vh=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.t,i=e.conversion;e.editing.view.addObserver(Gd),t.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),i.for("dataDowncast").elementToElement({model:"image",view:function(e,t){return gh(t)}}),i.for("editingDowncast").elementToElement({model:"image",view:function(e,t){return i=gh(t),r=t,a=n("image widget"),r.setCustomProperty("image",!0,i),th(i,r,{label:function(){var e=fh(i).getAttribute("alt");return e?"".concat(e," ").concat(a):a}});var i,r,a}}),i.for("downcast").add(mh("src")).add(mh("alt")).add(function(){return function(t){t.on("attribute:srcset:image",e)};function e(e,t,n){if(n.consumable.consume(t.item,e.name)){var i=n.writer,r=fh(n.mapper.toViewElement(t.item));if(null===t.attributeNewValue){var a=t.attributeOldValue;a.data&&(i.removeAttribute("srcset",r),i.removeAttribute("sizes",r),a.width&&i.removeAttribute("width",r))}else{var o=t.attributeNewValue;o.data&&(i.setAttribute("srcset",o.data,r),i.setAttribute("sizes","100vw",r),o.width&&i.setAttribute("width",o.width,r))}}}}()),i.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(e,t){return t.createElement("image",{src:e.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(e){var t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}}).add(function(){return function(t){t.on("element:figure",e)};function e(e,t,n){if(n.consumable.test(t.viewItem,{name:!0,classes:"image"})){var i=fh(t.viewItem);if(i&&i.hasAttribute("src")&&n.consumable.test(i,{name:!0})){var r=n.convertItem(i,t.modelCursor),a=zd(r.modelRange.getItems());a&&(n.convertChildren(t.viewItem,n.writer.createPositionAt(a,0)),t.modelRange=r.modelRange,t.modelCursor=r.modelCursor)}}}}()),e.commands.add("imageInsert",new ph(e))}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),n}(bu);function gh(e){var t=e.createEmptyElement("img"),n=e.createContainerElement("figure",{class:"image"});return e.insert(e.createPositionAt(n,0),t),n}var bh=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType="mousedown",i}return m(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}($a),kh=function(){function e(t,n,i){var r=this;f(this,e),this.model=t,this.attribute=i,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,n.listenTo(this._modelSelection,"change:range",(function(e,t){r._isNextGravityRestorationSkipped?r._isNextGravityRestorationSkipped=!1:r._isGravityOverridden&&(!t.directChange&&yh(r._modelSelection.getFirstPosition(),i)||r._restoreGravity())}))}return m(e,[{key:"handleForwardMovement",value:function(e,t){var n=this.attribute;if(!(this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute))return xh(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._removeSelectionAttribute(),!0):wh(e,n)||_h(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._overrideGravity(),!0):void 0}},{key:"handleBackwardMovement",value:function(e,t){var n=this.attribute;return this._isGravityOverridden?xh(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(t),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0):xh(e,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&_h(e,n)?this._hasSelectionAttribute?void(jh(e,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(t),!0):void 0:void(jh(e,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}},{key:"_overrideGravity",value:function(){this._overrideUid=this.model.change((function(e){return e.overrideSelectionGravity()}))}},{key:"_restoreGravity",value:function(){var e=this;this.model.change((function(t){t.restoreSelectionGravity(e._overrideUid),e._overrideUid=null}))}},{key:"_preventCaretMovement",value:function(e){e.preventDefault()}},{key:"_removeSelectionAttribute",value:function(){var e=this;this.model.change((function(t){t.removeSelectionAttribute(e.attribute)}))}},{key:"_setSelectionAttributeFromTheNodeBefore",value:function(e){var t=this,n=this.attribute;this.model.change((function(i){i.setSelectionAttribute(t.attribute,e.nodeBefore.getAttribute(n))}))}},{key:"_skipNextAutomaticGravityRestoration",value:function(){this._isNextGravityRestorationSkipped=!0}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}},{key:"_hasSelectionAttribute",get:function(){return this._modelSelection.hasAttribute(this.attribute)}}]),e}();function yh(e,t){return wh(e,t)||_h(e,t)}function wh(e,t){var n=e.nodeBefore,i=e.nodeAfter,r=!!n&&n.hasAttribute(t);return!!i&&i.hasAttribute(t)&&(!r||n.getAttribute(t)!==i.getAttribute(t))}function _h(e,t){var n=e.nodeBefore,i=e.nodeAfter,r=!!n&&n.hasAttribute(t),a=!!i&&i.hasAttribute(t);return r&&(!a||n.getAttribute(t)!==i.getAttribute(t))}function xh(e,t){var n=e.nodeBefore,i=e.nodeAfter,r=!!n&&n.hasAttribute(t);if(i&&i.hasAttribute(t)&&r)return i.getAttribute(t)!==n.getAttribute(t)}function jh(e,t){return yh(e.getShiftedBy(-1),t)}function Ch(e,t,n){return n.createRange(Oh(e,t,!0,n),Oh(e,t,!1,n))}function Oh(e,t,n,i){for(var r=e.textNode||(n?e.nodeBefore:e.nodeAfter),a=null;r&&r.getAttribute("linkHref")==t;)a=r,r=n?r.previousSibling:r.nextSibling;return a?i.createPositionAt(a,n?"before":"after"):e}var Nh=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).manualDecorators=new Fn,i}return m(n,[{key:"restoreManualDecoratorStates",value:function(){var e,t=d(this.manualDecorators);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.value=this._getDecoratorStateFromModel(n.id)}}catch(i){t.e(i)}finally{t.f()}}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=zd(t.selection.getSelectedBlocks());n&&n.is("image")&&e.schema.checkAttribute("image","linkHref")?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.selection.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref"));var i,r=d(this.manualDecorators);try{for(r.s();!(i=r.n()).done;){var a=i.value;a.value=this._getDecoratorStateFromModel(a.id)}}catch(o){r.e(o)}finally{r.f()}}},{key:"execute",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.editor.model,r=i.document.selection,a=[],o=[];for(var s in n)n[s]?a.push(s):o.push(s);i.change((function(n){if(r.isCollapsed){var s=r.getFirstPosition();if(r.hasAttribute("linkHref")){var c=Ch(s,r.getAttribute("linkHref"),i);n.setAttribute("linkHref",e,c),a.forEach((function(e){n.setAttribute(e,!0,c)})),o.forEach((function(e){n.removeAttribute(e,c)})),n.setSelection(n.createPositionAfter(c.end.nodeBefore))}else if(""!==e){var l=Xn(r.getAttributes());l.set("linkHref",e),a.forEach((function(e){l.set(e,!0)}));var u=n.createText(e,l);i.insertContent(u,s),n.setSelection(n.createPositionAfter(u))}["linkHref"].concat(a,o).forEach((function(e){n.removeSelectionAttribute(e)}))}else{var h,f=i.schema.getValidRanges(r.getRanges(),"linkHref"),m=[],p=d(r.getSelectedBlocks());try{for(p.s();!(h=p.n()).done;){var v=h.value;i.schema.checkAttribute(v,"linkHref")&&m.push(n.createRangeOn(v))}}catch(j){p.e(j)}finally{p.f()}var g,b=m.slice(),k=d(f);try{for(k.s();!(g=k.n()).done;){var y=g.value;t._isRangeToUpdate(y,m)&&b.push(y)}}catch(j){k.e(j)}finally{k.f()}var w,_=d(b);try{var x=function(){var t=w.value;n.setAttribute("linkHref",e,t),a.forEach((function(e){n.setAttribute(e,!0,t)})),o.forEach((function(e){n.removeAttribute(e,t)}))};for(_.s();!(w=_.n()).done;)x()}catch(j){_.e(j)}finally{_.f()}}}))}},{key:"_getDecoratorStateFromModel",value:function(e){return this.editor.model.document.selection.getAttribute(e)}},{key:"_isRangeToUpdate",value:function(e,t){var n,i=d(t);try{for(i.s();!(n=i.n()).done;)if(n.value.containsRange(e))return!1}catch(r){i.e(r)}finally{i.f()}return!0}}]),n}(ju),Ah=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=zd(t.selection.getSelectedBlocks());n&&n.is("image")&&e.schema.checkAttribute("image","linkHref")?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref")}},{key:"execute",value:function(){var e=this.editor,t=this.editor.model,n=t.document.selection,i=e.commands.get("link");t.change((function(e){var r,a=n.isCollapsed?[Ch(n.getFirstPosition(),n.getAttribute("linkHref"),t)]:n.getRanges(),o=d(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(e.removeAttribute("linkHref",s),i){var c,l=d(i.manualDecorators);try{for(l.s();!(c=l.n()).done;){var u=c.value;e.removeAttribute(u.id,s)}}catch(h){l.e(h)}finally{l.f()}}}}catch(h){o.e(h)}finally{o.f()}}))}}]),n}(ju),Th=function(){function e(){f(this,e),this._definitions=new Set}return m(e,[{key:"add",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t._definitions.add(e)})):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var e=this;return function(t){t.on("attribute:linkHref",(function(t,n,i){if(i.consumable.test(n.item,"attribute:linkHref")){var r,a=i.writer,o=a.document.selection,s=d(e._definitions);try{for(s.s();!(r=s.n()).done;){var c=r.value,l=a.createAttributeElement("a",c.attributes,{priority:5});a.setCustomProperty("link",!0,l),c.callback(n.attributeNewValue)?n.item.is("selection")?a.wrap(o.getFirstRange(),l):a.wrap(i.mapper.toViewRange(n.range),l):a.unwrap(i.mapper.toViewRange(n.range),l)}}catch(u){s.e(u)}finally{s.f()}}}),{priority:"high"})}}},{key:"length",get:function(){return this._definitions.size}}]),e}(),Sh=function e(t){var n=t.id,i=t.label,r=t.attributes,a=t.defaultValue;f(this,e),this.id=n,this.set("value"),this.defaultValue=a,this.label=i,this.attributes=r};Bn(Sh,ar);var Mh=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:yi(e,t,n)},Lh=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Eh=function(e){return Lh.test(e)},Ph=function(e){return e.split("")},Ih="[\\ud800-\\udfff]",Vh="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Rh="\\ud83c[\\udffb-\\udfff]",Dh="[^\\ud800-\\udfff]",zh="(?:\\ud83c[\\udde6-\\uddff]){2}",Bh="[\\ud800-\\udbff][\\udc00-\\udfff]",Fh="(?:"+Vh+"|"+Rh+")?",Hh="[\\ufe0e\\ufe0f]?"+Fh+"(?:\\u200d(?:"+[Dh,zh,Bh].join("|")+")[\\ufe0e\\ufe0f]?"+Fh+")*",Uh="(?:"+[Dh+Vh+"?",Vh,zh,Bh,Ih].join("|")+")",qh=RegExp(Rh+"(?="+Rh+")|"+Uh+Hh,"g"),Wh=function(e){return e.match(qh)||[]},Zh=function(e){return Eh(e)?Wh(e):Ph(e)},Gh=function(e){return function(t){t=pi(t);var n=Eh(t)?Zh(t):void 0,i=n?n[0]:t.charAt(0),r=n?Mh(n,1).join(""):t.slice(1);return i[e]()+r}}("toUpperCase"),Yh=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Qh=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function Kh(e,t){var n=t.createAttributeElement("a",{href:e},{priority:5});return t.setCustomProperty("link",!0,n),n}function $h(e){return function(e){return e.replace(Yh,"").match(Qh)}(e=String(e))?e:"#"}n(41);var Jh=/^(https?:)?\/\//,Xh=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("link",{addTargetToExternalLinks:!1}),i}return m(n,null,[{key:"pluginName",get:function(){return"LinkEditing"}}]),m(n,[{key:"init",value:function(){var e=this.editor,t=e.locale;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Kh}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(e,t){return Kh($h(e),t)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(e){return e.getAttribute("href")}}}),e.commands.add("link",new Nh(e)),e.commands.add("unlink",new Ah(e));var n=function(e,t){var n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach((function(e){return e.label&&n[e.label]&&(e.label=n[e.label]),e})),t}(e.t,function(e){var t=[];if(e)for(var n=0,i=Object.entries(e);n<i.length;n++){var r=u(i[n],2),a=r[0],o=r[1],s=Object.assign({},o,{id:"link"+Gh(a)});t.push(s)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter((function(e){return"automatic"===e.mode}))),this._enableManualDecorators(n.filter((function(e){return"manual"===e.mode}))),function(e){var t=e.view,n=e.model,i=e.emitter,r=e.attribute,a=e.locale,o=new kh(n,i,r),s=n.document.selection;i.listenTo(t.document,"keydown",(function(e,t){if(s.isCollapsed&&!(t.shiftKey||t.altKey||t.ctrlKey)){var n=t.keyCode==Mr.arrowright,i=t.keyCode==Mr.arrowleft;if(n||i){var r=s.getFirstPosition(),c=a.contentLanguageDirection;("ltr"===c&&n||"rtl"===c&&i?o.handleForwardMovement(r,t):o.handleBackwardMovement(r,t))&&e.stop()}}}),{priority:An.get("high")+1})}({view:e.editing.view,model:e.model,emitter:this,attribute:"linkHref",locale:t}),this._setupLinkHighlight(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink()}},{key:"_enableAutomaticDecorators",value:function(e){var t=this.editor,n=new Th;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:function(e){return Jh.test(e)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}},{key:"_enableManualDecorators",value:function(e){if(e.length){var t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach((function(e){t.model.schema.extend("$text",{allowAttributes:e.id}),n.add(new Sh(e)),t.conversion.for("downcast").attributeToElement({model:e.id,view:function(t,i){if(t){var r=n.get(e.id).attributes,a=i.createAttributeElement("a",r,{priority:5});return i.setCustomProperty("link",!0,a),a}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(e.id).attributes},model:{key:e.id}})}))}}},{key:"_setupLinkHighlight",value:function(){var e=this.editor,t=e.editing.view,n=new Set;t.document.registerPostFixer((function(t){var i=e.model.document.selection,r=!1;if(i.hasAttribute("linkHref")){var a,o=Ch(i.getFirstPosition(),i.getAttribute("linkHref"),e.model),s=e.editing.mapper.toViewRange(o),c=d(s.getItems());try{for(c.s();!(a=c.n()).done;){var l=a.value;l.is("a")&&!l.hasClass("ck-link_selected")&&(t.addClass("ck-link_selected",l),n.add(l),r=!0)}}catch(u){c.e(u)}finally{c.f()}}return r})),e.conversion.for("editingDowncast").add((function(e){function i(){t.change((function(e){var t,i=d(n.values());try{for(i.s();!(t=i.n()).done;){var r=t.value;e.removeClass("ck-link_selected",r),n.delete(r)}}catch(a){i.e(a)}finally{i.f()}}))}e.on("insert",i,{priority:"highest"}),e.on("remove",i,{priority:"highest"}),e.on("attribute",i,{priority:"highest"}),e.on("selection",i,{priority:"highest"})}))}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var e=this.editor.model,t=e.document.selection;e.on("insertContent",(function(){var n=t.anchor.nodeBefore,i=t.anchor.nodeAfter;t.hasAttribute("linkHref")&&n&&n.hasAttribute("linkHref")&&(i&&i.hasAttribute("linkHref")||e.change((function(t){l(e.document.selection.getAttributeKeys()).filter((function(e){return e.startsWith("link")})).forEach((function(e){return t.removeSelectionAttribute(e)}))})))}),{priority:"low"})}},{key:"_enableClickingAfterLink",value:function(){var e=this.editor;e.editing.view.addObserver(bh);var t=!1;this.listenTo(e.editing.view.document,"mousedown",(function(){t=!0})),this.listenTo(e.editing.view.document,"selectionChange",(function(){if(t){t=!1;var n=e.model.document.selection;if(n.isCollapsed&&n.hasAttribute("linkHref")){var i=n.getFirstPosition(),r=Ch(i,n.getAttribute("linkHref"),e.model);(i.isTouching(r.start)||i.isTouching(r.end))&&e.model.change((function(t){t.removeSelectionAttribute("linkHref");var n,i=d(e.commands.get("link").manualDecorators);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.removeSelectionAttribute(r.id)}}catch(a){i.e(a)}finally{i.f()}}))}}}))}}]),n}(bu),ef=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){this.on("show:warning",(function(e,t){window.alert(t.message)}),{priority:"lowest"})}},{key:"showSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}},{key:"showInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}},{key:"showWarning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}},{key:"_showNotification",value:function(e){var t="show:"+e.type+(e.namespace?":"+e.namespace:"");this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),n}(_d),tf=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).stopListening(i.editor.model.document,"change"),i.listenTo(i.editor.model.document,"change",(function(){return i.refresh()}),{priority:"low"}),i}return m(n,[{key:"refresh",value:function(){var e=this.editor.commands.get("imageInsert"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}},{key:"execute",value:function(){var e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=t&&"modal"!=t)throw new Tn.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',e);var n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;var i=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=function(t){i&&i(t),t.on("files:choose",(function(n){var i,r=n.data.files.toArray(),a=r.filter((function(e){return!e.isImage()})),o=r.filter((function(e){return e.isImage()})),s=d(a);try{for(s.s();!(i=s.n()).done;){var c=i.value;e.execute("link",c.getUrl())}}catch(p){s.e(p)}finally{s.f()}var l,u=[],h=d(o);try{for(h.s();!(l=h.n()).done;){var f=l.value,m=f.getUrl();u.push(m||t.request("file:getProxyUrl",{file:f}))}}catch(p){h.e(p)}finally{h.f()}u.length&&nf(e,u)})),t.on("file:choose:resizedImage",(function(t){var n=t.data.resizedUrl;if(n)nf(e,[n]);else{var i=e.plugins.get("Notification"),r=e.locale.t;i.showWarning(r("Could not obtain resized image URL."),{title:r("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[t](n)}}]),n}(ju);function nf(e,t){if(e.commands.get("imageInsert").isEnabled)e.execute("imageInsert",{source:t});else{var n=e.plugins.get("Notification"),i=e.locale.t;n.showWarning(i("Could not insert image at the current position."),{title:i("Inserting image failed"),namespace:"ckfinder"})}}var rf=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor;e.commands.add("ckfinder",new tf(e))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[ef,vh,Xh]}}]),n}(bu),af=/^data:(\S*?);base64,/,of=function(){function e(t,n,i){if(f(this,e),!t)throw new Tn.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!n)throw new Tn.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!i)throw new Tn.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(e){if("string"!=typeof e)return!1;var t=e.match(af);return!(!t||!t.length)}(t)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;try{for(var n=e.match(af)[1],i=atob(e.replace(af,"")),r=[],a=0;a<i.length;a+=t){for(var o=i.slice(a,a+t),s=new Array(o.length),c=0;c<o.length;c++)s[c]=o.charCodeAt(c);r.push(new Uint8Array(s))}return new Blob(r,{type:n})}catch(e){throw new Tn.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(t):t,this._token=n,this._apiAddress=i}return m(e,[{key:"onProgress",value:function(e){return this.on("progress",(function(t,n){return e(n)})),this}},{key:"onError",value:function(e){return this.once("error",(function(t,n){return e(n)})),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var e=this,t=this,n=this.xhr;function i(e){return function(){return t.fire("error",e)}}n.addEventListener("error",i("Network Error")),n.addEventListener("abort",i("Abort")),n.upload&&n.upload.addEventListener("progress",(function(t){t.lengthComputable&&e.fire("progress",{total:t.total,uploaded:t.loaded})})),n.addEventListener("load",(function(){var t=n.status,i=n.response;if(t<200||t>299)return e.fire("error",i.message||i.error)}))}},{key:"_sendRequest",value:function(){var e=this,t=new FormData,n=this.xhr;return t.append("file",this.file),new Promise((function(i,r){n.addEventListener("load",(function(){var t=n.status,a=n.response;return t<200||t>299?a.message?r(new Tn.b("fileuploader-uploading-data-failed: Uploading file failed.",e,{message:a.message})):r(a.error):i(a)})),n.addEventListener("error",(function(){return r(new Error("Network Error"))})),n.addEventListener("abort",(function(){return r(new Error("Abort"))})),n.send(t)}))}}]),e}();Bn(of,Ln);var sf={refreshInterval:36e5,autoRefresh:!0},cf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sf;if(f(this,e),!t)throw new Tn.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",n.initValue),this._refresh="function"==typeof t?t:function(){return e=t,new Promise((function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",(function(){var e=i.status,r=i.response;return e<200||e>299?n(new Tn.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):t(r)})),i.addEventListener("error",(function(){return n(new Error("Network Error"))})),i.addEventListener("abort",(function(){return n(new Error("Abort"))})),i.send()}));var e},this._options=Object.assign({},sf,n)}return m(e,[{key:"init",value:function(){var e=this;return new Promise((function(t,n){e._options.autoRefresh&&e._startRefreshing(),e.value?t(e):e.refreshToken().then(t).catch(n)}))}},{key:"refreshToken",value:function(){var e=this;return this._refresh().then((function(t){return e.set("value",t)})).then((function(){return e}))}},{key:"destroy",value:function(){this._stopRefreshing()}},{key:"_startRefreshing",value:function(){var e=this;this._refreshInterval=setInterval((function(){return e.refreshToken()}),this._options.refreshInterval)}},{key:"_stopRefreshing",value:function(){clearInterval(this._refreshInterval)}}],[{key:"create",value:function(t){return new e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:sf).init()}}]),e}();Bn(cf,ar);var lf=cf,uf=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.context.config.get("cloudServices")||{};for(var t in e)this[t]=e[t];if(this.tokenUrl)return this.token=new n.Token(this.tokenUrl),this.token.init();this.token=null}},{key:"destroy",value:function(){r(a(n.prototype),"destroy",this).call(this),this.token&&this.token.destroy()}}],[{key:"pluginName",get:function(){return"CloudServices"}}]),n}(_d);uf.Token=lf;var df=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,i=t.plugins.get(uf),r=i.token,a=i.uploadUrl;r&&(this._uploadGateway=new n._UploadGateway(r,a),t.plugins.get(Cd).createUploadAdapter=function(t){return new hf(e._uploadGateway,t)})}}],[{key:"requires",get:function(){return[Cd,uf]}}]),n}(bu),hf=function(){function e(t,n){f(this,e),this.uploadGateway=t,this.loader=n}return m(e,[{key:"upload",value:function(){var e=this;return this.loader.file.then((function(t){return e.fileUploader=e.uploadGateway.upload(t),e.fileUploader.on("progress",(function(t,n){e.loader.uploadTotal=n.total,e.loader.uploaded=n.uploaded})),e.fileUploader.send()}))}},{key:"abort",value:function(){this.fileUploader.abort()}}]),e}();df._UploadGateway=function(){function e(t,n){if(f(this,e),!t)throw new Tn.b("uploadgateway-missing-token: Token must be provided.",null);if(!n)throw new Tn.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=t,this._apiAddress=n}return m(e,[{key:"upload",value:function(e){return new of(e,this._token,this._apiAddress)}}]),e}(),n(43);var ff=["before","after"],mf=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><polyline points="8.05541992 0.263427734 8.05541992 4.23461914 1.28417969 4.23461914" transform="translate(1,0)"></polyline><line x1="0" y1="4.21581031" x2="2" y2="2.17810059" transform="translate(1, 0)"></line><line x1="0" y1="6.21581031" x2="2" y2="4.17810059" transform="translate(2, 5.196955) scale(1, -1) translate(-1, -5.196955)"></line></svg>\n',"image/svg+xml").firstChild,pf=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._currentFakeCaretModelElement=null,i}return m(n,null,[{key:"pluginName",get:function(){return"WidgetTypeAround"}}]),m(n,[{key:"init",value:function(){this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration()}},{key:"destroy",value:function(){this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(e,t){var n=this.editor,i=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(e,t)}),i.focus(),i.scrollToTheSelection()}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var e=this.editor.model.document.selection,t=Xd(e);if(!t)return!1;var n=e.getSelectedElement();return this._insertParagraph(n,t),!0}},{key:"_enableTypeAroundUIInjection",value:function(){var e=this.editor,t=e.model.schema,n=e.locale.t,i={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(function(e,n,r){var a=r.mapper.toViewElement(n.item);Jd(a,n.item,t)&&function(e,t,n){var i=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){var n=this.toDomElement(e);return function(e,t){var n,i=d(ff);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=new ul({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+r],title:t[r]},children:[e.ownerDocument.importNode(mf,!0)]});e.appendChild(a.render())}}catch(o){i.e(o)}finally{i.f()}}(n,t),function(e){var t=new ul({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}(n),n}));e.insert(e.createPositionAt(n,"end"),i)}(r.writer,i,a)}),{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var e=this,t=this.editor,n=t.model,i=n.document.selection,r=n.schema;function a(e){return"ck-widget_type-around_show-fake-caret_"+e}t.editing.view.document.on("keydown",(function(t,n){Ir(n.keyCode)&&e._handleArrowKeyPress(t,n)}),{priority:An.get("high")+10}),i.on("change:range",(function(e,n){n.directChange&&t.model.change((function(e){e.removeSelectionAttribute("widget-type-around")}))})),n.document.on("change:data",(function(){var e=i.getSelectedElement();e&&Jd(t.editing.mapper.toViewElement(e),e,r)||t.model.change((function(e){e.removeSelectionAttribute("widget-type-around")}))})),t.editing.downcastDispatcher.on("selection",(function(t,n,i){var o=i.writer;if(e._currentFakeCaretModelElement){var s=i.mapper.toViewElement(e._currentFakeCaretModelElement);s&&(o.removeClass(ff.map(a),s),e._currentFakeCaretModelElement=null)}var c=n.selection.getSelectedElement();if(c){var l=i.mapper.toViewElement(c);if(Jd(l,c,r)){var u=Xd(n.selection);u&&(o.addClass(a(u),l),e._currentFakeCaretModelElement=c)}}})),this.listenTo(t.ui.focusTracker,"change:isFocused",(function(e,n,i){i||t.model.change((function(e){e.removeSelectionAttribute("widget-type-around")}))}))}},{key:"_handleArrowKeyPress",value:function(e,t){var n,i=this.editor,r=i.model,a=r.document.selection,o=r.schema,s=i.editing.view,c=Rr(t.keyCode,i.locale.contentLanguageDirection),l=s.document.selection.getSelectedElement();Jd(l,i.editing.mapper.toModelElement(l),o)?n=this._handleArrowKeyPressOnSelectedWidget(c):a.isCollapsed&&(n=this._handleArrowKeyPressWhenSelectionNextToAWidget(c)),n&&(t.preventDefault(),e.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(e){var t=this.editor.model,n=Xd(t.document.selection);return t.change((function(t){return n?n!==(e?"after":"before")&&(t.removeSelectionAttribute("widget-type-around"),!0):(t.setSelectionAttribute("widget-type-around",e?"after":"before"),!0)}))}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(e){var t=this.editor,n=t.model,i=n.schema,r=t.plugins.get("Widget"),a=r._getObjectElementNextToSelection(e);return!!Jd(t.editing.mapper.toViewElement(a),a,i)&&(n.change((function(t){r._setSelectionOverElement(a),t.setSelectionAttribute("widget-type-around",e?"before":"after")})),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var e=this,t=this.editor,n=t.editing.view;n.document.on("mousedown",(function(i,r){var a=r.domTarget.closest(".ck-widget__type-around__button");if(a){var o=function(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(a),s=function(e,t){var n=e.closest(".ck-widget");return t.mapDomToView(n)}(a,n.domConverter),c=t.editing.mapper.toModelElement(s);e._insertParagraph(c,o),r.preventDefault(),i.stop()}}))}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var e=this,t=this.editor,n=t.editing.view;this.listenTo(n.document,"enter",(function(i,r){var a,o=n.document.selection.getSelectedElement(),s=t.editing.mapper.toModelElement(o),c=t.model.schema;e._insertParagraphAccordingToFakeCaretPosition()?a=!0:Jd(o,s,c)&&(e._insertParagraph(s,r.isSoft?"before":"after"),a=!0),a&&(r.preventDefault(),i.stop())}))}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var e=this,t=this.editor.editing.view,n=[Mr.enter,Mr.delete,Mr.backspace];t.document.on("keydown",(function(t,i){n.includes(i.keyCode)||Wu(i)||e._insertParagraphAccordingToFakeCaretPosition()}),{priority:An.get("high")+1})}},{key:"_enableDeleteIntegration",value:function(){var e=this.editor,t=e.editing.view,n=e.model,i=n.schema;this.listenTo(t.document,"delete",(function(t,r){var a=Xd(n.document.selection);if(a){var o=r.direction,s=n.document.selection.getSelectedElement(),c="forward"==o;if("before"===a===c)e.execute("delete",{selection:n.createSelection(s,"on")});else{var l=i.getNearestSelectionRange(n.createPositionAt(s,a),o);if(l)if(l.isCollapsed){var u=n.createSelection(l.start);if(n.modifySelection(u,{direction:o}),u.focus.isEqual(l.start)){var h=function(e,t){var n,i=t,r=d(t.getAncestors({parentFirst:!0}));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.childCount>1||e.isLimit(a))break;i=a}}catch(o){r.e(o)}finally{r.f()}return i}(i,l.start.parent);n.deleteContent(n.createSelection(h,"on"),{doNotAutoparagraph:!0})}else n.change((function(t){t.setSelection(l),e.execute(c?"forwardDelete":"delete")}))}else n.change((function(t){t.setSelection(l),e.execute(c?"forwardDelete":"delete")}))}r.preventDefault(),t.stop()}}),{priority:An.get("high")+1})}},{key:"_enableInsertContentIntegration",value:function(){var e=this.editor,t=this.editor.model,n=t.document.selection;this.listenTo(e.model,"insertContent",(function(e,i){var r=u(i,2),a=r[0],o=r[1];if(!o||o.is("documentSelection")){var s=Xd(n);return s?(e.stop(),t.change((function(e){var i=n.getSelectedElement(),r=t.createPositionAt(i,s),o=e.createSelection(r),c=t.insertContent(a,o);return e.setSelection(o),c}))):void 0}}),{priority:"high"})}}]),n}(bu);n(45);var vf=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor.editing.view,n=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(function(t,n,i){e._clearPreviouslySelectedWidgets(i.writer);var r,a=i.writer,o=a.document.selection,s=o.getSelectedElement(),c=null,l=d(o.getRanges());try{for(l.s();!(r=l.n()).done;){var u,h=r.value,f=d(h);try{for(f.s();!(u=f.n()).done;){var m=u.value.item;eh(m)&&!gf(m,c)&&(a.addClass("ck-widget_selected",m),e._previouslySelected.add(m),c=m,m==s&&a.setSelection(o.getRanges(),{fake:!0,label:ih(s)}))}}catch(p){f.e(p)}finally{f.f()}}}catch(p){l.e(p)}finally{l.f()}}),{priority:"low"}),t.addObserver(bh),this.listenTo(n,"mousedown",(function(){return e._onMousedown.apply(e,arguments)})),this.listenTo(n,"keydown",(function(){e._handleSelectionChangeOnArrowKeyPress.apply(e,arguments)}),{priority:"high"}),this.listenTo(n,"keydown",(function(){e._preventDefaultOnArrowKeyPress.apply(e,arguments)}),{priority:An.get("high")-20}),this.listenTo(n,"delete",(function(t,n){e._handleDelete("forward"==n.direction)&&(n.preventDefault(),t.stop())}),{priority:"high"})}},{key:"_onMousedown",value:function(e,t){var n=this.editor,i=n.editing.view,r=i.document,a=t.target;if(function(e){for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(eh(e))return!1;e=e.parent}return!1}(a)){if(Ar.isSafari&&t.domEvent.detail>=3){var o=n.editing.mapper.toModelElement(a);this.editor.model.change((function(e){t.preventDefault(),e.setSelection(o,"in")}))}}else if(eh(a)||(a=a.findAncestor(eh))){t.preventDefault(),r.isFocused||i.focus();var s=n.editing.mapper.toModelElement(a);this._setSelectionOverElement(s)}}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(e,t){var n=t.keyCode;if(Ir(n)){var i=this.editor.model,r=i.schema,a=i.document.selection,o=a.getSelectedElement(),s=Rr(n,this.editor.locale.contentLanguageDirection);if(o&&r.isObject(o)){var c=s?a.getLastPosition():a.getFirstPosition(),l=r.getNearestSelectionRange(c,s?"forward":"backward");l&&(i.change((function(e){e.setSelection(l)})),t.preventDefault(),e.stop())}else if(a.isCollapsed){var u=this._getObjectElementNextToSelection(s);u&&r.isObject(u)&&(this._setSelectionOverElement(u),t.preventDefault(),e.stop())}}}},{key:"_preventDefaultOnArrowKeyPress",value:function(e,t){if(Ir(t.keyCode)){var n=this.editor.model,i=n.schema,r=n.document.selection.getSelectedElement();r&&i.isObject(r)&&(t.preventDefault(),e.stop())}}},{key:"_handleDelete",value:function(e){var t=this;if(!this.editor.isReadOnly){var n=this.editor.model.document.selection;if(n.isCollapsed){var i=this._getObjectElementNextToSelection(e);return i?(this.editor.model.change((function(e){for(var r=n.anchor.parent;r.isEmpty;){var a=r;r=a.parent,e.remove(a)}t._setSelectionOverElement(i)})),!0):void 0}}}},{key:"_setSelectionOverElement",value:function(e){this.editor.model.change((function(t){t.setSelection(t.createRangeOn(e))}))}},{key:"_getObjectElementNextToSelection",value:function(e){var t=this.editor.model,n=t.schema,i=t.document.selection,r=t.createSelection(i);t.modifySelection(r,{direction:e?"forward":"backward"});var a=e?r.focus.nodeBefore:r.focus.nodeAfter;return a&&n.isObject(a)?a:null}},{key:"_clearPreviouslySelectedWidgets",value:function(e){var t,n=d(this._previouslySelected);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.removeClass("ck-widget_selected",i)}}catch(r){n.e(r)}finally{n.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[pf]}}]),n}(bu);function gf(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}var bf=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=uh(e),uh(e)&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document.selection.getSelectedElement();t.change((function(t){t.setAttribute("alt",e.newValue,n)}))}}]),n}(ju),kf=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new bf(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),n}(bu);n(47);var yf=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n),(i=t.call(this,e)).set("text"),i.set("for"),i.id="ck-editor__label_"+Nn();var r=i.bindTemplate;return i.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:i.id,for:r.to("for")},children:[{text:r.to("text")}]}),i}return n}(Tl);n(49);var wf=function(e){p(n,e);var t=v(n);function n(e,i){var r;f(this,n),r=t.call(this,e);var a="ck-labeled-field-view-"+Nn(),s="ck-labeled-field-view-status-"+Nn();r.fieldView=i(o(r),a,s),r.set("label"),r.set("isEnabled",!0),r.set("errorText",null),r.set("infoText",null),r.set("class"),r.labelView=r._createLabelView(a),r.statusView=r._createStatusView(s),r.bind("_statusText").to(o(r),"errorText",o(r),"infoText",(function(e,t){return e||t}));var c=r.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",c.to("class"),c.if("isEnabled","ck-disabled",(function(e){return!e}))]},children:[r.labelView,r.fieldView,r.statusView]}),r}return m(n,[{key:"_createLabelView",value:function(e){var t=new yf(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}},{key:"_createStatusView",value:function(e){var t=new Tl(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(function(e){return!e}))],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}},{key:"focus",value:function(){this.fieldView.focus()}}]),n}(Tl);n(51);var _f=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n),(i=t.call(this,e)).set("value"),i.set("id"),i.set("placeholder"),i.set("isReadOnly",!1),i.set("hasError",!1),i.set("ariaDescribedById");var r=i.bindTemplate;return i.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),readonly:r.to("isReadOnly"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById")},on:{input:r.to("input")}}),i}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this);var t=function(t){e.element.value=t||0===t?t:""};t(this.value),this.on("change:value",(function(e,n,i){t(i)}))}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}}]),n}(Tl);function xf(e,t,n){var i=new _f(e.locale);return i.set({id:t,ariaDescribedById:n}),i.bind("isReadOnly").to(e,"isEnabled",(function(e){return!e})),i.bind("hasError").to(e,"errorText",(function(e){return!!e})),i.on("input",(function(){e.errorText=null})),i}function jf(e){var t=e.view;t.listenTo(t.element,"submit",(function(e,n){n.preventDefault(),t.fire("submit")}),{useCapture:!0})}var Cf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Of='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';n(53);var Nf=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).locale.t;return i.focusTracker=new tl,i.keystrokes=new Wc,i.labeledInput=i._createLabeledInputView(),i.saveButtonView=i._createButton(r("Save"),Cf,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(r("Cancel"),Of,"ck-button-cancel","cancel"),i._focusables=new ll,i._focusCycler=new Wl({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[i.labeledInput,i.saveButtonView,i.cancelButtonView]}),i}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),jf({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)}))}},{key:"_createButton",value:function(e,t,n,i){var r=new eu(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}},{key:"_createLabeledInputView",value:function(){var e=this.locale.t,t=new wf(this.locale,xf);return t.label=e("Text alternative"),t.fieldView.placeholder=e("Text alternative"),t}}]),n}(Tl);n(55),n(57);var Af=Dl("px"),Tf=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).positionLimiter=function(){var e=i.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},i.set("visibleView",null),i.view=new Fl(e.locale),e.ui.view.body.add(i.view),e.ui.focusTracker.add(i.view.element),i._viewToStack=new Map,i._idToStack=new Map,i.set("_numberOfStacks",0),i.set("_singleViewMode",!1),i._rotatorView=i._createRotatorView(),i._fakePanelsView=i._createFakePanelsView(),i}return m(n,null,[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),m(n,[{key:"hasView",value:function(e){return Array.from(this._viewToStack.keys()).includes(e)}},{key:"add",value:function(e){if(this.hasView(e.view))throw new Tn.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,e]);var t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));var n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}},{key:"remove",value:function(e){if(!this.hasView(e))throw new Tn.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,e]);var t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}},{key:"updatePosition",value:function(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(e){this.visibleStack=e;var t=this._idToStack.get(e);if(!t)throw new Tn.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}},{key:"_getStackId",value:function(e){return Array.from(this._idToStack.entries()).find((function(t){return t[1]===e}))[0]}},{key:"_showNextStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}},{key:"_showPrevStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}},{key:"_createRotatorView",value:function(){var e=this,t=new Sf(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>1})),t.on("change:isNavigationVisible",(function(){return e.updatePosition()}),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(function(t,i){if(i<2)return"";var r=Array.from(e._idToStack.values()).indexOf(e._visibleStack)+1;return n("%0 of %1",[r,i])})),t.buttonNextView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showNextStack()})),t.buttonPrevView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showPrevStack()})),t}},{key:"_createFakePanelsView",value:function(){var e=new Mf(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>=2?Math.min(e-1,2):0})),e.listenTo(this.view,"change:top",(function(){return e.updatePosition()})),e.listenTo(this.view,"change:left",(function(){return e.updatePosition()})),this.editor.ui.view.body.add(e),e}},{key:"_showView",value:function(e){var t=e.view,n=e.balloonClassName,i=void 0===n?"":n,r=e.withArrow,a=void 0===r||r,o=e.singleViewMode,s=void 0!==o&&o;this.view.class=i,this.view.withArrow=a,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var e=Array.from(this._visibleStack.values()).pop().position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}}]),n}(bu),Sf=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n),i=t.call(this,e);var r=e.t,a=i.bindTemplate;return i.set("isNavigationVisible",!0),i.focusTracker=new tl,i.buttonPrevView=i._createButtonView(r("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),i.buttonNextView=i._createButtonView(r("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),i.content=i.createCollection(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",(function(e){return e?"":"ck-hidden"}))]},children:[i.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},i.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:i.content}]}),i}return m(n,[{key:"render",value:function(){r(a(n.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(e){this.hideView(),this.content.add(e)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(e,t){var n=new eu(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}]),n}(Tl),Mf=function(e){p(n,e);var t=v(n);function n(e,i){var r;f(this,n);var a=(r=t.call(this,e)).bindTemplate;return r.set("top",0),r.set("left",0),r.set("height",0),r.set("width",0),r.set("numberOfPanels",0),r.content=r.createCollection(),r._balloonPanelView=i,r.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",(function(e){return e?"":"ck-hidden"}))],style:{top:a.to("top",Af),left:a.to("left",Af),width:a.to("width",Af),height:a.to("height",Af)}},children:r.content}),r.on("change:numberOfPanels",(function(e,t,n,i){n>i?r._addPanels(n-i):r._removePanels(i-n),r.updatePosition()})),r}return m(n,[{key:"_addPanels",value:function(e){for(;e--;){var t=new Tl;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}},{key:"_removePanels",value:function(e){for(;e--;){var t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var e=this._balloonPanelView,t=e.top,n=e.left,i=new bo(this._balloonPanelView.element),r=i.width,a=i.height;Object.assign(this,{top:t,left:n,width:r,height:a})}}}]),n}(Tl);function Lf(e){var t=e.editing.view,n=Fl.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}var Ef=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){r(a(n.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("imageTextAlternative",(function(i){var r=t.commands.get("imageTextAlternative"),a=new eu(i);return a.set({label:n("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),a.bind("isEnabled").to(r,"isEnabled"),e.listenTo(a,"execute",(function(){e._showForm()})),a}))}},{key:"_createForm",value:function(){var e=this,t=this.editor,n=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Nf(t.locale),this._form.render(),this.listenTo(this._form,"submit",(function(){t.execute("imageTextAlternative",{newValue:e._form.labeledInput.fieldView.element.value}),e._hideForm(!0)})),this.listenTo(this._form,"cancel",(function(){e._hideForm(!0)})),this._form.keystrokes.set("Esc",(function(t,n){e._hideForm(!0),n()})),this.listenTo(t.ui,"update",(function(){lh(n.selection)?e._isVisible&&function(e){var t=e.plugins.get("ContextualBalloon");if(lh(e.editing.view.document.selection)){var n=Lf(e);t.updatePosition(n)}}(t):e._hideForm(!0)})),su({emitter:this._form,activator:function(){return e._isVisible},contextElements:[this._balloon.view.element],callback:function(){return e._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:Lf(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select()}}},{key:"_hideForm",value:function(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[Tf]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),n}(bu),Pf=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[kf,Ef]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),n}(bu);n(59);var If=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[vh,vf,Pf]}},{key:"pluginName",get:function(){return"Image"}}]),n}(bu),Vf=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).buttonView=new eu(e),i._fileInputView=new Rf(e),i._fileInputView.bind("acceptedType").to(o(i)),i._fileInputView.bind("allowMultipleFiles").to(o(i)),i._fileInputView.delegate("done").to(o(i)),i.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[i.buttonView,i._fileInputView]}),i.buttonView.on("execute",(function(){i._fileInputView.open()})),i}return m(n,[{key:"focus",value:function(){this.buttonView.focus()}}]),n}(Tl),Rf=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n),(i=t.call(this,e)).set("acceptedType"),i.set("allowMultipleFiles",!1);var r=i.bindTemplate;return i.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to((function(){i.element&&i.element.files&&i.element.files.length&&i.fire("done",i.element.files),i.element.value=""}))}}),i}return m(n,[{key:"open",value:function(){this.element.click()}}]),n}(Tl);function Df(e){var t=e.map((function(e){return e.replace("+","\\+")}));return new RegExp("^image\\/(".concat(t.join("|"),")$"))}var zf=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.t;e.ui.componentFactory.add("imageUpload",(function(n){var i=new Vf(n),r=e.commands.get("imageUpload"),a=e.config.get("image.upload.types"),o=Df(a);return i.set({acceptedType:a.map((function(e){return"image/"+e})).join(","),allowMultipleFiles:!0}),i.buttonView.set({label:t("Insert image"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),i.buttonView.bind("isEnabled").to(r),i.on("done",(function(t,n){var i=Array.from(n).filter((function(e){return o.test(e.type)}));i.length&&e.execute("imageUpload",{file:i})})),i}))}}]),n}(bu);n(61),n(63),n(65);var Bf=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'),i}return m(n,[{key:"init",value:function(){var e=this;this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(function(){return e.uploadStatusChange.apply(e,arguments)}))}},{key:"uploadStatusChange",value:function(e,t,n){var i=this.editor,r=t.item,a=r.getAttribute("uploadId");if(n.consumable.consume(t.item,e.name)){var o=i.plugins.get(Cd),s=a?t.attributeNewValue:null,c=this.placeholder,l=i.editing.mapper.toViewElement(r),u=n.writer;if("reading"==s)return Ff(l,u),void Hf(c,l,u);if("uploading"==s){var d=o.loaders.get(a);return Ff(l,u),void(d?(Uf(l,u),function(e,t,n,i){var r=function(e){var t=e.createUIElement("div",{class:"ck-progress-bar"});return e.setCustomProperty("progressBar",!0,t),t}(t);t.insert(t.createPositionAt(e,"end"),r),n.on("change:uploadedPercent",(function(e,t,n){i.change((function(e){e.setStyle("width",n+"%",r)}))}))}(l,u,d,i.editing.view),function(e,t,n){if(n.data){var i=fh(e);t.setAttribute("src",n.data,i)}}(l,u,d)):Hf(c,l,u))}"complete"==s&&o.loaders.get(a)&&function(e,t,n){var i=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),i),setTimeout((function(){n.change((function(e){return e.remove(e.createRangeOn(i))}))}),3e3)}(l,u,i.editing.view),function(e,t){Wf(e,t,"progressBar")}(l,u),Uf(l,u),function(e,t){t.removeClass("ck-appear",e)}(l,u)}}}]),n}(bu);function Ff(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function Hf(e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);var i=fh(t);i.getAttribute("src")!==e&&n.setAttribute("src",e,i),qf(t,"placeholder")||n.insert(n.createPositionAfter(i),function(e){var t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});return e.setCustomProperty("placeholder",!0,t),t}(n))}function Uf(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),Wf(e,t,"placeholder")}function qf(e,t){var n,i=d(e.getChildren());try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.getCustomProperty(t))return r}}catch(a){i.e(a)}finally{i.f()}}function Wf(e,t,n){var i=qf(e,n);i&&t.remove(t.createRangeOn(i))}var Zf=function(){function e(t){f(this,e),this.document=t}return m(e,[{key:"createDocumentFragment",value:function(e){return new Hr(this.document,e)}},{key:"createElement",value:function(e,t,n){return new Ki(this.document,e,t,n)}},{key:"createText",value:function(e){return new $n(this.document,e)}},{key:"clone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e._clone(t)}},{key:"appendChild",value:function(e,t){return t._appendChild(e)}},{key:"insertChild",value:function(e,t,n){return n._insertChild(e,t)}},{key:"removeChildren",value:function(e,t,n){return n._removeChildren(e,t)}},{key:"remove",value:function(e){var t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}},{key:"replace",value:function(e,t){var n=e.parent;if(n){var i=n.getChildIndex(e);return this.removeChildren(i,1,n),this.insertChild(i,t,n),!0}return!1}},{key:"unwrapElement",value:function(e){var t=e.parent;if(t){var n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}},{key:"rename",value:function(e,t){var n=new Ki(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){z(e)&&void 0===n&&(n=t),n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"createPositionAt",value:function(e,t){return pr._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return pr._createAfter(e)}},{key:"createPositionBefore",value:function(e){return pr._createBefore(e)}},{key:"createRange",value:function(e,t){return new vr(e,t)}},{key:"createRangeOn",value:function(e){return vr._createOn(e)}},{key:"createRangeIn",value:function(e){return vr._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new kr(e,t,n)}}]),e}(),Gf=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){this.isEnabled=hh(this.editor.model)}},{key:"execute",value:function(e){var t=this.editor,n=t.model,i=t.plugins.get(Cd);n.change((function(t){var r,a=Array.isArray(e.file)?e.file:[e.file],o=d(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;Yf(t,n,i,s)}}catch(c){o.e(c)}finally{o.f()}}))}}]),n}(ju);function Yf(e,t,n,i){var r=n.createLoader(i);r&&dh(e,t,{uploadId:r.id})}var Qf=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),i}return m(n,null,[{key:"requires",get:function(){return[Cd,ef,xu]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document,i=t.model.schema,r=t.conversion,a=t.plugins.get(Cd),o=Df(t.config.get("image.upload.types"));i.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new Gf(t)),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(function(e,n){if(i=n.dataTransfer,!Array.from(i.types).includes("text/html")||""===i.getData("text/html")){var i,r=Array.from(n.dataTransfer.files).filter((function(e){return!!e&&o.test(e.type)})),a=n.targetRanges.map((function(e){return t.editing.mapper.toModelRange(e)}));t.model.change((function(n){n.setSelection(a),r.length&&(e.stop(),t.model.enqueueChange("default",(function(){t.execute("imageUpload",{file:r})})))}))}})),this.listenTo(t.plugins.get(xu),"inputTransformation",(function(e,n){var i=Array.from(t.editing.view.createRangeIn(n.content)).filter((function(e){return!(!(t=e.item).is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))&&!e.item.getAttribute("uploadProcessed");var t})).map((function(e){return{promise:(t=e.item,new Promise((function(e,n){var i=t.getAttribute("src");fetch(i).then((function(e){return e.blob()})).then((function(t){var n=function(e,t){return e.type?e.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(t,i),r=n.replace("image/",""),a=new File([t],"image."+r,{type:n});e(a)})).catch(n)}))),imageElement:e.item};var t}));if(i.length){var r,o=new Zf(t.editing.view.document),s=d(i);try{for(s.s();!(r=s.n()).done;){var c=r.value;o.setAttribute("uploadProcessed",!0,c.imageElement);var l=a.createLoader(c.promise);l&&(o.setAttribute("src","",c.imageElement),o.setAttribute("uploadId",l.id,c.imageElement))}}catch(u){s.e(u)}finally{s.f()}}})),t.editing.view.document.on("dragover",(function(e,t){t.preventDefault()})),n.on("change",(function(){var i,r=n.differ.getChanges({includeChangesInGraveyard:!0}),o=d(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;if("insert"==s.type&&"$text"!=s.name){var c,l=s.position.nodeAfter,u="$graveyard"==s.position.root.rootName,h=d(Kf(t,l));try{for(h.s();!(c=h.n()).done;){var f=c.value,m=f.getAttribute("uploadId");if(m){var p=a.loaders.get(m);p&&(u?p.abort():"idle"==p.status&&e._readAndUpload(p,f))}}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){o.e(v)}finally{o.f()}}))}},{key:"_readAndUpload",value:function(e,t){var n=this,i=this.editor,r=i.model,a=i.locale.t,o=i.plugins.get(Cd),s=i.plugins.get(ef);return r.enqueueChange("transparent",(function(e){e.setAttribute("uploadStatus","reading",t)})),e.read().then((function(){var n=e.upload();if(Ar.isSafari){var a=fh(i.editing.mapper.toViewElement(t));i.editing.view.once("render",(function(){if(a.parent){var e=i.editing.view.domConverter.mapViewToDom(a.parent);if(e){var t=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=t}}}))}return r.enqueueChange("transparent",(function(e){e.setAttribute("uploadStatus","uploading",t)})),n})).then((function(e){r.enqueueChange("transparent",(function(i){i.setAttributes({uploadStatus:"complete",src:e.default},t),n._parseAndSetSrcsetAttributeOnImage(e,t,i)})),c()})).catch((function(n){if("error"!==e.status&&"aborted"!==e.status)throw n;"error"==e.status&&n&&s.showWarning(n,{title:a("Upload failed"),namespace:"upload"}),c(),r.enqueueChange("transparent",(function(e){e.remove(t)}))}));function c(){r.enqueueChange("transparent",(function(e){e.removeAttribute("uploadId",t),e.removeAttribute("uploadStatus",t)})),o.destroyLoader(e)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(e,t,n){var i=0,r=Object.keys(e).filter((function(e){var t=parseInt(e,10);if(!isNaN(t))return i=Math.max(i,t),!0})).map((function(t){return"".concat(e[t]," ").concat(t,"w")})).join(", ");""!=r&&n.setAttribute("srcset",{data:r,width:i},t)}}]),n}(bu);function Kf(e,t){return Array.from(e.model.createRangeOn(t)).filter((function(e){return e.item.is("image")})).map((function(e){return e.item}))}var $f=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[Qf,zf,Bf]}}]),n}(bu),Jf=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=this.editor.model,t=zd(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("paragraph"),this.isEnabled=!!t&&Xf(t,e.schema)}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=t.document;t.change((function(i){var r,a=(e.selection||n.selection).getSelectedBlocks(),o=d(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;!s.is("paragraph")&&Xf(s,t.schema)&&i.rename(s,"paragraph")}}catch(c){o.e(c)}finally{o.f()}}))}}]),n}(ju);function Xf(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}var em=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"execute",value:function(e){var t=this.editor.model,n=e.position;t.change((function(e){var i=e.createElement("paragraph");if(!t.schema.checkChild(n.parent,i)){var r=t.schema.findAllowedParent(n,i);if(!r)return;n=e.split(n,r).position}t.insertContent(i,n),e.setSelection(i,"in")}))}}]),n}(ju),tm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,i=t.model,r=t.data;t.commands.add("paragraph",new Jf(t)),t.commands.add("insertParagraph",new em(t)),i.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:function(e,t){return n.paragraphLikeElements.has(e.name)?e.isEmpty?null:t.createElement("paragraph"):null},converterPriority:"low"}),r.upcastDispatcher.on("element",(function(e,t,n){n.consumable.test(t.viewItem,{name:t.viewItem.name})&&im(t.viewItem,t.modelCursor,n.schema)&&Object.assign(t,nm(t.viewItem,t.modelCursor,n))}),{priority:"low"}),r.upcastDispatcher.on("text",(function(e,t,n){t.modelRange||im(t.viewItem,t.modelCursor,n.schema)&&Object.assign(t,nm(t.viewItem,t.modelCursor,n))}),{priority:"lowest"}),i.document.registerPostFixer((function(t){return e._autoparagraphEmptyRoots(t)})),t.data.on("ready",(function(){i.enqueueChange("transparent",(function(t){return e._autoparagraphEmptyRoots(t)}))}),{priority:"lowest"})}},{key:"_autoparagraphEmptyRoots",value:function(e){var t,n=this.editor.model,i=d(n.document.getRootNames());try{for(i.s();!(t=i.n()).done;){var r=t.value,a=n.document.getRoot(r);if(a.isEmpty&&"$graveyard"!=a.rootName&&n.schema.checkChild(a,"paragraph"))return e.insertElement("paragraph",a),!0}}catch(o){i.e(o)}finally{i.f()}}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),n}(bu);function nm(e,t,n){var i=n.writer.createElement("paragraph");return n.writer.insert(i,t),n.convertItem(e,n.writer.createPositionAt(i,0))}function im(e,t,n){var i=n.createContext(t);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),e)}tm.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);var rm=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).modelElements=i,r}return m(n,[{key:"refresh",value:function(){var e=this,t=zd(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((function(n){return am(t,n,e.editor.model.schema)}))}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document,i=e.value;t.change((function(e){var r,a=Array.from(n.selection.getSelectedBlocks()).filter((function(e){return am(e,i,t.schema)})),o=d(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.is(i)||e.rename(s,i)}}catch(c){o.e(c)}finally{o.f()}}))}}]),n}(ju);function am(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}var om=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),i}return m(n,null,[{key:"pluginName",get:function(){return"HeadingEditing"}}]),m(n,[{key:"init",value:function(){var e,t=this.editor,n=t.config.get("heading.options"),i=[],r=d(n);try{for(r.s();!(e=r.n()).done;){var a=e.value;"paragraph"!==a.model&&(t.model.schema.register(a.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(a),i.push(a.model))}}catch(o){r.e(o)}finally{r.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new rm(t,i))}},{key:"afterInit",value:function(){var e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(function(t,i){var r=e.model.document.selection.getFirstPosition().parent;n.some((function(e){return r.is(e.model)}))&&!r.is("paragraph")&&0===r.childCount&&i.writer.rename(r,"paragraph")}))}},{key:"_addDefaultH1Conversion",value:function(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:An.get("low")+1})}}],[{key:"requires",get:function(){return[tm]}}]),n}(bu),sm=function e(t,n){f(this,e),n&&er(this,n),t&&this.set(t)};Bn(sm,ar),n(11);var cm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,i=function(e){var t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map((function(e){var t=n[e.title];return t&&t!=e.title&&(e.title=t),e}))}(t),r=n("Choose heading"),a=n("Heading");t.ui.componentFactory.add("heading",(function(n){var o,s={},c=new Fn,l=t.commands.get("heading"),u=t.commands.get("paragraph"),h=[l],f=d(i);try{var m=function(){var e=o.value,t={type:"button",model:new sm({label:e.title,class:e.class,withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(u,"value"),t.model.set("commandName","paragraph"),h.push(u)):(t.model.bind("isOn").to(l,"value",(function(t){return t===e.model})),t.model.set({commandName:"heading",commandValue:e.model})),c.add(t),s[e.model]=e.title};for(f.s();!(o=f.n()).done;)m()}catch(v){f.e(v)}finally{f.f()}var p=cu(n);return uu(p,c),p.buttonView.set({isOn:!1,withText:!0,tooltip:a}),p.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),p.bind("isEnabled").toMany(h,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),p.buttonView.bind("label").to(l,"value",u,"value",(function(e,t){var n=e||t&&"paragraph";return s[n]?s[n]:r})),e.listenTo(p,"execute",(function(e){t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()})),p}))}}]),n}(bu);function lm(e){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i&&i.is("caption"))return i}}catch(r){n.e(r)}finally{n.f()}return null}function um(e){var t=e.parent;return"figcaption"==e.name&&t&&"figure"==t.name&&t.hasClass("image")?{name:!0}:null}var dm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view,i=t.model.schema,r=t.data,a=t.editing,o=t.t;i.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer((function(t){return e._insertMissingModelCaptionElement(t)})),t.conversion.for("upcast").elementToElement({view:um,model:"caption"}),r.downcastDispatcher.on("insert:caption",hm((function(e){return e.createContainerElement("figcaption")}),!1));var s=function(e,t){return function(n){var i=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,i),rl({view:e,element:i,text:t}),rh(i,n)}}(n,o("Enter image caption"));a.downcastDispatcher.on("insert:caption",hm(s)),a.downcastDispatcher.on("insert",this._fixCaptionVisibility((function(e){return e.item})),{priority:"high"}),a.downcastDispatcher.on("remove",this._fixCaptionVisibility((function(e){return e.position.parent})),{priority:"high"}),n.document.registerPostFixer((function(t){return e._updateCaptionVisibility(t)}))}},{key:"_updateCaptionVisibility",value:function(e){var t,n=this.editor.editing.mapper,i=this._lastSelectedCaption,r=this.editor.model.document.selection,a=r.getSelectedElement();if(a&&a.is("image")){var o=lm(a);t=n.toViewElement(o)}var s=fm(r.getFirstPosition().parent);if(s&&(t=n.toViewElement(s)),t)return i?(i===t||(mm(i,e),this._lastSelectedCaption=t),pm(t,e)):(this._lastSelectedCaption=t,pm(t,e));if(i){var c=mm(i,e);return this._lastSelectedCaption=null,c}return!1}},{key:"_fixCaptionVisibility",value:function(e){var t=this;return function(n,i,r){var a=fm(e(i)),o=t.editor.editing.mapper,s=r.writer;if(a){var c=o.toViewElement(a);c&&(a.childCount?s.removeClass("ck-hidden",c):s.addClass("ck-hidden",c))}}}},{key:"_insertMissingModelCaptionElement",value:function(e){var t,n=this.editor.model,i=n.document.differ.getChanges(),r=[],a=d(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;if("insert"==o.type&&"$text"!=o.name){var s=o.position.nodeAfter;if(s.is("image")&&!lm(s)&&r.push(s),!s.is("image")&&s.childCount){var c,l=d(n.createRangeIn(s).getItems());try{for(l.s();!(c=l.n()).done;){var u=c.value;u.is("image")&&!lm(u)&&r.push(u)}}catch(p){l.e(p)}finally{l.f()}}}}}catch(p){a.e(p)}finally{a.f()}for(var h=0,f=r;h<f.length;h++){var m=f[h];e.appendElement("caption",m)}return!!r.length}}],[{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),n}(bu);function hm(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,i,r){var a=i.item;if((a.childCount||t)&&uh(a.parent)){if(!r.consumable.consume(i.item,"insert"))return;var o=r.mapper.toViewElement(i.range.start.parent),s=e(r.writer),c=r.writer;a.childCount||c.addClass("ck-hidden",s),function(e,t,n,i){var r=i.writer.createPositionAt(n,"end");i.writer.insert(r,e),i.mapper.bindElements(t,e)}(s,i.item,o,r)}}}function fm(e){var t=e.getAncestors({includeSelf:!0}).find((function(e){return"caption"==e.name}));return t&&t.parent&&"image"==t.parent.name?t:null}function mm(e,t){return!e.childCount&&!e.hasClass("ck-hidden")&&(t.addClass("ck-hidden",e),!0)}function pm(e,t){return!!e.hasClass("ck-hidden")&&(t.removeClass("ck-hidden",e),!0)}n(68);var vm=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).defaultStyle=!1,r.styles=i.reduce((function(e,t){return e[t.name]=t,t.isDefault&&(r.defaultStyle=t.name),e}),{}),r}return m(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=uh(e),e)if(e.hasAttribute("imageStyle")){var t=e.getAttribute("imageStyle");this.value=!!this.styles[t]&&t}else this.value=this.defaultStyle;else this.value=!1}},{key:"execute",value:function(e){var t=this,n=e.value,i=this.editor.model,r=i.document.selection.getSelectedElement();i.change((function(e){t.styles[n].isDefault?e.removeAttribute("imageStyle",r):e.setAttribute("imageStyle",n,r)}))}}]),n}(ju);function gm(e,t){var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.name===e)return r}}catch(a){i.e(a)}finally{i.f()}}var bm='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',km='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',ym='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',wm='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',_m={full:{name:"full",title:"Full size image",icon:bm,isDefault:!0},side:{name:"side",title:"Side image",icon:wm,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:km,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:ym,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:wm,className:"image-style-align-right"}},xm={full:bm,left:km,right:wm,center:ym};function jm(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Cm)}function Cm(e){if("string"==typeof e){var t=e;_m[t]?e=Object.assign({},_m[t]):(console.warn(Object(Tn.a)("image-style-not-found: There is no such image style of given name."),{name:t}),e={name:t})}else if(_m[e.name]){var n=_m[e.name],i=Object.assign({},e);for(var r in n)Object.prototype.hasOwnProperty.call(e,r)||(i[r]=n[r]);e=i}return"string"==typeof e.icon&&xm[e.icon]&&(e.icon=xm[e.icon]),e}var Om=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.data,i=e.editing;e.config.define("image.styles",["full","side"]);var r=jm(e.config.get("image.styles"));t.extend("image",{allowAttributes:"imageStyle"});var a=function(e){return function(t,n,i){if(i.consumable.consume(n.item,t.name)){var r=gm(n.attributeNewValue,e),a=gm(n.attributeOldValue,e),o=i.mapper.toViewElement(n.item),s=i.writer;a&&s.removeClass(a.className,o),r&&s.addClass(r.className,o)}}}(r);i.downcastDispatcher.on("attribute:imageStyle:image",a),n.downcastDispatcher.on("attribute:imageStyle:image",a),n.upcastDispatcher.on("element:figure",function(e){var t=e.filter((function(e){return!e.isDefault}));return function(e,n,i){if(n.modelRange){var r=n.viewItem,a=zd(n.modelRange.getItems());if(i.schema.checkAttribute(a,"imageStyle")){var o,s=d(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;i.consumable.consume(r,{classes:c.className})&&i.writer.setAttribute("imageStyle",c.name,a)}}catch(l){s.e(l)}finally{s.f()}}}}}(r),{priority:"low"}),e.commands.add("imageStyle",new vm(e,r))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]),n}(bu);n(70);var Nm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e,t=function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;t[r.title]&&(r.title=t[r.title])}}catch(a){i.e(a)}finally{i.f()}return e}(jm(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles),n=d(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this._createButton(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"_createButton",value:function(e){var t=this,n=this.editor,i="imageStyle:"+e.name;n.ui.componentFactory.add(i,(function(i){var r=n.commands.get("imageStyle"),a=new eu(i);return a.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),a.bind("isEnabled").to(r,"isEnabled"),a.bind("isOn").to(r,"value",(function(t){return t===e.name})),t.listenTo(a,"execute",(function(){n.execute("imageStyle",{value:e.name}),n.editing.view.focus()})),a}))}},{key:"localizedDefaultStylesTitles",get:function(){var e=this.editor.t;return{"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]),n}(bu),Am=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor;if(t.plugins.has("BalloonToolbar")){var n=t.plugins.get("BalloonToolbar");this.listenTo(n,"show",(function(e){(function(e){var t=e.getSelectedElement();return!(!t||!eh(t))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(function(){e._updateToolbarsVisibility()}),{priority:"low"})}},{key:"destroy",value:function(){r(a(n.prototype),"destroy",this).call(this);var e,t=d(this._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;)e.value.view.destroy()}catch(i){t.e(i)}finally{t.f()}}},{key:"register",value:function(e,t){var n=t.ariaLabel,i=t.items,r=t.getRelatedElement,a=t.balloonClassName,o=void 0===a?"ck-toolbar-container":a;if(i.length){var s=this.editor,c=s.t,l=new du(s.locale);if(l.ariaLabel=n||c("Widget toolbar"),this._toolbarDefinitions.has(e))throw new Tn.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:e});l.fillFromConfig(i,s.ui.componentFactory),this._toolbarDefinitions.set(e,{view:l,getRelatedElement:r,balloonClassName:o})}else console.warn(Object(Tn.a)("widget-toolbar-no-items: Trying to register a toolbar without items."),{toolbarId:e})}},{key:"_updateToolbarsVisibility",value:function(){var e,t=0,n=null,i=null,r=d(this._toolbarDefinitions.values());try{for(r.s();!(e=r.n()).done;){var a=e.value,o=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&o)if(this.editor.ui.focusTracker.isFocused){var s=o.getAncestors().length;s>t&&(t=s,n=o,i=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}}catch(c){r.e(c)}finally{r.f()}i&&this._showToolbar(i,n)}},{key:"_hideToolbar",value:function(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(e,t){var n=this;this._isToolbarVisible(e)?Tm(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:Sm(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(function(){var e,t=d(n._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;){var i=e.value;if(n._isToolbarVisible(i)){var r=i.getRelatedElement(n.editor.editing.view.document.selection);Tm(n.editor,r)}}}catch(a){t.e(a)}finally{t.f()}})))}},{key:"_isToolbarVisible",value:function(e){return this._balloon.visibleView===e.view}},{key:"_isToolbarInBalloon",value:function(e){return this._balloon.hasView(e.view)}}],[{key:"requires",get:function(){return[Tf]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),n}(bu);function Tm(e,t){var n=e.plugins.get("ContextualBalloon"),i=Sm(e,t);n.updatePosition(i)}function Sm(e,t){var n=e.editing.view,i=Fl.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,oh]}}var Mm=function(){function e(t){f(this,e),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}return m(e,[{key:"begin",value:function(e,t,n){var i=new bo(t);this.activeHandlePosition=function(e){for(var t=0,n=["top-left","top-right","bottom-right","bottom-left"];t<n.length;t++){var i=n[t];if(e.classList.contains("ck-widget__resizer__handle-"+i))return i}}(e),this._referenceCoordinates=function(e,t){var n=new bo(e),i=t.split("-"),r={x:"right"==i[1]?n.right:n.left,y:"bottom"==i[0]?n.bottom:n.top};return r.x+=e.ownerDocument.defaultView.scrollX,r.y+=e.ownerDocument.defaultView.scrollY,r}(t,function(e){var t=e.split("-"),n={top:"bottom",bottom:"top",left:"right",right:"left"};return"".concat(n[t[0]],"-").concat(n[t[1]])}(this.activeHandlePosition)),this.originalWidth=i.width,this.originalHeight=i.height,this.aspectRatio=i.width/i.height;var r=n.style.width;r&&r.match(/^\d+\.?\d*%$/)?this.originalWidthPercents=parseFloat(r):this.originalWidthPercents=function(e,t){var n=e.parentElement,i=parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width);return t.width/i*100}(n,i)}},{key:"update",value:function(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}]),e}();Bn(Mm,ar);var Lm=function(){function e(t){var n=this;f(this,e),this._options=t,this._domResizerWrapper=null,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",(function(e){n.state.proposedWidth||n.state.proposedWidthPercents||(n._cleanup(),e.stop())}),{priority:"high"})}return m(e,[{key:"attach",value:function(){var e=this,t=this,n=this._options.viewElement;this._options.editor.editing.view.change((function(i){var r=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(e){var n=this.toDomElement(e);return t._appendHandles(n),t._appendSizeUI(n),t._domResizerWrapper=n,t.on("change:isEnabled",(function(e,t,i){n.style.display=i?"":"none"})),n.style.display=t.isEnabled?"":"none",n}));i.insert(i.createPositionAt(n,"end"),r),i.addClass("ck-widget_with-resizer",n),e._viewResizerWrapper=r}))}},{key:"begin",value:function(e){this.state=new Mm(this._options),this._sizeUI.bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}},{key:"updateSize",value:function(e){var t=this,n=this._proposeNewSize(e);this._options.editor.editing.view.change((function(e){var i=t._options.unit||"%",r=("%"===i?n.widthPercents:n.width)+i;e.setStyle("width",r,t._options.viewElement)}));var i=this._getHandleHost(),r=new bo(i);n.handleHostWidth=Math.round(r.width),n.handleHostHeight=Math.round(r.height);var a=new bo(i);n.width=Math.round(a.width),n.height=Math.round(a.height),this.redraw(r),this.state.update(n)}},{key:"commit",value:function(){var e=this,t=this._options.unit||"%",n=("%"===t?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change((function(){e._cleanup(),e._options.onCommit(n)}))}},{key:"cancel",value:function(){this._cleanup()}},{key:"destroy",value:function(){this.cancel()}},{key:"redraw",value:function(e){var t,n=this,i=this._domResizerWrapper;(t=i)&&t.ownerDocument&&t.ownerDocument.contains(t)&&this._options.editor.editing.view.change((function(t){var r=i.parentElement,a=n._getHandleHost(),o=e||new bo(a);t.setStyle("width",o.width+"px",n._viewResizerWrapper),t.setStyle("height",o.height+"px",n._viewResizerWrapper);var s=a.offsetLeft,c=a.offsetTop,l=a.offsetHeight,u=a.offsetWidth;r.isSameNode(a)||(t.setStyle("left",s+"px",n._viewResizerWrapper),t.setStyle("top",c+"px",n._viewResizerWrapper),t.setStyle("height",l+"px",n._viewResizerWrapper),t.setStyle("width",u+"px",n._viewResizerWrapper))}))}},{key:"containsHandle",value:function(e){return this._domResizerWrapper.contains(e)}},{key:"_cleanup",value:function(){var e=this;this._sizeUI.dismiss(),this._sizeUI.isVisible=!1,this._options.editor.editing.view.change((function(t){t.setStyle("width",e._initialViewWidth,e._options.viewElement)}))}},{key:"_proposeNewSize",value:function(e){var t,n=this.state,i={x:(t=e).pageX,y:t.pageY},r=!this._options.isCentered||this._options.isCentered(this),a={x:n._referenceCoordinates.x-(i.x+n.originalWidth),y:i.y-n.originalHeight-n._referenceCoordinates.y};r&&n.activeHandlePosition.endsWith("-right")&&(a.x=i.x-(n._referenceCoordinates.x+n.originalWidth)),r&&(a.x*=2);var o={width:Math.abs(n.originalWidth+a.x),height:Math.abs(n.originalHeight+a.y)};o.dominant=o.width/n.aspectRatio>o.height?"width":"height",o.max=o[o.dominant];var s={width:o.width,height:o.height};return"width"==o.dominant?s.height=s.width/n.aspectRatio:s.width=s.height*n.aspectRatio,{width:Math.round(s.width),height:Math.round(s.height),widthPercents:Math.min(Math.round(n.originalWidthPercents/n.originalWidth*s.width*100)/100,100)}}},{key:"_getResizeHost",value:function(){var e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}},{key:"_getHandleHost",value:function(){var e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}},{key:"_appendHandles",value:function(e){for(var t,n=0,i=["top-left","top-right","bottom-right","bottom-left"];n<i.length;n++){var r=i[n];e.appendChild(new ul({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(t=r,"ck-widget__resizer__handle-"+t)}}).render())}}},{key:"_appendSizeUI",value:function(e){var t=new Em;t.render(),this._sizeUI=t,e.appendChild(t.element)}}],[{key:"isResizeHandle",value:function(e){return e.classList.contains("ck-widget__resizer__handle")}}]),e}();Bn(Lm,ar);var Em=function(e){p(n,e);var t=v(n);function n(){var e;f(this,n);var i=(e=t.call(this)).bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",i.to("activeHandlePosition",(function(e){return e?"ck-orientation-"+e:""}))],style:{display:i.if("isVisible","none",(function(e){return!e}))}},children:[{text:i.to("label")}]}),e}return m(n,[{key:"bindToState",value:function(e,t){this.bind("isVisible").to(t,"proposedWidth",t,"proposedHeight",(function(e,t){return null!==e&&null!==t})),this.bind("label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(function(t,n,i){return"px"===e.unit?"".concat(t,"\xd7").concat(n):i+"%"})),this.bind("activeHandlePosition").to(t)}},{key:"dismiss",value:function(){this.unbind(),this.isVisible=!1}}]),n}(Tl),Pm=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return te(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),co(e,t,{leading:i,maxWait:t,trailing:r})};n(72);var Im=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this;this.set("_visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map;var t=ba.window.document;this.editor.model.schema.setAttributeProperties("width",{isFormatting:!0}),this._observer=Object.create(Na),this._observer.listenTo(t,"mousedown",this._mouseDownListener.bind(this)),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this));var n=function(){e._visibleResizer&&e._visibleResizer.redraw()},i=Pm(n,200);this.on("change:_visibleResizer",n),this.editor.ui.on("update",i),this._observer.listenTo(ba.window,"resize",i);var r=this.editor.editing.view.document.selection;r.on("change",(function(){var t=r.getSelectedElement();e._visibleResizer=e._getResizerByViewElement(t)||null}))}},{key:"destroy",value:function(){this._observer.stopListening();var e,t=d(this._resizers.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(n){t.e(n)}finally{t.f()}}},{key:"attachTo",value:function(e){var t=new Lm(e),n=this.editor.plugins;if(t.attach(),n.has("WidgetToolbarRepository")){var i=n.get("WidgetToolbarRepository");t.on("begin",(function(){i.forceDisabled("resize")}),{priority:"lowest"}),t.on("cancel",(function(){i.clearForceDisabled("resize")}),{priority:"highest"}),t.on("commit",(function(){i.clearForceDisabled("resize")}),{priority:"highest"})}return this._resizers.set(e.viewElement,t),t}},{key:"_getResizerByHandle",value:function(e){var t,n=d(this._resizers.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.containsHandle(e))return i}}catch(r){n.e(r)}finally{n.f()}}},{key:"_getResizerByViewElement",value:function(e){return this._resizers.get(e)}},{key:"_mouseDownListener",value:function(e,t){if(Lm.isResizeHandle(t.target)){var n=t.target;this._activeResizer=this._getResizerByHandle(n),this._activeResizer&&this._activeResizer.begin(n)}}},{key:"_mouseMoveListener",value:function(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}},{key:"_mouseUpListener",value:function(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}],[{key:"pluginName",get:function(){return"WidgetResize"}}]),n}(bu);Bn(Im,ar);var Vm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=uh(e),e&&e.hasAttribute("width")?this.value={width:e.getAttribute("width"),height:null}:this.value=null}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document.selection.getSelectedElement();t.change((function(t){t.setAttribute("width",e.width,n)}))}}]),n}(ju);n(74);var Rm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("image",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add((function(e){e.on("element:a",(function(e,t,n){var i=t.viewItem,r=Array.from(i.getChildren()).find((function(e){return"img"===e.name}));if(r&&n.consumable.consume(i,{attributes:["href"]})){var a=i.getAttribute("href");if(a){var o=t.modelCursor.parent;if(!o.is("image")){var s=n.convertItem(r,t.modelCursor);t.modelRange=s.modelRange,t.modelCursor=s.modelCursor,o=t.modelCursor.nodeBefore}o&&o.is("image")&&n.writer.setAttribute("linkHref",a,o)}}}),{priority:"high"})})),e.conversion.for("downcast").add((function(e){e.on("attribute:linkHref:image",(function(e,t,n){var i=n.mapper.toViewElement(t.item),r=n.writer,a=Array.from(i.getChildren()).find((function(e){return"a"===e.name}));if(a)if(t.attributeNewValue)r.setAttribute("href",t.attributeNewValue,a);else{var o=Array.from(a.getChildren()).find((function(e){return"img"===e.name}));r.move(r.createRangeOn(o),r.createPositionAt(i,0)),r.remove(a)}else{var s=r.createContainerElement("a",{href:t.attributeNewValue});r.insert(r.createPositionAt(i,0),s),r.move(r.createRangeOn(i.getChild(1)),r.createPositionAt(s,0))}}))}))}}],[{key:"requires",get:function(){return[vh,Xh]}},{key:"pluginName",get:function(){return"LinkImageEditing"}}]),n}(bu),Dm=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType="click",i}return m(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}($a);n(76);var zm=function(e){p(n,e);var t=v(n);function n(e,i,r){var a;f(this,n),a=t.call(this,e);var o=e.t;a.focusTracker=new tl,a.keystrokes=new Wc,a.urlInputView=a._createUrlInput(r),a.saveButtonView=a._createButton(o("Save"),Cf,"ck-button-save"),a.saveButtonView.type="submit",a.cancelButtonView=a._createButton(o("Cancel"),Of,"ck-button-cancel","cancel"),a._manualDecoratorSwitches=a._createManualDecoratorSwitches(i),a.children=a._createFormChildren(i.manualDecorators),a._focusables=new ll,a._focusCycler=new Wl({focusables:a._focusables,focusTracker:a.focusTracker,keystrokeHandler:a.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var s=["ck","ck-link-form"];return i.manualDecorators.length&&s.push("ck-link-form_layout-vertical"),a.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:a.children}),a}return m(n,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce((function(e,t){return e[t.name]=t.isOn,e}),{})}},{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this),jf({view:this}),[this.urlInputView].concat(l(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://",t=this.locale.t,n=new wf(this.locale,xf);return n.label=t("Link URL"),n.fieldView.placeholder=e+"example.com",n}},{key:"_createButton",value:function(e,t,n,i){var r=new eu(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}},{key:"_createManualDecoratorSwitches",value:function(e){var t,n=this,i=this.createCollection(),r=d(e.manualDecorators);try{var a=function(){var r=t.value,a=new ou(n.locale);a.set({name:r.id,label:r.label,withText:!0}),a.bind("isOn").toMany([r,e],"value",(function(e,t){return void 0===t&&void 0===e?r.defaultValue:e})),a.on("execute",(function(){r.set("value",!a.isOn)})),i.add(a)};for(r.s();!(t=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return i}},{key:"_createFormChildren",value:function(e){var t=this.createCollection();if(t.add(this.urlInputView),e.length){var n=new Tl;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((function(e){return{tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}]),n}(Tl);n(78);var Bm=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n),i=t.call(this,e);var r=e.t;return i.focusTracker=new tl,i.keystrokes=new Wc,i.previewButtonView=i._createPreviewButton(),i.unlinkButtonView=i._createButton(r("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),i.editButtonView=i._createButton(r("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),i.set("href"),i._focusables=new ll,i._focusCycler=new Wl({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[i.previewButtonView,i.editButtonView,i.unlinkButtonView]}),i}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,t,n){var i=new eu(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.delegate("execute").to(this,n),i}},{key:"_createPreviewButton",value:function(){var e=new eu(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",(function(e){return e&&$h(e)})),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",(function(e){return e||n("This link has no URL")})),e.bind("isEnabled").to(this,"href",(function(e){return!!e})),e.template.tag="a",e.template.eventListeners={},e}}]),n}(Tl),Fm='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Hm=/^((\w+:(\/{2,})?)|(\W))/i,Um=/[\w-]+@[\w-]+\.+[\w-]+/i,qm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor;e.editing.view.addObserver(Dm),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(Tf),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("downcast").markerToHighlight({model:"link-ui",view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("downcast").markerToElement({model:"link-ui",view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}},{key:"destroy",value:function(){r(a(n.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var e=this,t=this.editor,n=new Bm(t.locale),i=t.commands.get("link"),r=t.commands.get("unlink");return n.bind("href").to(i,"value"),n.editButtonView.bind("isEnabled").to(i),n.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(n,"edit",(function(){e._addFormView()})),this.listenTo(n,"unlink",(function(){t.execute("unlink"),e._hideUI()})),n.keystrokes.set("Esc",(function(t,n){e._hideUI(),n()})),n.keystrokes.set("Ctrl+K",(function(t,n){e._addFormView(),n()})),n}},{key:"_createFormView",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),i=t.config.get("link.defaultProtocol"),r=new zm(t.locale,n,i);return r.urlInputView.fieldView.bind("value").to(n,"value"),r.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e})),r.saveButtonView.bind("isEnabled").to(n),this.listenTo(r,"submit",(function(){var n=r.urlInputView.fieldView.element.value,a=!!i&&!Hm.test(n),o=Um.test(n),s=n&&a?(o?"mailto:":i)+n:n;t.execute("link",s,r.getDecoratorSwitchesState()),e._closeFormView()})),this.listenTo(r,"cancel",(function(){e._closeFormView()})),r.keystrokes.set("Esc",(function(t,n){e._closeFormView(),n()})),r}},{key:"_createToolbarLinkButton",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),i=t.t;t.keystrokes.set("Ctrl+K",(function(t,n){n(),e._showUI(!0)})),t.ui.componentFactory.add("link",(function(t){var r=new eu(t);return r.isEnabled=!0,r.label=i("Link"),r.icon=Fm,r.keystroke="Ctrl+K",r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(n,"isEnabled"),r.bind("isOn").to(n,"value",(function(e){return!!e})),e.listenTo(r,"execute",(function(){return e._showUI(!0)})),r}))}},{key:"_enableUserBalloonInteractions",value:function(){var e=this,t=this.editor.editing.view.document;this.listenTo(t,"click",(function(){e._getSelectedLinkElement()&&e._showUI()})),this.editor.keystrokes.set("Tab",(function(t,n){e._areActionsVisible&&!e.actionsView.focusTracker.isFocused&&(e.actionsView.focus(),n())}),{priority:"high"}),this.editor.keystrokes.set("Esc",(function(t,n){e._isUIVisible&&(e._hideUI(),n())})),su({emitter:this.formView,activator:function(){return e._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return e._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var e=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=e.value||""}}},{key:"_closeFormView",value:function(){var e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}},{key:"_showUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView(),this._showFakeVisualSelection()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(this._isUIInPanel){var e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}}},{key:"_startUpdatingUI",value:function(){var e=this,t=this.editor,n=t.editing.view.document,i=this._getSelectedLinkElement(),r=o(),a=function(){var t=e._getSelectedLinkElement(),n=o();i&&!t||!i&&n!==r?e._hideUI():e._isUIVisible&&e._balloon.updatePosition(e._getBalloonPositionData()),i=t,r=n};function o(){return n.selection.focus.getAncestors().reverse().find((function(e){return e.is("element")}))}this.listenTo(t.ui,"update",a),this.listenTo(this._balloon,"change:visibleView",a)}},{key:"_getBalloonPositionData",value:function(){var e=this.editor.editing.view,t=e.document,n=this._getSelectedLinkElement();return{target:n?e.domConverter.mapViewToDom(n):e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}},{key:"_getSelectedLinkElement",value:function(){var e=this.editor.editing.view,t=e.document.selection;if(t.isCollapsed)return Wm(t.getFirstPosition());var n=t.getFirstRange().getTrimmed(),i=Wm(n.start),r=Wm(n.end);return i&&i==r&&e.createRangeIn(i).getTrimmed().isEqual(n)?i:null}},{key:"_showFakeVisualSelection",value:function(){var e=this.editor.model;e.change((function(t){e.markers.has("link-ui")?t.updateMarker("link-ui",{range:e.document.selection.getFirstRange()}):t.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:e.document.selection.getFirstRange()})}))}},{key:"_hideFakeVisualSelection",value:function(){var e=this.editor.model;e.markers.has("link-ui")&&e.change((function(e){e.removeMarker("link-ui")}))}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}}],[{key:"requires",get:function(){return[Tf]}},{key:"pluginName",get:function(){return"LinkUI"}}]),n}(bu);function Wm(e){return e.getAncestors().find((function(e){return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t}))}var Zm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor.editing.view.document;this.listenTo(e,"click",(function(t,n){Gm(e.selection.getSelectedElement())&&n.preventDefault()})),this._createToolbarLinkImageButton()}},{key:"_createToolbarLinkImageButton",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("linkImage",(function(i){var r=new eu(i),a=t.plugins.get("LinkUI"),o=t.commands.get("link");return r.set({isEnabled:!0,label:n("Link image"),icon:Fm,keystroke:"Ctrl+K",tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value",(function(e){return!!e})),e.listenTo(r,"execute",(function(){Gm(t.editing.view.document.selection.getSelectedElement())?a._addActionsView():a._showUI(!0)})),r}))}}],[{key:"requires",get:function(){return[If,Xh,qm]}},{key:"pluginName",get:function(){return"LinkImageUI"}}]),n}(bu);function Gm(e){return!(!e||!ch(e))&&e.getChild(0).is("a")}var Ym=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._childCommands=[],i}return m(n,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._getFirstEnabledCommand().execute(t)}},{key:"registerChildCommand",value:function(e){var t=this;this._childCommands.push(e),e.on("change:isEnabled",(function(){return t._checkEnabled()})),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find((function(e){return e.isEnabled}))}}]),n}(ju),Qm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor;e.commands.add("indent",new Ym(e)),e.commands.add("outdent",new Ym(e))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),n}(bu),Km='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',$m='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',Jm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?Km:$m,r="ltr"==t.uiLanguageDirection?$m:Km;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),r)}},{key:"_defineButton",value:function(e,t,n){var i=this,r=this.editor;r.ui.componentFactory.add(e,(function(a){var o=r.commands.get(e),s=new eu(a);return s.set({label:t,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),i.listenTo(s,"execute",(function(){r.execute(e),r.editing.view.focus()})),s}))}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),n}(bu),Xm=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[Qm,Jm]}}]),n}(bu),ep=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e))._indentBehavior=i,r}return m(n,[{key:"refresh",value:function(){var e=this.editor.model,t=zd(e.document.selection.getSelectedBlocks());t&&e.schema.checkAttribute(t,"blockIndent")?this.isEnabled=this._indentBehavior.checkEnabled(t.getAttribute("blockIndent")):this.isEnabled=!1}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=function(e){var t=e.document.selection,n=e.schema;return Array.from(t.getSelectedBlocks()).filter((function(e){return n.checkAttribute(e,"blockIndent")}))}(t);t.change((function(t){var i,r=d(n);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=a.getAttribute("blockIndent"),s=e._indentBehavior.getNextIndent(o);s?t.setAttribute("blockIndent",s,a):t.removeAttribute("blockIndent",a)}}catch(c){r.e(c)}finally{r.f()}}))}}]),n}(ju),tp=function(){function e(t){f(this,e),this.isForward="forward"===t.direction,this.offset=t.offset,this.unit=t.unit}return m(e,[{key:"checkEnabled",value:function(e){var t=parseFloat(e||0);return this.isForward||t>0}},{key:"getNextIndent",value:function(e){var t=parseFloat(e||0);if(e&&!e.endsWith(this.unit))return this.isForward?this.offset+this.unit:void 0;var n=t+(this.isForward?this.offset:-this.offset);return n>0?n+this.unit:void 0}}]),e}(),np=function(){function e(t){f(this,e),this.isForward="forward"===t.direction,this.classes=t.classes}return m(e,[{key:"checkEnabled",value:function(e){var t=this.classes.indexOf(e);return this.isForward?t<this.classes.length-1:t>=0}},{key:"getNextIndent",value:function(e){var t=this.classes.indexOf(e),n=this.isForward?1:-1;return this.classes[t+n]}}]),e}();function ip(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===e)return{top:void 0,right:void 0,bottom:void 0,left:void 0};var t=e.replace(/, /g,",").split(" ").map((function(e){return e.replace(/,/g,", ")})),n=t[0],i=t[2]||n,r=t[1]||n;return{top:n,bottom:i,right:r,left:t[3]||r}}function rp(e){var t=e.top,n=e.right,i=e.bottom,r=e.left,a=[];return r!==n?a.push(t,n,i,r):i!==t?a.push(t,n,i):n!==t?a.push(t,n):a.push(t),a.join(" ")}function ap(e){var t,n;e.setNormalizer("margin",(t="margin",function(e){return{path:t,value:ip(e)}})),e.setNormalizer("margin-top",(function(e){return{path:"margin.top",value:e}})),e.setNormalizer("margin-right",(function(e){return{path:"margin.right",value:e}})),e.setNormalizer("margin-bottom",(function(e){return{path:"margin.bottom",value:e}})),e.setNormalizer("margin-left",(function(e){return{path:"margin.left",value:e}})),e.setReducer("margin",(n="margin",function(e){var t=e.top,i=e.right,r=e.bottom,a=e.left,o=[];return[t,i,a,r].every((function(e){return!!e}))?o.push([n,rp(e)]):(t&&o.push([n+"-top",t]),i&&o.push([n+"-right",i]),r&&o.push([n+"-bottom",r]),a&&o.push([n+"-left",a])),o})),e.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);var op=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).type=i,r}return m(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document,i=Array.from(n.selection.getSelectedBlocks()).filter((function(e){return cp(e,t.schema)})),r=!0===this.value;t.change((function(t){if(r){for(var n=i[i.length-1].nextSibling,a=Number.POSITIVE_INFINITY,o=[];n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){var s=n.getAttribute("listIndent");s<a&&(a=s);var c=s-a;o.push({element:n,listIndent:c}),n=n.nextSibling}o=o.reverse();var l,u=d(o);try{for(u.s();!(l=u.n()).done;){var h=l.value;t.setAttribute("listIndent",h.listIndent,h.element)}}catch(y){u.e(y)}finally{u.f()}}if(!r){var f,m=Number.POSITIVE_INFINITY,p=d(i);try{for(p.s();!(f=p.n()).done;){var v=f.value;v.is("listItem")&&v.getAttribute("listIndent")<m&&(m=v.getAttribute("listIndent"))}}catch(y){p.e(y)}finally{p.f()}sp(i,!0,m=0===m?1:m),sp(i,!1,m)}var g,b=d(i.reverse());try{for(b.s();!(g=b.n()).done;){var k=g.value;r&&"listItem"==k.name?t.rename(k,"paragraph"):r||"listItem"==k.name?r||"listItem"!=k.name||k.getAttribute("listType")==e.type||t.setAttribute("listType",e.type,k):(t.setAttributes({listType:e.type,listIndent:0},k),t.rename(k,"listItem"))}}catch(y){b.e(y)}finally{b.f()}}))}},{key:"_getValue",value:function(){var e=zd(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("listItem")&&e.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,t=this.editor.model.schema,n=zd(e.getSelectedBlocks());return!!n&&cp(n,t)}}]),n}(ju);function sp(e,t,n){var i=t?e[0]:e[e.length-1];if(i.is("listItem"))for(var r=i[t?"previousSibling":"nextSibling"],a=i.getAttribute("listIndent");r&&r.is("listItem")&&r.getAttribute("listIndent")>=n;)a>r.getAttribute("listIndent")&&(a=r.getAttribute("listIndent")),r.getAttribute("listIndent")==a&&e[t?"unshift":"push"](r),r=r[t?"previousSibling":"nextSibling"]}function cp(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}var lp=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e))._indentBy="forward"==i?1:-1,r}return m(n,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document,i=Array.from(n.selection.getSelectedBlocks());t.change((function(t){for(var n=i[i.length-1],r=n.nextSibling;r&&"listItem"==r.name&&r.getAttribute("listIndent")>n.getAttribute("listIndent");)i.push(r),r=r.nextSibling;e._indentBy<0&&(i=i.reverse());var a,o=d(i);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.getAttribute("listIndent")+e._indentBy;c<0?t.rename(s,"paragraph"):t.setAttribute("listIndent",c,s)}}catch(l){o.e(l)}finally{o.f()}}))}},{key:"_checkEnabled",value:function(){var e=zd(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("listItem"))return!1;if(this._indentBy>0){for(var t=e.getAttribute("listIndent"),n=e.getAttribute("listType"),i=e.previousSibling;i&&i.is("listItem")&&i.getAttribute("listIndent")>=t;){if(i.getAttribute("listIndent")==t)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}]),n}(ju);function up(e,t){var n=t.mapper,i=t.writer,r="numbered"==e.getAttribute("listType")?"ol":"ul",a=function(e){var t=e.createContainerElement("li");return t.getFillerOffset=vp,t}(i),o=i.createContainerElement(r,null);return i.insert(i.createPositionAt(o,0),a),n.bindElements(e,a),a}function dp(e,t,n,i){var r=t.parent,a=n.mapper,o=n.writer,s=a.toViewPosition(i.createPositionBefore(e)),c=mp(e.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:e.getAttribute("listIndent")}),l=e.previousSibling;if(c&&c.getAttribute("listIndent")==e.getAttribute("listIndent")){var u=a.toViewElement(c);s=o.breakContainer(o.createPositionAfter(u))}else s=l&&"listItem"==l.name?a.toViewPosition(i.createPositionAt(l,"end")):a.toViewPosition(i.createPositionBefore(e));if(s=fp(s),o.insert(s,r),l&&"listItem"==l.name){var h,f=a.toViewElement(l),m=o.createRange(o.createPositionAt(f,0),s).getWalker({ignoreElementEnd:!0}),p=d(m);try{for(p.s();!(h=p.n()).done;){var v=h.value;if(v.item.is("li")){var g=o.breakContainer(o.createPositionBefore(v.item)),b=v.item.parent,k=o.createPositionAt(t,"end");hp(o,k.nodeBefore,k.nodeAfter),o.move(o.createRangeOn(b),k),m.position=g}}}catch(O){p.e(O)}finally{p.f()}}else{var y=r.nextSibling;if(y&&(y.is("ul")||y.is("ol"))){var w,_=null,x=d(y.getChildren());try{for(x.s();!(w=x.n()).done;){var j=w.value,C=a.toModelElement(j);if(!(C&&C.getAttribute("listIndent")>e.getAttribute("listIndent")))break;_=j}}catch(O){x.e(O)}finally{x.f()}_&&(o.breakContainer(o.createPositionAfter(_)),o.move(o.createRangeOn(_.parent),o.createPositionAt(t,"end")))}}hp(o,r,r.nextSibling),hp(o,r.previousSibling,r)}function hp(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function fp(e){return e.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))}function mp(e,t){for(var n=!!t.sameIndent,i=!!t.smallerIndent,r=t.listIndent,a=e;a&&"listItem"==a.name;){var o=a.getAttribute("listIndent");if(n&&r==o||i&&r>o)return a;a=a.previousSibling}return null}function pp(e,t,n,i){e.ui.componentFactory.add(t,(function(r){var a=e.commands.get(t),o=new eu(r);return o.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(a,"value","isEnabled"),o.on("execute",(function(){e.execute(t),e.editing.view.focus()})),o}))}function vp(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:Xi.call(this)}function gp(e){return function(t,n,i){var r=i.consumable;if(r.test(n.item,"insert")&&r.test(n.item,"attribute:listType")&&r.test(n.item,"attribute:listIndent")){r.consume(n.item,"insert"),r.consume(n.item,"attribute:listType"),r.consume(n.item,"attribute:listIndent");var a=n.item;dp(a,up(a,i),i,e)}}}function bp(e,t,n){if(n.consumable.consume(t.item,"attribute:listType")){var i=n.mapper.toViewElement(t.item),r=n.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));var a=i.parent,o="numbered"==t.attributeNewValue?"ol":"ul";r.rename(o,a)}}function kp(e,t,n){var i=n.mapper.toViewElement(t.item).parent,r=n.writer;hp(r,i,i.nextSibling),hp(r,i.previousSibling,i);var a,o=d(t.item.getChildren());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.consumable.consume(s,"insert")}}catch(c){o.e(c)}finally{o.f()}}function yp(e,t,n){if("listItem"!=t.item.name){for(var i=n.mapper.toViewPosition(t.range.start),r=n.writer,a=[];("ul"==i.parent.name||"ol"==i.parent.name)&&"li"==(i=r.breakContainer(i)).parent.name;){var o=i,s=r.createPositionAt(i.parent,"end");if(!o.isEqual(s)){var c=r.remove(r.createRange(o,s));a.push(c)}i=r.createPositionAfter(i.parent)}if(a.length>0){for(var l=0;l<a.length;l++){var u=i.nodeBefore;if(i=r.insert(i,a[l]).end,l>0){var d=hp(r,u,u.nextSibling);d&&d.parent==u&&i.offset--}}hp(r,i.nodeBefore,i.nodeAfter)}}}function wp(e,t,n){var i=n.mapper.toViewPosition(t.position),r=i.nodeBefore,a=i.nodeAfter;hp(n.writer,r,a)}function _p(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){var i=n.writer,r=i.createElement("listItem"),a=function(e){for(var t=0,n=e.parent;n;){if(n.is("li"))t++;else{var i=n.previousSibling;i&&i.is("li")&&t++}n=n.parent}return t}(t.viewItem);i.setAttribute("listIndent",a,r);var o=t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted";i.setAttribute("listType",o,r);var s=n.splitToAllowedParent(r,t.modelCursor);if(!s)return;i.insert(r,s.position);var c=function(e,t,n){var i,r=n.writer,a=n.schema,o=r.createPositionAfter(e),s=d(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;if("ul"==c.name||"ol"==c.name)o=n.convertItem(c,o).modelCursor;else{var l=n.convertItem(c,r.createPositionAt(e,"end")),u=l.modelRange.start.nodeAfter;u&&u.is("element")&&!a.checkChild(e,u.name)&&(e=l.modelCursor.parent.is("listItem")?l.modelCursor.parent:Np(l.modelCursor),o=r.createPositionAfter(e))}}}catch(h){s.e(h)}finally{s.f()}return o}(r,t.viewItem.getChildren(),n);t.modelRange=i.createRange(t.modelCursor,c),s.cursorParent?t.modelCursor=i.createPositionAt(s.cursorParent,0):t.modelCursor=t.modelRange.end}}function xp(e,t,n){if(n.consumable.test(t.viewItem,{name:!0}))for(var i=0,r=Array.from(t.viewItem.getChildren());i<r.length;i++){var a=r[i];!a.is("li")&&!Tp(a)&&a._remove()}}function jp(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;var i,r=l(t.viewItem.getChildren()),a=!1,o=!0,s=d(r);try{for(s.s();!(i=s.n()).done;){var c=i.value;a&&!Tp(c)&&c._remove(),c.is("text")?(o&&(c._data=c.data.replace(/^\s+/,"")),c.nextSibling&&!Tp(c.nextSibling)||(c._data=c.data.replace(/\s+$/,""))):Tp(c)&&(a=!0),o=!1}}catch(u){s.e(u)}finally{s.f()}}}function Cp(e){return function(t,n){if(!n.isPhantom){var i=n.modelPosition.nodeBefore;if(i&&i.is("listItem")){var r,a=n.mapper.toViewElement(i),o=a.getAncestors().find(Tp),s=e.createPositionAt(a,0).getWalker(),c=d(s);try{for(c.s();!(r=c.n()).done;){var l=r.value;if("elementStart"==l.type&&l.item.is("li")){n.viewPosition=l.previousPosition;break}if("elementEnd"==l.type&&l.item==o){n.viewPosition=l.nextPosition;break}}}catch(u){c.e(u)}finally{c.f()}}}}}function Op(e,t){var n,i=u(t,2),r=i[0],a=i[1],o=r.is("documentFragment")?r.getChild(0):r;if(n=a?this.createSelection(a):this.document.selection,o&&o.is("listItem")){var s=n.getFirstPosition(),c=null;if(s.parent.is("listItem")?c=s.parent:s.nodeBefore&&s.nodeBefore.is("listItem")&&(c=s.nodeBefore),c){var l=c.getAttribute("listIndent");if(l>0)for(;o&&o.is("listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+l),o=o.nextSibling}}}function Np(e){var t,n=new Ro({startPosition:e});do{t=n.next()}while(!t.value.item.is("listItem"));return t.value.item}function Ap(e,t,n,i,r,a){var o,s=mp(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),c=r.mapper,u=r.writer,d=s?s.getAttribute("listIndent"):null;if(s)if(d==e){var h=c.toViewElement(s).parent;o=u.createPositionAfter(h)}else{var f=a.createPositionAt(s,"end");o=c.toViewPosition(f)}else o=n;o=fp(o);for(var m=0,p=l(i.getChildren());m<p.length;m++){var v=p[m];Tp(v)&&(o=u.move(u.createRangeOn(v),o).end,hp(u,v,v.nextSibling),hp(u,v.previousSibling,v))}}function Tp(e){return e.is("ol")||e.is("ul")}var Sp=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var n,i=t.data,r=t.editing;t.model.document.registerPostFixer((function(e){return function(e,t){var n,i=e.document.differ.getChanges(),r=new Map,a=!1,o=d(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("insert"==s.type&&"listItem"==s.name)p(s.position);else if("insert"==s.type&&"listItem"!=s.name){if("$text"!=s.name){var c=s.position.nodeAfter;c.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",c),a=!0),c.hasAttribute("listType")&&(t.removeAttribute("listType",c),a=!0);var l,u=d(Array.from(e.createRangeIn(c)).filter((function(e){return e.item.is("listItem")})));try{for(u.s();!(l=u.n()).done;)p(l.value.previousPosition)}catch(b){u.e(b)}finally{u.f()}}p(s.position.getShiftedBy(s.length))}else"remove"==s.type&&"listItem"==s.name?p(s.position):("attribute"==s.type&&"listIndent"==s.attributeKey||"attribute"==s.type&&"listType"==s.attributeKey)&&p(s.range.start)}}catch(b){o.e(b)}finally{o.f()}var h,f=d(r.values());try{for(f.s();!(h=f.n()).done;){var m=h.value;v(m),g(m)}}catch(b){f.e(b)}finally{f.f()}return a;function p(e){var t=e.nodeBefore;if(t&&t.is("listItem")){var n=t;if(r.has(n))return;for(var i=n.previousSibling;i&&i.is("listItem");i=n.previousSibling)if(n=i,r.has(n))return;r.set(t,n)}else{var a=e.nodeAfter;a&&a.is("listItem")&&r.set(a,a)}}function v(e){for(var n=0,i=null;e&&e.is("listItem");){var r=e.getAttribute("listIndent");if(r>n){var o=void 0;null===i?(i=r-n,o=n):(i>r&&(i=r),o=r-i),t.setAttribute("listIndent",o,e),a=!0}else i=null,n=e.getAttribute("listIndent")+1;e=e.nextSibling}}function g(e){for(var n=[],i=null;e&&e.is("listItem");){var r=e.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>r&&(n=n.slice(0,r+1)),0!=r)if(n[r]){var o=n[r];e.getAttribute("listType")!=o&&(t.setAttribute("listType",o,e),a=!0)}else n[r]=e.getAttribute("listType");i=e,e=e.nextSibling}}}(t.model,e)})),r.mapper.registerViewToModelLength("li",Mp),i.mapper.registerViewToModelLength("li",Mp),r.mapper.on("modelToViewPosition",Cp(r.view)),r.mapper.on("viewToModelPosition",(n=t.model,function(e,t){var i=t.viewPosition,r=i.parent,a=t.mapper;if("ul"==r.name||"ol"==r.name){if(i.isAtEnd){var o=a.toModelElement(i.nodeBefore),s=a.getModelLength(i.nodeBefore);t.modelPosition=n.createPositionBefore(o).getShiftedBy(s)}else{var c=a.toModelElement(i.nodeAfter);t.modelPosition=n.createPositionBefore(c)}e.stop()}else if("li"==r.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){for(var l=a.toModelElement(r),u=1,d=i.nodeBefore;d&&Tp(d);)u+=a.getModelLength(d),d=d.previousSibling;t.modelPosition=n.createPositionBefore(l).getShiftedBy(u),e.stop()}})),i.mapper.on("modelToViewPosition",Cp(r.view)),t.conversion.for("editingDowncast").add((function(e){e.on("insert",yp,{priority:"high"}),e.on("insert:listItem",gp(t.model)),e.on("attribute:listType:listItem",bp,{priority:"high"}),e.on("attribute:listType:listItem",kp,{priority:"low"}),e.on("attribute:listIndent:listItem",function(e){return function(t,n,i){if(i.consumable.consume(n.item,"attribute:listIndent")){var r=i.mapper.toViewElement(n.item),a=i.writer;a.breakContainer(a.createPositionBefore(r)),a.breakContainer(a.createPositionAfter(r));var o=r.parent,s=o.previousSibling,c=a.createRangeOn(o);a.remove(c),s&&s.nextSibling&&hp(a,s,s.nextSibling),Ap(n.attributeOldValue+1,n.range.start,c.start,r,i,e),dp(n.item,r,i,e);var l,u=d(n.item.getChildren());try{for(u.s();!(l=u.n()).done;){var h=l.value;i.consumable.consume(h,"insert")}}catch(f){u.e(f)}finally{u.f()}}}}(t.model)),e.on("remove:listItem",function(e){return function(t,n,i){var r=i.mapper.toViewPosition(n.position).getLastMatchingPosition((function(e){return!e.item.is("li")})).nodeAfter,a=i.writer;a.breakContainer(a.createPositionBefore(r)),a.breakContainer(a.createPositionAfter(r));var o=r.parent,s=o.previousSibling,c=a.createRangeOn(o),l=a.remove(c);s&&s.nextSibling&&hp(a,s,s.nextSibling),Ap(i.mapper.toModelElement(r).getAttribute("listIndent")+1,n.position,c.start,r,i,e);var u,h=d(a.createRangeIn(l).getItems());try{for(h.s();!(u=h.n()).done;){var f=u.value;i.mapper.unbindViewElement(f)}}catch(m){h.e(m)}finally{h.f()}t.stop()}}(t.model)),e.on("remove",wp,{priority:"low"})})),t.conversion.for("dataDowncast").add((function(e){e.on("insert",yp,{priority:"high"}),e.on("insert:listItem",gp(t.model))})),t.conversion.for("upcast").add((function(e){e.on("element:ul",xp,{priority:"high"}),e.on("element:ol",xp,{priority:"high"}),e.on("element:li",jp,{priority:"high"}),e.on("element:li",_p)})),t.model.on("insertContent",Op,{priority:"high"}),t.commands.add("numberedList",new op(t,"numbered")),t.commands.add("bulletedList",new op(t,"bulleted")),t.commands.add("indentList",new lp(t,"forward")),t.commands.add("outdentList",new lp(t,"backward"));var a=r.view.document;this.listenTo(a,"enter",(function(t,n){var i=e.editor.model.document,r=i.selection.getLastPosition().parent;i.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(e.editor.execute("outdentList"),n.preventDefault(),t.stop())})),this.listenTo(a,"delete",(function(t,n){if("backward"===n.direction){var i=e.editor.model.document.selection;if(i.isCollapsed){var r=i.getFirstPosition();if(r.isAtStart){var a=r.parent;"listItem"===a.name&&(a.previousSibling&&"listItem"===a.previousSibling.name||(e.editor.execute("outdentList"),n.preventDefault(),t.stop()))}}}}),{priority:"high"});var o=function(t){return function(n,i){e.editor.commands.get(t).isEnabled&&(e.editor.execute(t),i())}};t.keystrokes.set("Tab",o("indentList")),t.keystrokes.set("Shift+Tab",o("outdentList"))}},{key:"afterInit",value:function(){var e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[tm]}}]),n}(bu);function Mp(e){var t,n=1,i=d(e.getChildren());try{for(i.s();!(t=i.n()).done;){var r=t.value;if("ul"==r.name||"ol"==r.name){var a,o=d(r.getChildren());try{for(o.s();!(a=o.n()).done;)n+=Mp(a.value)}catch(s){o.e(s)}finally{o.f()}}}}catch(s){i.e(s)}finally{i.f()}return n}var Lp=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor.t;pp(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),pp(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}]),n}(bu);function Ep(e,t){return function(e){e.on("attribute:url:media",n)};function n(n,i,r){if(r.consumable.consume(i.item,n.name)){var a=i.attributeNewValue,o=r.writer,s=r.mapper.toViewElement(i.item),c=l(s.getChildren()).find((function(e){return e.getCustomProperty("media-content")}));o.remove(c);var u=e.getMediaViewElement(o,a,t);o.insert(o.createPositionAt(s,0),u)}}}function Pp(e,t,n,i){var r=e.createContainerElement("figure",{class:"media"});return r.getFillerOffset=Rp,e.insert(e.createPositionAt(r,0),t.getMediaViewElement(e,n,i)),r}function Ip(e){var t=e.getSelectedElement();return t&&t.is("media")?t:null}function Vp(e,t,n){e.change((function(i){var r=i.createElement("media",{url:t});e.insertContent(r,n),i.setSelection(r,"on")}))}function Rp(){return null}var Dp=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema,i=t.getFirstPosition(),r=Ip(t),a=i.parent;a!=a.root&&(a=a.parent),this.value=r?r.getAttribute("url"):null,this.isEnabled=n.checkChild(a,"media")}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document.selection,i=Ip(n);if(i)t.change((function(t){t.setAttribute("url",e,i)}));else{var r=ah(n,t);Vp(t,e,r)}}}]),n}(ju),zp=function(){function e(t,n){f(this,e);var i=n.providers,r=n.extraProviders||[],a=new Set(n.removeProviders),o=i.concat(r).filter((function(e){var t=e.name;return t?!a.has(t):(console.warn(Object(Tn.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:e}),!1)}));this.locale=t,this.providerDefinitions=o}return m(e,[{key:"hasMedia",value:function(e){return!!this._getMedia(e)}},{key:"getMediaViewElement",value:function(e,t,n){return this._getMedia(t).getViewElement(e,n)}},{key:"_getMedia",value:function(e){if(!e)return new Bp(this.locale);e=e.trim();var t,n=d(this.providerDefinitions);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.html,a=i.url;Array.isArray(a)||(a=[a]);var o,s=d(a);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=this._getUrlMatches(e,c);if(l)return new Bp(this.locale,e,l,r)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){n.e(u)}finally{n.f()}return null}},{key:"_getUrlMatches",value:function(e,t){var n=e.match(t);if(n)return n;var i=e.replace(/^https?:\/\//,"");return(n=i.match(t))||(n=(i=i.replace(/^www\./,"")).match(t))||null}}]),e}(),Bp=function(){function e(t,n,i,r){f(this,e),this.url=this._getValidUrl(n),this._t=t.t,this._match=i,this._previewRenderer=r}return m(e,[{key:"getViewElement",value:function(e,t){var n,i={};if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),t.renderForEditingView&&(i.class="ck-media__wrapper");var r=this._getPreviewHtml(t);n=e.createUIElement("div",i,(function(e){var t=this.toDomElement(e);return t.innerHTML=r,t}))}else this.url&&(i.url=this.url),n=e.createEmptyElement("oembed",i);return e.setCustomProperty("media-content",!0,n),n}},{key:"_getPreviewHtml",value:function(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var e=new Xl,t=new Jl;return e.text=this._t("Open media in new tab"),t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new ul({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}},{key:"_getValidUrl",value:function(e){return e?e.match(/^https?/)?e:"https://"+e:null}}]),e}();n(80);var Fp=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>')}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>')}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>')}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),i.registry=new zp(e.locale,e.config.get("mediaEmbed")),i}return m(n,null,[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}]),m(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.t,i=e.conversion,r=e.config.get("mediaEmbed.previewsInData"),a=this.registry;e.commands.add("mediaEmbed",new Dp(e)),t.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),i.for("dataDowncast").elementToElement({model:"media",view:function(e,t){var n=e.getAttribute("url");return Pp(t,a,n,{renderMediaPreview:n&&r})}}),i.for("dataDowncast").add(Ep(a,{renderMediaPreview:r})),i.for("editingDowncast").elementToElement({model:"media",view:function(e,t){var i,r,o,s=e.getAttribute("url");return i=Pp(t,a,s,{renderForEditingView:!0}),r=t,o=n("media widget"),r.setCustomProperty("media",!0,i),th(i,r,{label:o})}}),i.for("editingDowncast").add(Ep(a,{renderForEditingView:!0})),i.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:function(e,t){var n=e.getAttribute("url");if(a.hasMedia(n))return t.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(e,t){var n=e.getAttribute("data-oembed-url");if(a.hasMedia(n))return t.createElement("media",{url:n})}})}}]),n}(bu),Hp=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/,Up=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._timeoutId=null,i._positionToInsert=null,i}return m(n,null,[{key:"requires",get:function(){return[xu,wd]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}]),m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document;this.listenTo(t.plugins.get(xu),"inputTransformation",(function(){var t=n.selection.getFirstRange(),i=Nc.fromPosition(t.start);i.stickiness="toPrevious";var r=Nc.fromPosition(t.end);r.stickiness="toNext",n.once("change:data",(function(){e._embedMediaBetweenPositions(i,r),i.detach(),r.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(function(){e._timeoutId&&(ba.window.clearTimeout(e._timeoutId),e._positionToInsert.detach(),e._timeoutId=null,e._positionToInsert=null)}),{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(e,t){var n,i=this,r=this.editor,a=r.plugins.get(Fp).registry,o=new es(e,t),s=o.getWalker({ignoreElementEnd:!0}),c="",l=d(s);try{for(l.s();!(n=l.n()).done;){var u=n.value;u.item.is("textProxy")&&(c+=u.item.data)}}catch(h){l.e(h)}finally{l.f()}(c=c.trim()).match(Hp)&&a.hasMedia(c)&&r.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Nc.fromPosition(e),this._timeoutId=ba.window.setTimeout((function(){r.model.change((function(e){var t;i._timeoutId=null,e.remove(o),o.detach(),"$graveyard"!==i._positionToInsert.root.rootName&&(t=i._positionToInsert),Vp(r.model,c,t),i._positionToInsert.detach(),i._positionToInsert=null}))}),100)):o.detach()}}]),n}(bu);n(82);var qp=function(e){p(n,e);var t=v(n);function n(e,i){var r;f(this,n),r=t.call(this,i);var a=i.t;return r.focusTracker=new tl,r.keystrokes=new Wc,r.urlInputView=r._createUrlInput(),r.saveButtonView=r._createButton(a("Save"),Cf,"ck-button-save"),r.saveButtonView.type="submit",r.cancelButtonView=r._createButton(a("Cancel"),Of,"ck-button-cancel","cancel"),r._focusables=new ll,r._focusCycler=new Wl({focusables:r._focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r._validators=e,r.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[r.urlInputView,r.saveButtonView,r.cancelButtonView]}),r}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this),jf({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element);var t=function(e){return e.stopPropagation()};this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(function(e,t){t.stopPropagation()}),{priority:"high"})}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"isValid",value:function(){this.resetFormStatus();var e,t=d(this._validators);try{for(t.s();!(e=t.n()).done;){var n=(0,e.value)(this);if(n)return this.urlInputView.errorText=n,!1}}catch(i){t.e(i)}finally{t.f()}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var e=this,t=this.locale.t,n=new wf(this.locale,xf),i=n.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),n.label=t("Media URL"),n.infoText=this._urlInputViewInfoDefault,i.placeholder="https://example.com",i.on("input",(function(){n.infoText=i.element.value?e._urlInputViewInfoTip:e._urlInputViewInfoDefault})),n}},{key:"_createButton",value:function(e,t,n,i){var r=new eu(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}},{key:"url",get:function(){return this.urlInputView.fieldView.element.value.trim()},set:function(e){this.urlInputView.fieldView.element.value=e.trim()}}]),n}(Tl),Wp=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.commands.get("mediaEmbed"),i=t.plugins.get(Fp).registry;t.ui.componentFactory.add("mediaEmbed",(function(r){var a=cu(r),o=new qp(function(e,t){return[function(t){if(!t.url.length)return e("The URL must not be empty.")},function(n){if(!t.hasMedia(n.url))return e("This media URL is not supported.")}]}(t.t,i),t.locale);return e._setUpDropdown(a,o,n,t),e._setUpForm(a,o,n),a}))}},{key:"_setUpDropdown",value:function(e,t,n){var i=this.editor,r=i.t,a=e.buttonView;function o(){i.editing.view.focus(),e.isOpen=!1}e.bind("isEnabled").to(n),e.panelView.children.add(t),a.set({label:r("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>\n',tooltip:!0}),a.on("open",(function(){t.url=n.value||"",t.urlInputView.fieldView.select(),t.focus()}),{priority:"low"}),e.on("submit",(function(){t.isValid()&&(i.execute("mediaEmbed",t.url),o())})),e.on("change:isOpen",(function(){return t.resetFormStatus()})),e.on("cancel",(function(){return o()}))}},{key:"_setUpForm",value:function(e,t,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e})),t.saveButtonView.bind("isEnabled").to(n)}}],[{key:"requires",get:function(){return[Fp]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}]),n}(bu);function Zp(e,t){if(e.childCount){var n=new Zf(e.document),i=function(e,t){var n,i=t.createRangeIn(e),r=new ei({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),a=[],o=d(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("elementStart"===s.type&&r.match(s.item)){var c=Yp(s.item);a.push({element:s.item,id:c.id,order:c.order,indent:c.indent})}}}catch(l){o.e(l)}finally{o.f()}return a}(e,n);if(i.length){var r=null,a=1;i.forEach((function(e,o){var s,c,l=function(e,t){if(!e)return!0;if(e.id!==t.id)return!0;var n,i=t.element.previousSibling;return!i||!((n=i).is("ol")||n.is("ul"))}(i[o-1],e),u=(c=e,(s=l?null:i[o-1])?c.indent-s.indent:c.indent-1);if(l&&(r=null,a=1),!r||0!==u){var h=function(e,t){var n=/mso-level-number-format:([^;]*);/gi,i=new RegExp("@list l".concat(e.id,":level").concat(e.indent,"\\s*({[^}]*)"),"gi").exec(t),r="decimal";if(i&&i[1]){var a=n.exec(i[1]);a&&a[1]&&(r=a[1].trim())}return{type:"bullet"!==r&&"image"!==r?"ol":"ul",style:r}}(e,t);if(r){if(e.indent>a){var f=r.getChild(r.childCount-1),m=f.getChild(f.childCount-1);r=Gp(h,m,n),a+=1}else if(e.indent<a){var p=a-e.indent;r=function(e,t){var n,i=e.getAncestors({parentFirst:!0}),r=null,a=0,o=d(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("ul"!==s.name&&"ol"!==s.name||a++,a===t){r=s;break}}}catch(c){o.e(c)}finally{o.f()}return r}(r,p),a=parseInt(e.indent)}}else r=Gp(h,e.element,n);e.indent<=a&&(r.is(h.type)||(r=n.rename(h.type,r)))}var v=function(e,t){return function(e,t){var n,i=new ei({name:"span",styles:{"mso-list":"Ignore"}}),r=t.createRangeIn(e),a=d(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;"elementStart"===o.type&&i.match(o.item)&&t.remove(o.item)}}catch(s){a.e(s)}finally{a.f()}}(e,t),t.rename("li",e)}(e.element,n);n.appendChild(v,r)}))}}}function Gp(e,t,n){var i=t.parent,r=n.createElement(e.type),a=i.getChildIndex(t)+1;return n.insertChild(a,r,i),r}function Yp(e){var t={},n=e.getStyle("mso-list");if(n){var i=n.match(/(^|\s+)l(\d+)/i),r=n.match(/\s*lfo(\d+)/i),a=n.match(/\s*level(\d+)/i);i&&r&&a&&(t.id=i[2],t.order=r[1],t.indent=a[1])}return t}n(84);var Qp=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,Kp=function(){function e(t){f(this,e),this.document=t}return m(e,[{key:"isActive",value:function(e){return Qp.test(e)}},{key:"execute",value:function(e){var t=new Zf(this.document);!function(e,t){var n,i=d(e.getChildren());try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.is("b")&&"normal"===r.getStyle("font-weight")){var a=e.getChildIndex(r);t.remove(r),t.insertChild(a,r.getChildren(),e)}}}catch(o){i.e(o)}finally{i.f()}}(e.content,t),function(e,t){var n,i=d(t.createRangeIn(e));try{for(i.s();!(n=i.n()).done;){var r=n.value.item;if(r.is("li")){var a=r.getChild(0);a.is("p")&&t.unwrapElement(a)}}}catch(o){i.e(o)}finally{i.f()}}(e.content,t)}}]),e}();function $p(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length)}))}function Jp(e,t){var n=new DOMParser,i=function(e){return $p($p(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(e){var t=e.match(/<\/body>(.*?)(<\/html>|$)/);return t&&t[1]&&(e=e.slice(0,t.index)+e.slice(t.index).replace(t[1],"")),e}(e=e.replace(/<!--\[if gte vml 1]>/g,""))),r=n.parseFromString(i,"text/html");!function(e){e.querySelectorAll("span[style*=spacerun]").forEach((function(e){var t=e.innerText.length||0;e.innerHTML=Array(t+1).join("\xa0 ").substr(0,t)}))}(r);var a=r.body.innerHTML,o=function(e,t){for(var n=new wr(t),i=new _a(n,{blockFillerMode:"nbsp"}),r=e.createDocumentFragment(),a=e.body.childNodes;a.length>0;)r.appendChild(a[0]);return i.domToView(r)}(r,t),s=function(e){for(var t=[],n=[],i=0,r=Array.from(e.getElementsByTagName("style"));i<r.length;i++){var a=r[i];a.sheet&&a.sheet.cssRules&&a.sheet.cssRules.length&&(t.push(a.sheet),n.push(a.innerHTML))}return{styles:t,stylesString:n.join(" ")}}(r);return{body:o,bodyString:a,styles:s.styles,stylesString:s.stylesString}}function Xp(e,t){if(e.childCount){var n=new Zf;!function(e,t,n){var i,r=n.createRangeIn(t),a=new ei({name:"img"}),o=[],s=d(r);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(a.match(c.item)){var l=c.item,u=l.getAttribute("v:shapes")?l.getAttribute("v:shapes").split(" "):[];u.length&&u.every((function(t){return e.indexOf(t)>-1}))?o.push(l):l.getAttribute("src")||o.push(l)}}}catch(p){s.e(p)}finally{s.f()}for(var h=0,f=o;h<f.length;h++){var m=f[h];n.remove(m)}}(function(e,t){var n,i=t.createRangeIn(e),r=new ei({name:/v:(.+)/}),a=[],o=d(i);try{for(o.s();!(n=o.n()).done;){var s=n.value,c=s.item,l=c.previousSibling&&c.previousSibling.name||null;r.match(c)&&c.getAttribute("o:gfxdata")&&"v:shapetype"!==l&&a.push(s.item.getAttribute("id"))}}catch(u){o.e(u)}finally{o.f()}return a}(e,n),e,n),function(e,t){var n,i=t.createRangeIn(e),r=new ei({name:/v:(.+)/}),a=[],o=d(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.match(s.item)&&a.push(s.item)}}catch(h){o.e(h)}finally{o.f()}for(var c=0,l=a;c<l.length;c++){var u=l[c];t.remove(u)}}(e,n);var i=function(e,t){var n,i=t.createRangeIn(e),r=new ei({name:"img"}),a=[],o=d(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.match(s.item)&&s.item.getAttribute("src").startsWith("file://")&&a.push(s.item)}}catch(c){o.e(c)}finally{o.f()}return a}(e,n);i.length&&function(e,t,n){if(e.length===t.length)for(var i=0;i<e.length;i++){var r="data:".concat(t[i].type,";base64,").concat((a=t[i].hex,btoa(a.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))));n.setAttribute("src",r,e[i])}var a}(i,function(e){if(!e)return[];var t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),i=e.match(n),r=[];if(i){var a,o=d(i);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=!1;s.includes("\\pngblip")?c="image/png":s.includes("\\jpegblip")&&(c="image/jpeg"),c&&r.push({hex:s.replace(t,"").replace(/[^\da-fA-F]/g,""),type:c})}}catch(l){o.e(l)}finally{o.f()}}return r}(t),n)}}var ev=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,tv=/xmlns:o="urn:schemas-microsoft-com/i,nv=function(){function e(t){f(this,e),this.document=t}return m(e,[{key:"isActive",value:function(e){return ev.test(e)||tv.test(e)}},{key:"execute",value:function(e){var t=Jp(e.dataTransfer.getData("text/html"),this.document.stylesProcessor),n=t.body;Zp(n,t.stylesString),Xp(n,e.dataTransfer.getData("text/rtf")),e.content=n}}]),e}();function iv(e,t){for(var n=t.parent;n;){if(n.name===e)return n;n=n.parent}}function rv(e,t,n,i){t>(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)?i.setAttribute(e,t,n):i.removeAttribute(e,n)}function av(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.createElement("tableCell",n);e.insertElement("paragraph",i),e.insert(i,t)}function ov(e,t){var n=t.parent.parent,i=parseInt(n.getAttribute("headingColumns")||0),r=e.getCellLocation(t).column;return!!i&&r<i}function sv(){return function(e){e.on("element:table",(function(e,t,n){var i=t.viewItem;if(n.consumable.test(i,{name:!0})){var r=function(e){for(var t,n={headingRows:0,headingColumns:0},i=[],r=[],a=0,o=Array.from(e.getChildren());a<o.length;a++){var s=o[a];if("tbody"===s.name||"thead"===s.name||"tfoot"===s.name){"thead"!==s.name||t||(t=s);var c,l=Array.from(s.getChildren()).filter((function(e){return e.is("element","tr")})),u=d(l);try{for(u.s();!(c=u.n()).done;){var h=c.value;if("thead"===h.parent.name&&h.parent===t)n.headingRows++,i.push(h);else{r.push(h);var f=lv(h);f>n.headingColumns&&(n.headingColumns=f)}}}catch(m){u.e(m)}finally{u.f()}}}return n.rows=[].concat(i,r),n}(i),a=r.rows,o=r.headingRows,s=r.headingColumns,c={};s&&(c.headingColumns=s),o&&(c.headingRows=o);var l=n.writer.createElement("table",c),u=n.splitToAllowedParent(l,t.modelCursor);if(u){if(n.writer.insert(l,u.position),n.consumable.consume(i,{name:!0}),a.forEach((function(e){return n.convertItem(e,n.writer.createPositionAt(l,"end"))})),l.isEmpty){var h=n.writer.createElement("tableRow");n.writer.insert(h,n.writer.createPositionAt(l,"end")),av(n.writer,n.writer.createPositionAt(h,"end"))}t.modelRange=n.writer.createRange(n.writer.createPositionBefore(l),n.writer.createPositionAfter(l)),u.cursorParent?t.modelCursor=n.writer.createPositionAt(u.cursorParent,0):t.modelCursor=t.modelRange.end}}}))}}function cv(e){return function(t){t.on("element:"+e,(function(e,t,n){var i=t.viewItem;if(n.consumable.test(i,{name:!0})){var r=n.writer.createElement("tableCell"),a=n.splitToAllowedParent(r,t.modelCursor);if(a){n.writer.insert(r,a.position),n.consumable.consume(i,{name:!0});var o=n.writer.createPositionAt(r,0);n.convertChildren(i,o),r.childCount||n.writer.insertElement("paragraph",o),t.modelRange=n.writer.createRange(n.writer.createPositionBefore(r),n.writer.createPositionAfter(r)),t.modelCursor=t.modelRange.end}}}))}}function lv(e){for(var t=0,n=0,i=Array.from(e.getChildren()).filter((function(e){return"th"===e.name||"td"===e.name}));n<i.length&&"th"===i[n].name;){var r=i[n];t+=parseInt(r.getAttribute("colspan")||1),n++}return t}var uv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e),this._table=t,this._startRow=void 0!==n.row?n.row:n.startRow||0,this._endRow=void 0!==n.row?n.row:n.endRow,this._startColumn=void 0!==n.column?n.column:n.startColumn||0,this._endColumn=void 0!==n.column?n.column:n.endColumn,this._includeAllSlots=!!n.includeAllSlots,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return m(e,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._table.getChild(this._row);if(!e||this._isOverEndRow())return{done:!0};if(this._isOverEndColumn())return this._advanceToNextRow();var t=null,n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{var i=e.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();var r=parseInt(i.getAttribute("colspan")||1),a=parseInt(i.getAttribute("rowspan")||1);(r>1||a>1)&&this._recordSpans(i,a,r),this._shouldSkipSlot()||(t=this._formatOutValue(i)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_advanceToNextRow",value:function(){return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}},{key:"_isOverEndRow",value:function(){return void 0!==this._endRow&&this._row>this._endRow}},{key:"_isOverEndColumn",value:function(){return void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_formatOutValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new dv(this,e,t,n)}}},{key:"_shouldSkipSlot",value:function(){var e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,i=void 0!==this._endColumn&&this._column>this._endColumn;return e||t||n||i}},{key:"_getSpanned",value:function(){var e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}},{key:"_recordSpans",value:function(e,t,n){for(var i={cell:e,row:this._row,column:this._column},r=this._row;r<this._row+t;r++)for(var a=this._column;a<this._column+n;a++)r==this._row&&a==this._column||this._markSpannedCell(r,a,i)}},{key:"_markSpannedCell",value:function(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}]),e}(),dv=function(){function e(t,n,i,r){f(this,e),this.cell=n,this.row=t._row,this.column=t._column,this.cellAnchorRow=i,this.cellAnchorColumn=r,this._cellIndex=t._cellIndex,this._table=t._table}return m(e,[{key:"getPositionBefore",value:function(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}},{key:"isAnchor",get:function(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}},{key:"cellWidth",get:function(){return parseInt(this.cell.getAttribute("colspan")||1)}},{key:"cellHeight",get:function(){return parseInt(this.cell.getAttribute("rowspan")||1)}}]),e}();function hv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t.on("insert:table",(function(t,n,i){var r=n.item;if(i.consumable.consume(r,"insert")){i.consumable.consume(r,"attribute:headingRows:table"),i.consumable.consume(r,"attribute:headingColumns:table");var a,o,s,c=e&&e.asWidget,l=i.writer.createContainerElement("figure",{class:"table"}),u=i.writer.createContainerElement("table");i.writer.insert(i.writer.createPositionAt(l,0),u),c&&(o=l,(s=i.writer).setCustomProperty("table",!0,o),a=th(o,s,{hasSelectionHandle:!0}));var h,f=new uv(r),m={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},p=new Map,v=d(f);try{for(v.s();!(h=v.n()).done;){var g=h.value,b=g.row,k=g.cell,y=r.getChild(b),w=p.get(b)||vv(u,y,b,m,i);p.set(b,w),i.consumable.consume(k,"insert"),pv(g,m,i.writer.createPositionAt(w,"end"),i,e)}}catch(N){v.e(N)}finally{v.f()}var _,x=d(r.getChildren());try{for(x.s();!(_=x.n()).done;){var j=_.value,C=j.index;p.has(C)||p.set(C,vv(u,j,C,m,i))}}catch(N){x.e(N)}finally{x.f()}var O=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(r,c?a:l),i.writer.insert(O,c?a:l)}}))}}function fv(e,t,n){var i=n.writer,r=n.mapper.toViewElement(e);if(r){var a=rh(i.createEditableElement(t,r.getAttributes()),i);nh(a,i,(function(e,t,n){return n.addClass(xv(t.classes),e)}),(function(e,t,n){return n.removeClass(xv(t.classes),e)})),i.insert(i.createPositionAfter(r),a),i.move(i.createRangeIn(r),i.createPositionAt(a,0)),i.remove(i.createRangeOn(r)),n.mapper.unbindViewElement(r),n.mapper.bindElements(e,a)}}function mv(e,t,n){var i=e.cell,r=gv(e,t),a=n.mapper.toViewElement(i);a&&a.name!==r&&fv(i,r,n)}function pv(e,t,n,i,r){var a=r&&r.asWidget,o=gv(e,t),s=a?rh(i.writer.createEditableElement(o),i.writer):i.writer.createContainerElement(o);a&&nh(s,i.writer,(function(e,t,n){return n.addClass(xv(t.classes),e)}),(function(e,t,n){return n.removeClass(xv(t.classes),e)}));var c=e.cell,u=c.getChild(0),d=1===c.childCount&&"paragraph"===u.name;if(i.writer.insert(n,s),d&&!l(u.getAttributeKeys()).length){var h=c.getChild(0),f=i.writer.createPositionAt(s,"end");if(i.consumable.consume(h,"insert"),a){var m=i.writer.createContainerElement("span",{style:"display:inline-block"});i.mapper.bindElements(h,m),i.writer.insert(f,m),i.mapper.bindElements(c,s)}else i.mapper.bindElements(c,s),i.mapper.bindElements(h,s)}else i.mapper.bindElements(c,s)}function vv(e,t,n,i,r){r.consumable.consume(t,"insert");var a=t.isEmpty?r.writer.createEmptyElement("tr"):r.writer.createContainerElement("tr");r.mapper.bindElements(t,a);var o=i.headingRows,s=bv(function(e,t){return e<t.headingRows?"thead":"tbody"}(n,i),e,r),c=o>0&&n>=o?n-o:n,l=r.writer.createPositionAt(s,c);return r.writer.insert(l,a),a}function gv(e,t){var n=e.row,i=e.column,r=t.headingColumns,a=t.headingRows;return a&&a>n||r&&r>i?"th":"td"}function bv(e,t,n){return kv(e,t)||function(e,t,n){var i=n.writer.createContainerElement(e),r=n.writer.createPositionAt(t,"tbody"==e?"end":0);return n.writer.insert(r,i),i}(e,t,n)}function kv(e,t){var n,i=d(t.getChildren());try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.name==e)return r}}catch(a){i.e(a)}finally{i.f()}}function yv(e,t,n){var i=kv(e,t);i&&0===i.childCount&&n.writer.remove(n.writer.createRangeOn(i))}function wv(e,t,n,i){var r,a=d(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=n.mapper.toViewElement(o);s&&n.writer.move(n.writer.createRangeOn(s),n.writer.createPositionAt(t,i))}}catch(c){a.e(c)}finally{a.f()}}function _v(e){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("table"===i.name)return i}}catch(r){n.e(r)}finally{n.f()}}function xv(e){return Array.isArray(e)?e:[e]}var jv=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema,i=function(e){var t=e.parent;return t===t.root?t:t.parent}(t.getFirstPosition());this.isEnabled=n.checkChild(i,"table")}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=t.document.selection,i=this.editor.plugins.get("TableUtils"),r=parseInt(e.rows)||2,a=parseInt(e.columns)||2,o=ah(n,t);t.change((function(e){var n=i.createTable(e,r,a);t.insertContent(n,o),e.setSelection(e.createPositionAt(n.getNodeByPath([0,0,0]),0))}))}}]),n}(ju);function Cv(e){var t,n,i=[],r=d((n=e.getRanges(),Array.from(n).sort(Lv)));try{for(r.s();!(t=r.n()).done;){var a=t.value.getContainedElement();a&&a.is("tableCell")&&i.push(a)}}catch(o){r.e(o)}finally{r.f()}return i}function Ov(e){var t,n=[],i=d(e.getRanges());try{for(i.s();!(t=i.n()).done;){var r=iv("tableCell",t.value.start);r&&n.push(r)}}catch(a){i.e(a)}finally{i.f()}return n}function Nv(e){var t=Cv(e);return t.length?t:Ov(e)}function Av(e){return Mv(e.map((function(e){return e.parent.index})))}function Tv(e){var t=iv("table",e[0]);return Mv(l(new uv(t)).filter((function(t){return e.includes(t.cell)})).map((function(e){return e.column})))}function Sv(e,t){if(e.length<2||!function(e){var t=iv("table",e[0]);if(!Ev(Av(e),parseInt(t.getAttribute("headingRows")||0)))return!1;var n=parseInt(t.getAttribute("headingColumns")||0);return Ev(Tv(e),n)}(e))return!1;var n,i=new Set,r=new Set,a=0,o=d(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,c=t.getCellLocation(s),u=c.row,h=c.column,f=parseInt(s.getAttribute("rowspan")||1),m=parseInt(s.getAttribute("colspan")||1);i.add(u),r.add(h),f>1&&i.add(u+f-1),m>1&&r.add(h+m-1),a+=f*m}}catch(p){o.e(p)}finally{o.f()}return function(e,t){var n=Array.from(e.values()),i=Array.from(t.values());return(Math.max.apply(Math,l(n))-Math.min.apply(Math,l(n))+1)*(Math.max.apply(Math,l(i))-Math.min.apply(Math,l(i))+1)}(i,r)==a}function Mv(e){var t=e.sort((function(e,t){return e-t}));return{first:t[0],last:t[t.length-1]}}function Lv(e,t){var n=e.start,i=t.start;return n.isBefore(i)?-1:1}function Ev(e,t){return e.first<t===e.last<t}var Pv=function(e){p(n,e);var t=v(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,n),(i=t.call(this,e)).order=r.order||"below",i}return m(n,[{key:"refresh",value:function(){var e=iv("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="above"===this.order,r=Nv(t),a=Av(r),o=i?a.first:a.last,s=iv("table",r[0]);n.insertRows(s,{at:i?o:o+1,copyStructureFromAbove:!i})}}]),n}(ju),Iv=function(e){p(n,e);var t=v(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,n),(i=t.call(this,e)).order=r.order||"right",i}return m(n,[{key:"refresh",value:function(){var e=iv("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="left"===this.order,r=Nv(t),a=Tv(r),o=i?a.first:a.last,s=iv("table",r[0]);n.insertColumns(s,{columns:1,at:i?o:o+1})}}]),n}(ju),Vv=function(e){p(n,e);var t=v(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,n),(i=t.call(this,e)).direction=r.direction||"horizontally",i}return m(n,[{key:"refresh",value:function(){var e=Nv(this.editor.model.document.selection);this.isEnabled=1===e.length}},{key:"execute",value:function(){var e=Nv(this.editor.model.document.selection)[0],t="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");t?n.splitCellHorizontally(e,2):n.splitCellVertically(e,2)}}]),n}(ju);function Rv(e,t,n){for(var i=t.startRow,r=t.startColumn,a=t.endRow,o=t.endColumn,s=n.createElement("table"),c=a-i+1,u=0;u<c;u++)n.insertElement("tableRow",s,"end");var h,f=l(new uv(e,{startRow:i,endRow:a,startColumn:r,endColumn:o,includeAllSlots:!0})),m=d(f);try{for(m.s();!(h=m.n()).done;){var p=h.value,v=p.row,g=p.column,b=p.cell,k=p.isAnchor,y=p.cellAnchorRow,w=p.cellAnchorColumn,_=v-i,x=s.getChild(_);if(k){var j=n.cloneElement(b);n.append(j,x),Hv(j,v,g,a,o,n)}else(y<i||w<r)&&av(n,n.createPositionAt(x,"end"))}}catch(C){m.e(C)}finally{m.f()}return function(e,t,n,i,r){var a=parseInt(t.getAttribute("headingRows")||0);a>0&&rv("headingRows",a-n,e,r,0);var o=parseInt(t.getAttribute("headingColumns")||0);o>0&&rv("headingColumns",o-i,e,r,0)}(s,e,i,r,n),s}function Dv(e,t){var n,i=[],r=new uv(e,{startRow:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,endRow:t-1}),a=d(r);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.row,c=o.cellHeight;s<t&&t<=s+c-1&&i.push(o)}}catch(l){a.e(l)}finally{a.f()}return i}function zv(e,t,n){var i=e.parent,r=i.parent,a=i.index,o=t-a,s={},c=parseInt(e.getAttribute("rowspan"))-o;c>1&&(s.rowspan=c);var u=parseInt(e.getAttribute("colspan")||1);u>1&&(s.colspan=u);var h,f,m=a+o,p=l(new uv(r,{startRow:a,endRow:m,includeAllSlots:!0})),v=d(p);try{for(v.s();!(f=v.n()).done;){var g=f.value,b=g.row,k=g.column;g.cell===e&&void 0===h&&(h=k),void 0!==h&&h===k&&b===m&&av(n,g.getPositionBefore(),s)}}catch(y){v.e(y)}finally{v.f()}rv("rowspan",o,e,n)}function Bv(e,t){var n,i=[],r=new uv(e),a=d(r);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.column,c=o.cellWidth;s<t&&t<=s+c-1&&i.push(o)}}catch(l){a.e(l)}finally{a.f()}return i}function Fv(e,t,n,i){var r=n-t,a={},o=parseInt(e.getAttribute("colspan"))-r;o>1&&(a.colspan=o);var s=parseInt(e.getAttribute("rowspan")||1);s>1&&(a.rowspan=s),av(i,i.createPositionAfter(e),a),rv("colspan",r,e,i)}function Hv(e,t,n,i,r,a){var o=parseInt(e.getAttribute("colspan")||1),s=parseInt(e.getAttribute("rowspan")||1);n+o-1>r&&rv("colspan",r-n+1,e,a,1),t+s-1>i&&rv("rowspan",i-t+1,e,a,1)}function Uv(e,t){var n,i=t.getColumns(e),r=new Array(i).fill(0),a=d(new uv(e));try{for(a.s();!(n=a.n()).done;)r[n.value.column]++}catch(s){a.e(s)}finally{a.f()}var o=r.reduce((function(e,t,n){return t?e:[].concat(l(e),[n])}),[]);return o.reverse().forEach((function(n){t.removeColumns(e,{at:n})})),o.length>0}function qv(e,t,n){for(var i=[],r=0;r<e.childCount;r++)e.getChild(r).isEmpty&&i.push(r);return i.reverse().forEach((function(i){t.removeRows(e,{at:i,batch:n})})),i.length>0}function Wv(e,t,n){Uv(e,t)||qv(e,t,n)}function Zv(e,t){var n=Array.from(new uv(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(n.every((function(e){return 1===e.cellHeight})))return t.lastRow;var i=n[0].cellHeight-1;return t.lastRow+i}function Gv(e,t){var n=Array.from(new uv(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(n.every((function(e){return 1===e.cellWidth})))return t.lastColumn;var i=n[0].cellWidth-1;return t.lastColumn+i}var Yv=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).direction=i.direction,r.isHorizontal="right"==r.direction||"left"==r.direction,r}return m(n,[{key:"refresh",value:function(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=Ov(t.document.selection)[0],i=this.value,r=this.direction;t.change((function(t){var a="right"==r||"down"==r,o=a?n:i,s=a?i:n,c=s.parent;!function(e,t,n){Qv(e)||(Qv(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}(s,o,t);var l=e.isHorizontal?"colspan":"rowspan",u=parseInt(n.getAttribute(l)||1),d=parseInt(i.getAttribute(l)||1);t.setAttribute(l,u+d,o),t.setSelection(t.createRangeIn(o));var h=e.editor.plugins.get("TableUtils");Wv(iv("table",c),h,t.batch)}))}},{key:"_getMergeableCell",value:function(){var e=Ov(this.editor.model.document.selection)[0];if(e){var t=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(e,t,n){var i=e.parent.parent,r="right"==t?e.nextSibling:e.previousSibling,a=(i.getAttribute("headingColumns")||0)>0;if(r){var o="right"==t?e:r,s="right"==t?r:e,c=n.getCellLocation(o).column,l=n.getCellLocation(s).column,u=parseInt(o.getAttribute("colspan")||1),d=ov(n,o),h=ov(n,s);if(!a||d==h)return c+u===l?r:void 0}}(e,this.direction,t):function(e,t){var n=e.parent,i=n.parent,r=i.getChildIndex(n);if(!("down"==t&&r===i.childCount-1||"up"==t&&0===r)){var a=parseInt(e.getAttribute("rowspan")||1),o=i.getAttribute("headingRows")||0;if(!o||("down"!=t||r+a!==o)&&("up"!=t||r!==o)){var s=parseInt(e.getAttribute("rowspan")||1),c="down"==t?r+s:r,u=l(new uv(i,{endRow:c})),d=u.find((function(t){return t.cell===e})).column,h=u.find((function(e){var n=e.row,i=e.cellHeight;return e.column===d&&("down"==t?n===c:c===n+i)}));return h&&h.cell}}}(e,this.direction);if(n){var i=this.isHorizontal?"rowspan":"colspan",r=parseInt(e.getAttribute(i)||1);return parseInt(n.getAttribute(i)||1)===r?n:void 0}}}}]),n}(ju);function Qv(e){return 1==e.childCount&&e.getChild(0).is("paragraph")&&e.getChild(0).isEmpty}var Kv=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=Nv(this.editor.model.document.selection),t=e[0];if(t){var n=iv("table",t),i=this.editor.plugins.get("TableUtils").getRows(n)-1,r=Av(e),a=0===r.first&&r.last===i;this.isEnabled=!a}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=Nv(t.document.selection),i=Av(n),r=n[0],a=iv("table",r),o=this.editor.plugins.get("TableUtils").getCellLocation(r).column,s=t.createBatch();t.enqueueChange(s,(function(t){t.setSelection(t.createSelection(a,"on"));var n=i.last-i.first+1;e.editor.plugins.get("TableUtils").removeRows(a,{at:i.first,rows:n,batch:s})})),t.enqueueChange(s,(function(e){var t=function(e,t,n){var i,r=e.getChild(t)||e.getChild(e.childCount-1),a=r.getChild(0),o=0,s=d(r.getChildren());try{for(s.s();!(i=s.n()).done;){var c=i.value;if(o>n)return a;a=c,o+=parseInt(c.getAttribute("colspan")||1)}}catch(l){s.e(l)}finally{s.f()}return a}(a,i.first,o);e.setSelection(e.createPositionAt(t,0))}))}}]),n}(ju),$v=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=Nv(this.editor.model.document.selection),t=e[0];if(t){var n=iv("table",t),i=this.editor.plugins.get("TableUtils").getColumns(n),r=Tv(e),a=r.first,o=r.last;this.isEnabled=o-a<i-1}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this,t=function(e){var t=Nv(e),n=t[0],i=t.pop(),r=[n,i];return n.isBefore(i)?r:r.reverse()}(this.editor.model.document.selection),n=u(t,2),i=n[0],r=n[1],a=i.parent.parent,o=l(new uv(a)),s={first:o.find((function(e){return e.cell===i})).column,last:o.find((function(e){return e.cell===r})).column},c=function(e,t,n,i){return parseInt(n.getAttribute("colspan")||1)>1?n:t.previousSibling||n.nextSibling?n.nextSibling||t.previousSibling:i.first?e.reverse().find((function(e){return e.column<i.first})).cell:e.reverse().find((function(e){return e.column>i.last})).cell}(o,i,r,s);this.editor.model.change((function(t){var n=s.last-s.first+1;e.editor.plugins.get("TableUtils").removeColumns(a,{at:s.first,columns:n}),t.setSelection(t.createPositionAt(c,0))}))}}]),n}(ju),Jv=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=this,t=Nv(this.editor.model.document.selection),n=t.length>0;this.isEnabled=n,this.value=n&&t.every((function(t){return e._isInHeading(t,t.parent.parent)}))}},{key:"execute",value:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceValue!==this.value){var e=this.editor.model,t=Nv(e.document.selection),n=iv("table",t[0]),i=Av(t),r=i.first,a=i.last,o=this.value?r:a+1,s=n.getAttribute("headingRows")||0;e.change((function(e){if(o){var t,i=Dv(n,o,o>s?s:0),r=d(i);try{for(r.s();!(t=r.n()).done;)zv(t.value.cell,o,e)}catch(a){r.e(a)}finally{r.f()}}rv("headingRows",o,n,e,0)}))}}},{key:"_isInHeading",value:function(e,t){var n=parseInt(t.getAttribute("headingRows")||0);return!!n&&e.parent.index<n}}]),n}(ju),Xv=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=Nv(this.editor.model.document.selection),t=this.editor.plugins.get("TableUtils"),n=e.length>0;this.isEnabled=n,this.value=n&&e.every((function(e){return ov(t,e)}))}},{key:"execute",value:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceValue!==this.value){var e=this.editor.model,t=Nv(e.document.selection),n=iv("table",t[0]),i=Tv(t),r=i.first,a=i.last,o=this.value?r:a+1;e.change((function(e){if(o){var t,i=Bv(n,o),r=d(i);try{for(r.s();!(t=r.n()).done;){var a=t.value;Fv(a.cell,a.column,o,e)}}catch(s){r.e(s)}finally{r.f()}}rv("headingColumns",o,n,e,0)}))}}}]),n}(ju),eg=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"getCellLocation",value:function(e){var t,n=e.parent,i=n.parent,r=i.getChildIndex(n),a=new uv(i,{row:r}),o=d(a);try{for(o.s();!(t=o.n()).done;){var s=t.value,c=s.cell,l=s.row,u=s.column;if(c===e)return{row:l,column:u}}}catch(h){o.e(h)}finally{o.f()}}},{key:"createTable",value:function(e,t,n){var i=e.createElement("table");return tg(e,i,0,t,n),i}},{key:"insertRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,i=t.at||0,r=t.rows||1,a=void 0!==t.copyStructureFromAbove,o=t.copyStructureFromAbove?i-1:i,s=this.getRows(e),c=this.getColumns(e);n.change((function(t){var n=e.getAttribute("headingRows")||0;if(n>i&&t.setAttribute("headingRows",n+r,e),a||0!==i&&i!==s){var l,u=a?Math.max(i,o):i,h=new uv(e,{endRow:u}),f=new Array(c).fill(1),m=d(h);try{for(m.s();!(l=m.n()).done;){var p=l.value,v=p.row,g=p.column,b=p.cellHeight,k=p.cellWidth,y=p.cell,w=v+b-1,_=v<=o&&o<=w;v<i&&i<=w?(t.setAttribute("rowspan",b+r,y),f[g]=-k):a&&_&&(f[g]=k)}}catch(A){m.e(A)}finally{m.f()}for(var x=0;x<r;x++){var j=t.createElement("tableRow");t.insert(j,e,i);for(var C=0;C<f.length;C++){var O=f[C],N=t.createPositionAt(j,"end");O>0&&av(t,N,O>1?{colspan:O}:null),C+=Math.abs(O)-1}}}else tg(t,e,i,r,c)}))}},{key:"insertColumns",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.editor.model,r=n.at||0,a=n.columns||1;i.change((function(n){var i=e.getAttribute("headingColumns");r<i&&n.setAttribute("headingColumns",i+a,e);var o=t.getColumns(e);if(0!==r&&o!==r){var s,c=new uv(e,{column:r,includeAllSlots:!0}),l=d(c);try{for(l.s();!(s=l.n()).done;){var u=s.value,h=u.row,f=u.cell,m=u.cellAnchorColumn,p=u.cellAnchorRow,v=u.cellWidth,g=u.cellHeight;if(m<r){n.setAttribute("colspan",v+a,f);for(var b=p+g-1,k=h;k<=b;k++)c.skipRow(k)}else ng(a,n,u.getPositionBefore())}}catch(x){l.e(x)}finally{l.f()}}else{var y,w=d(e.getChildren());try{for(w.s();!(y=w.n()).done;){var _=y.value;ng(a,n,n.createPositionAt(_,r?"end":0))}}catch(x){w.e(x)}finally{w.f()}}}))}},{key:"removeRows",value:function(e,t){var n=this,i=this.editor.model,r=t.rows||1,a=t.at,o=a+r-1,s=t.batch||"default";i.enqueueChange(s,(function(t){var r=function(e,t,n){var i,r=new Map,a=[],o=d(new uv(e,{endRow:n}));try{for(o.s();!(i=o.n()).done;){var s=i.value,c=s.row,l=s.column,u=s.cellHeight,h=s.cell,f=c+u-1;if(c>=t&&c<=n&&f>n){var m=u-(n-c+1);r.set(l,{cell:h,rowspan:m})}if(c<t&&f>=t){var p=void 0;p=f>=n?n-t+1:f-t+1,a.push({cell:h,rowspan:u-p})}}}catch(v){o.e(v)}finally{o.f()}return{cellsToMove:r,cellsToTrim:a}}(e,a,o),c=r.cellsToMove,u=r.cellsToTrim;c.size&&function(e,t,n,i){var r,a,o=l(new uv(e,{includeAllSlots:!0,row:t})),s=e.getChild(t),c=d(o);try{for(c.s();!(a=c.n()).done;){var u=a.value,h=u.column,f=u.cell,m=u.isAnchor;if(n.has(h)){var p=n.get(h),v=p.cell,g=p.rowspan,b=r?i.createPositionAfter(r):i.createPositionAt(s,0);i.move(i.createRangeOn(v),b),rv("rowspan",g,v,i),r=v}else m&&(r=f)}}catch(k){c.e(k)}finally{c.f()}}(e,o+1,c,t);for(var h=o;h>=a;h--)t.remove(e.getChild(h));var f,m=d(u);try{for(m.s();!(f=m.n()).done;){var p=f.value;rv("rowspan",p.rowspan,p.cell,t)}}catch(v){m.e(v)}finally{m.f()}Uv(e,n),function(e,t,n,i,r){i.enqueueChange(r,(function(i){var r=e.getAttribute("headingRows")||0;t<r&&rv("headingRows",n<r?r-(n-t+1):t,e,i,0)}))}(e,a,o,i,s)}))}},{key:"removeColumns",value:function(e,t){var n=this,i=this.editor.model,r=t.at,a=t.columns||1,o=t.at+a-1;i.change((function(t){!function(e,t,n){var i=e.getAttribute("headingColumns")||0;if(i&&t.first<i){var r=Math.min(i-1,t.last)-t.first+1;n.setAttribute("headingColumns",i-r,e)}}(e,{first:r,last:o},t);for(var i=o;i>=r;i--)for(var a=0,s=l(new uv(e));a<s.length;a++){var c=s[a],u=c.cell,d=c.column,h=c.cellWidth;d<=i&&h>1&&d+h>i?rv("colspan",h-1,u,t):d===i&&t.remove(u)}qv(e,n,t.batch)}))}},{key:"splitCellVertically",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,i=e.parent.parent,r=parseInt(e.getAttribute("rowspan")||1),a=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(a>1){var o=ig(a,t),s=o.newCellsSpan;rv("colspan",o.updatedSpan,e,n);var c={};s>1&&(c.colspan=s),r>1&&(c.rowspan=r),ng(a>t?t-1:a-1,n,n.createPositionAfter(e),c)}if(a<t){var u,h=t-a,f=l(new uv(i)),m=f.find((function(t){return t.cell===e})).column,p=f.filter((function(t){var n=t.cell,i=t.cellWidth,r=t.column;return n!==e&&r===m||r<m&&r+i>m})),v=d(p);try{for(v.s();!(u=v.n()).done;){var g=u.value,b=g.cell,k=g.cellWidth;n.setAttribute("colspan",k+h,b)}}catch(_){v.e(_)}finally{v.f()}var y={};r>1&&(y.rowspan=r),ng(h,n,n.createPositionAfter(e),y);var w=i.getAttribute("headingColumns")||0;w>m&&rv("headingColumns",w+h,i,n)}}))}},{key:"splitCellHorizontally",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,i=e.parent,r=i.parent,a=r.getChildIndex(i),o=parseInt(e.getAttribute("rowspan")||1),s=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(o>1){var i=l(new uv(r,{startRow:a,endRow:a+o-1,includeAllSlots:!0})),c=ig(o,t),u=c.newCellsSpan,h=c.updatedSpan;rv("rowspan",h,e,n);var f=i.find((function(t){return t.cell===e})).column,m={};u>1&&(m.rowspan=u),s>1&&(m.colspan=s);for(var p=0,v=i;p<v.length;p++){var g=v[p],b=g.column,k=g.row;k>=a+h&&b===f&&(k+a+h)%u==0&&ng(1,n,g.getPositionBefore(),m)}}if(o<t){var y,w=t-o,_=l(new uv(r,{startRow:0,endRow:a})),x=d(_);try{for(x.s();!(y=x.n()).done;){var j=y.value,C=j.cell,O=j.cellHeight,N=j.row;if(C!==e&&N+O>a){var A=O+w;n.setAttribute("rowspan",A,C)}}}catch(M){x.e(M)}finally{x.f()}var T={};s>1&&(T.colspan=s),tg(n,r,a+1,w,1,T);var S=r.getAttribute("headingRows")||0;S>a&&rv("headingRows",S+w,r,n)}}))}},{key:"getColumns",value:function(e){return l(e.getChild(0).getChildren()).reduce((function(e,t){return e+parseInt(t.getAttribute("colspan")||1)}),0)}},{key:"getRows",value:function(e){return e.childCount}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),n}(bu);function tg(e,t,n,i,r){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=0;o<i;o++){var s=e.createElement("tableRow");e.insert(s,t,n),ng(r,e,e.createPositionAt(s,"end"),a)}}function ng(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=0;r<e;r++)av(t,n,i)}function ig(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}var rg=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=Cv(this.editor.model.document.selection);this.isEnabled=Sv(e,this.editor.plugins.get(eg))}},{key:"execute",value:function(){var e=this.editor.model,t=this.editor.plugins.get(eg);e.change((function(n){var i=Cv(e.document.selection),r=i.shift();n.setSelection(r,0);var a=function(e,t,n){var i,r=0,a=0,o=d(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=n.getCellLocation(s),l=c.row;r=sg(s,c.column,r,"colspan"),a=sg(s,l,a,"rowspan")}}catch(f){o.e(f)}finally{o.f()}var u=n.getCellLocation(e),h=u.row;return{mergeWidth:r-u.column,mergeHeight:a-h}}(r,i,t),o=a.mergeWidth,s=a.mergeHeight;rv("colspan",o,r,n),rv("rowspan",s,r,n);var c,l=d(i);try{for(l.s();!(c=l.n()).done;)ag(c.value,r,n)}catch(u){l.e(u)}finally{l.f()}Wv(iv("table",r),t,n.batch),n.setSelection(r,"in")}))}}]),n}(ju);function ag(e,t,n){og(e)||(og(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}function og(e){return 1==e.childCount&&e.getChild(0).is("paragraph")&&e.getChild(0).isEmpty}function sg(e,t,n,i){var r=parseInt(e.getAttribute(i)||1);return Math.max(n,t+r)}var cg=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=Nv(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){for(var e=this.editor.model,t=Nv(e.document.selection),n=Av(t),i=iv("table",t[0]),r=[],a=n.first;a<=n.last;a++){var o,s=d(i.getChild(a).getChildren());try{for(s.s();!(o=s.n()).done;){var c=o.value;r.push(e.createRangeOn(c))}}catch(l){s.e(l)}finally{s.f()}}e.change((function(e){e.setSelection(r)}))}}]),n}(ju),lg=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=Nv(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){var e,t=this.editor.model,n=Nv(t.document.selection),i=n[0],r=n.pop(),a=iv("table",i),o=this.editor.plugins.get("TableUtils"),s=o.getCellLocation(i),c=o.getCellLocation(r),l=Math.min(s.column,c.column),u=Math.max(s.column,c.column),h=[],f=d(new uv(a,{startColumn:l,endColumn:u}));try{for(f.s();!(e=f.n()).done;){var m=e.value;h.push(t.createRangeOn(m.cell))}}catch(p){f.e(p)}finally{f.f()}t.change((function(e){e.setSelection(h)}))}}]),n}(ju);function ug(e){e.document.registerPostFixer((function(t){return function(e,t){var n,i=t.document.differ.getChanges(),r=!1,a=new Set,o=d(i);try{for(o.s();!(n=o.n()).done;){var s=n.value,c=void 0;"table"==s.name&&"insert"==s.type&&(c=s.position.nodeAfter),"tableRow"!=s.name&&"tableCell"!=s.name||(c=iv("table",s.position)),fg(s)&&(c=iv("table",s.range.start)),c&&!a.has(c)&&(r=dg(c,e)||r,r=hg(c,e)||r,a.add(c))}}catch(l){o.e(l)}finally{o.f()}return r}(t,e)}))}function dg(e,t){var n=!1,i=function(e){var t,n=parseInt(e.getAttribute("headingRows")||0),i=e.childCount,r=[],a=d(new uv(e));try{for(a.s();!(t=a.n()).done;){var o=t.value,s=o.row,c=o.cell,l=o.cellHeight;if(!(l<2)){var u=s<n?n:i;if(s+l>u){var h=u-s;r.push({cell:c,rowspan:h})}}}}catch(f){a.e(f)}finally{a.f()}return r}(e);if(i.length){n=!0;var r,a=d(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;rv("rowspan",o.rowspan,o.cell,t,1)}}catch(s){a.e(s)}finally{a.f()}}return n}function hg(e,t){var n,i=!1,r=function(e){var t,n=new Array(e.childCount).fill(0),i=d(new uv(e,{includeAllSlots:!0}));try{for(i.s();!(t=i.n()).done;)n[t.value.row]++}catch(r){i.e(r)}finally{i.f()}return n}(e),a=[],o=d(r.entries());try{for(o.s();!(n=o.n()).done;){var s=u(n.value,2),c=s[0];s[1]||a.push(c)}}catch(_){o.e(_)}finally{o.f()}if(a.length){i=!0;var l,h=d(a.reverse());try{for(h.s();!(l=h.n()).done;){var f=l.value;t.remove(e.getChild(f)),r.splice(f,1)}}catch(_){h.e(_)}finally{h.f()}}var m=r[0];if(!r.every((function(e){return e===m}))){var p,v=r.reduce((function(e,t){return t>e?t:e}),0),g=d(r.entries());try{for(g.s();!(p=g.n()).done;){var b=u(p.value,2),k=b[0],y=v-b[1];if(y){for(var w=0;w<y;w++)av(t,t.createPositionAt(e.getChild(k),"end"));i=!0}}}catch(_){g.e(_)}finally{g.f()}}return i}function fg(e){var t="attribute"===e.type,n=e.attributeKey;return t&&("headingRows"===n||"colspan"===n||"rowspan"===n)}function mg(e){e.document.registerPostFixer((function(t){return function(e,t){var n,i=t.document.differ.getChanges(),r=!1,a=d(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;"insert"==o.type&&"table"==o.name&&(r=pg(o.position.nodeAfter,e)||r),"insert"==o.type&&"tableRow"==o.name&&(r=vg(o.position.nodeAfter,e)||r),"insert"==o.type&&"tableCell"==o.name&&(r=gg(o.position.nodeAfter,e)||r),bg(o)&&(r=gg(o.position.parent,e)||r)}}catch(s){a.e(s)}finally{a.f()}return r}(t,e)}))}function pg(e,t){var n,i=!1,r=d(e.getChildren());try{for(r.s();!(n=r.n()).done;)i=vg(n.value,t)||i}catch(a){r.e(a)}finally{r.f()}return i}function vg(e,t){var n,i=!1,r=d(e.getChildren());try{for(r.s();!(n=r.n()).done;)i=gg(n.value,t)||i}catch(a){r.e(a)}finally{r.f()}return i}function gg(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;var n,i=Array.from(e.getChildren()).filter((function(e){return e.is("text")})),r=d(i);try{for(r.s();!(n=r.n()).done;){var a=n.value;t.wrap(t.createRangeOn(a),"paragraph")}}catch(o){r.e(o)}finally{r.f()}return!!i.length}function bg(e){return!(!e.position||!e.position.parent.is("tableCell"))&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}function kg(e){e.document.registerPostFixer((function(){return function(e){var t,n=e.document.differ,i=new Set,r=0,a=d(n.getChanges());try{for(a.s();!(t=a.n()).done;){var o=t.value,s="insert"==o.type||"remove"==o.type?o.position.parent:o.range.start.parent;s.is("tableCell")&&("insert"==o.type&&r++,yg(s,o.type,r)&&i.add(s))}}catch(h){a.e(h)}finally{a.f()}if(i.size){var c,l=d(i.values());try{for(l.s();!(c=l.n()).done;){var u=c.value;n.refreshItem(u)}}catch(h){l.e(h)}finally{l.f()}return!0}return!1}(e)}))}function yg(e,t,n){if(!Array.from(e.getChildren()).some((function(e){return e.is("paragraph")})))return!1;if("attribute"==t){var i=Array.from(e.getChild(0).getAttributeKeys()).length;return 1===e.childCount&&i<2}return e.childCount<=("insert"==t?n+1:1)}n(86);var wg=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.model,n=t.schema,i=e.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((function(e,t){if("table"==t.name&&Array.from(e.getNames()).includes("table"))return!1})),i.for("upcast").add(sv()),i.for("editingDowncast").add(hv({asWidget:!0})),i.for("dataDowncast").add(hv()),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add((function(e){e.on("element:tr",(function(e,t){t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()}),{priority:"high"})})),i.for("editingDowncast").add((function(e){return e.on("insert:tableRow",(function(e,t,n){var i=t.item;if(n.consumable.consume(i,"insert")){var r,a=i.parent,o=_v(n.mapper.toViewElement(a)),s=a.getChildIndex(i),c=new uv(a,{row:s}),l={headingRows:a.getAttribute("headingRows")||0,headingColumns:a.getAttribute("headingColumns")||0},u=new Map,h=d(c);try{for(h.s();!(r=h.n()).done;){var f=r.value,m=u.get(s)||vv(o,i,s,l,n);u.set(s,m),n.consumable.consume(f.cell,"insert"),pv(f,l,n.writer.createPositionAt(m,"end"),n,{asWidget:!0})}}catch(p){h.e(p)}finally{h.f()}}}))})),i.for("editingDowncast").add((function(e){return e.on("remove:tableRow",(function(e,t,n){e.stop();var i,r=n.writer,a=n.mapper,o=a.toViewPosition(t.position).getLastMatchingPosition((function(e){return!e.item.is("tr")})).nodeAfter,s=o.parent.parent,c=r.createRangeOn(o),l=r.remove(c),u=d(r.createRangeIn(l).getItems());try{for(u.s();!(i=u.n()).done;){var h=i.value;a.unbindViewElement(h)}}catch(f){u.e(f)}finally{u.f()}yv("thead",s,n),yv("tbody",s,n)}),{priority:"higher"})})),i.for("upcast").add(cv("td")),i.for("upcast").add(cv("th")),i.for("editingDowncast").add((function(e){return e.on("insert:tableCell",(function(e,t,n){var i=t.item;if(n.consumable.consume(i,"insert")){var r,a=i.parent,o=a.parent,s=o.getChildIndex(a),c=new uv(o,{row:s}),l={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},u=d(c);try{for(u.s();!(r=u.n()).done;){var h=r.value;if(h.cell===i){var f=n.mapper.toViewElement(a);return void pv(h,l,n.writer.createPositionAt(f,a.getChildIndex(i)),n,{asWidget:!0})}}}catch(m){u.e(m)}finally{u.f()}}}))})),i.attributeToAttribute({model:"colspan",view:"colspan"}),i.attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("editingDowncast").add((function(e){return e.on("attribute:headingColumns:table",(function(e,t,n){var i=t.item;if(n.consumable.consume(t.item,e.name)){var r,a={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},o=t.attributeOldValue,s=t.attributeNewValue,c=d(new uv(i,{endColumn:(o>s?o:s)-1}));try{for(c.s();!(r=c.n()).done;)mv(r.value,a,n)}catch(l){c.e(l)}finally{c.f()}}}))})),i.for("editingDowncast").add((function(e){return e.on("attribute:headingRows:table",(function(e,t,n){var i=t.item;if(n.consumable.consume(t.item,e.name)){var r=_v(n.mapper.toViewElement(i)),a=t.attributeOldValue,o=t.attributeNewValue;if(o>a){var s=Array.from(i.getChildren()).filter((function(e){return b(e.index,a-1,o)}));wv(s,bv("thead",r,n),n,"end");var c,l=d(s);try{for(l.s();!(c=l.n()).done;){var u,h=c.value,f=d(h.getChildren());try{for(f.s();!(u=f.n()).done;)fv(u.value,"th",n)}catch(k){f.e(k)}finally{f.f()}}}catch(k){l.e(k)}finally{l.f()}}else{wv(Array.from(i.getChildren()).filter((function(e){return b(e.index,o-1,a)})).reverse(),bv("tbody",r,n),n,0);var m,p=new uv(i,{startRow:o?o-1:o,endRow:a-1}),v={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},g=d(p);try{for(g.s();!(m=g.n()).done;)mv(m.value,v,n)}catch(k){g.e(k)}finally{g.f()}}yv("thead",r,n),yv("tbody",r,n)}function b(e,t,n){return e>t&&e<n}}))})),e.commands.add("insertTable",new jv(e)),e.commands.add("insertTableRowAbove",new Pv(e,{order:"above"})),e.commands.add("insertTableRowBelow",new Pv(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new Iv(e,{order:"left"})),e.commands.add("insertTableColumnRight",new Iv(e,{order:"right"})),e.commands.add("removeTableRow",new Kv(e)),e.commands.add("removeTableColumn",new $v(e)),e.commands.add("splitTableCellVertically",new Vv(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new Vv(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new rg(e)),e.commands.add("mergeTableCellRight",new Yv(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Yv(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Yv(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Yv(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new Xv(e)),e.commands.add("setTableRowHeader",new Jv(e)),e.commands.add("selectTableRow",new cg(e)),e.commands.add("selectTableColumn",new lg(e)),ug(t),kg(t),mg(t)}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[eg]}}]),n}(bu);n(88);var _g=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.set("icon"),i.set("isEnabled",!0),i.set("isOn",!1),i.set("isToggleable",!1),i.set("isVisible",!0),i.set("keystroke"),i.set("label"),i.set("tabindex",-1),i.set("tooltip"),i.set("tooltipPosition","s"),i.set("type","button"),i.set("withText",!1),i.children=i.createCollection(),i.actionView=i._createActionView(),i.arrowView=i._createArrowView(),i.keystrokes=new Wc,i.focusTracker=new tl,i.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.if("isVisible","ck-hidden",(function(e){return!e})),i.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:i.children}),i}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(function(t,n){e.focusTracker.focusedElement===e.actionView.element&&(e.arrowView.focus(),n())})),this.keystrokes.set("arrowleft",(function(t,n){e.focusTracker.focusedElement===e.arrowView.element&&(e.actionView.focus(),n())}))}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var e=new eu;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}},{key:"_createArrowView",value:function(){var e=new eu,t=e.bindTemplate;return e.icon=tu,e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":t.to("isOn",(function(e){return String(e)}))}}),e.bind("isEnabled").to(this),e.delegate("execute").to(this,"open"),e}}]),n}(Tl);n(90);var xg=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.items=i._createGridCollection(),i.set("rows",0),i.set("columns",0),i.bind("label").to(o(i),"columns",o(i),"rows",(function(e,t){return"".concat(t," \xd7 ").concat(e)})),i.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:i.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:r.to("label")}]}],on:{mousedown:r.to((function(e){e.preventDefault()})),click:r.to((function(){i.fire("execute")}))}}),i.on("boxover",(function(e,t){var n=t.target.dataset,r=n.row,a=n.column;i.set({rows:parseInt(r),columns:parseInt(a)})})),i.on("change:columns",(function(){i._highlightGridBoxes()})),i.on("change:rows",(function(){i._highlightGridBoxes()})),i}return m(n,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var e=this.rows,t=this.columns;this.items.map((function(n,i){var r=Math.floor(i/10)<e&&i%10<t;n.set("isOn",r)}))}},{key:"_createGridCollection",value:function(){for(var e=[],t=0;t<100;t++){var n=Math.floor(t/10),i=t%10;e.push(new jg(this.locale,n+1,i+1))}return this.createCollection(e)}}]),n}(Tl),jg=function(e){p(n,e);var t=v(n);function n(e,i,r){var a;f(this,n);var o=(a=t.call(this,e)).bindTemplate;return a.set("isOn",!1),a.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",o.if("isOn","ck-on")],"data-row":i,"data-column":r}}),a}return n}(Tl),Cg=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=this.editor.t,i="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(function(e){var i,r=t.commands.get("insertTable"),a=cu(e);return a.bind("isEnabled").to(r),a.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:n("Insert table"),tooltip:!0}),a.on("change:isOpen",(function(){i||(i=new xg(e),a.panelView.children.add(i),i.delegate("execute").to(a),a.buttonView.on("open",(function(){i.rows=0,i.columns=0})),a.on("execute",(function(){t.execute("insertTable",{rows:i.rows,columns:i.columns}),t.editing.view.focus()})))})),a})),t.ui.componentFactory.add("tableColumn",(function(t){var r=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:n("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:n("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:n("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:n("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:n("Select column")}}];return e._prepareDropdown(n("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',r,t)})),t.ui.componentFactory.add("tableRow",(function(t){var i=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:n("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:n("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:n("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:n("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:n("Select row")}}];return e._prepareDropdown(n("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',i,t)})),t.ui.componentFactory.add("mergeTableCells",(function(t){var r=[{type:"button",model:{commandName:"mergeTableCellUp",label:n("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:n("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:n("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:n("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:n("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:n("Split cell horizontally")}}];return e._prepareMergeSplitButtonDropdown(n("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',r,t)}))}},{key:"_prepareDropdown",value:function(e,t,n,i){var r=this.editor,a=cu(i),o=this._fillDropdownWithListOptions(a,n);return a.buttonView.set({label:e,icon:t,tooltip:!0}),a.bind("isEnabled").toMany(o,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),this.listenTo(a,"execute",(function(e){r.execute(e.source.commandName),r.editing.view.focus()})),a}},{key:"_prepareMergeSplitButtonDropdown",value:function(e,t,n,i){var r=this.editor,a=cu(i,_g);return this._fillDropdownWithListOptions(a,n),a.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),this.listenTo(a.buttonView,"execute",(function(){r.execute("mergeTableCells"),r.editing.view.focus()})),this.listenTo(a,"execute",(function(e){r.execute(e.source.commandName),r.editing.view.focus()})),a}},{key:"_fillDropdownWithListOptions",value:function(e,t){var n,i=this.editor,r=[],a=new Fn,o=d(t);try{for(o.s();!(n=o.n()).done;)Og(n.value,i,r,a)}catch(s){o.e(s)}finally{o.f()}return uu(e,a,i.ui.componentFactory),r}}]),n}(bu);function Og(e,t,n,i){var r=e.model=new sm(e.model),a=e.model,o=a.commandName,s=a.bindIsOn;if("button"===e.type||"switchbutton"===e.type){var c=t.commands.get(o);n.push(c),r.set({commandName:o}),r.bind("isEnabled").to(c),s&&r.bind("isOn").to(c,"value")}r.set({withText:!0}),i.add(e)}n(92);var Ng=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor.model;this.listenTo(t,"deleteContent",(function(t,n){return e._handleDeleteContent(t,n)}),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var e=Cv(this.editor.model.document.selection);return 0==e.length?null:e}},{key:"getSelectionAsFragment",value:function(){var e=this,t=this.getSelectedTableCells();return t?this.editor.model.change((function(n){var i=n.createDocumentFragment(),r=e.editor.plugins.get("TableUtils"),a=Tv(t),o=a.first,s=a.last,c=Av(t),l=c.first,u=c.last,d=iv("table",t[0]),h=u,f=s;if(Sv(t,r)){var m={firstColumn:o,lastColumn:s,firstRow:l,lastRow:u};h=Zv(d,m),f=Gv(d,m)}var p=Rv(d,{startRow:l,startColumn:o,endRow:h,endColumn:f},n);return n.insert(p,i,0),i})):null}},{key:"setCellSelection",value:function(e,t){var n=this._getCellsToSelect(e,t);this.editor.model.change((function(e){e.setSelection(n.cells.map((function(t){return e.createRangeOn(t)})),{backward:n.backward})}))}},{key:"getFocusCell",value:function(){var e=l(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return e&&e.is("tableCell")?e:null}},{key:"getAnchorCell",value:function(){var e=zd(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("tableCell")?e:null}},{key:"_defineSelectionConverter",value:function(){var e=this,t=this.editor,n=new Set;t.conversion.for("editingDowncast").add((function(t){return t.on("selection",(function(t,i,r){var a=r.writer;!function(e){var t,i=d(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;e.removeClass("ck-editor__editable_selected",r)}}catch(a){i.e(a)}finally{i.f()}n.clear()}(a);var o=e.getSelectedTableCells();if(o){var s,c=d(o);try{for(c.s();!(s=c.n()).done;){var l=s.value,u=r.mapper.toViewElement(l);a.addClass("ck-editor__editable_selected",u),n.add(u)}}catch(f){c.e(f)}finally{c.f()}var h=r.mapper.toViewElement(o[o.length-1]);a.setSelection(h,0)}}),{priority:"lowest"})}))}},{key:"_enablePluginDisabling",value:function(){var e=this,t=this.editor;this.on("change:isEnabled",(function(){if(!e.isEnabled){var n=e.getSelectedTableCells();if(!n)return;t.model.change((function(e){var i=e.createPositionAt(n[0],0),r=t.model.schema.getNearestSelectionRange(i);e.setSelection(r)}))}}))}},{key:"_handleDeleteContent",value:function(e,t){var n=u(t,2),i=n[0],r=n[1],a=this.editor.model,o=!r||"backward"==r.direction,s=Cv(i);s.length&&(e.stop(),a.change((function(e){var t=s[o?s.length-1:0];a.change((function(e){var t,n=d(s);try{for(n.s();!(t=n.n()).done;){var i=t.value;a.deleteContent(e.createSelection(i,"in"))}}catch(r){n.e(r)}finally{n.f()}}));var n=a.schema.getNearestSelectionRange(e.createPositionAt(t,0));i.is("documentSelection")?e.setSelection(n):i.setTo(n)})))}},{key:"_getCellsToSelect",value:function(e,t){var n,i=this.editor.plugins.get("TableUtils"),r=i.getCellLocation(e),a=i.getCellLocation(t),o=Math.min(r.row,a.row),s=Math.max(r.row,a.row),c=Math.min(r.column,a.column),l=Math.max(r.column,a.column),u=new Array(s-o+1).fill(null).map((function(){return[]})),h={startRow:o,endRow:s,startColumn:c,endColumn:l},f=d(new uv(iv("table",e),h));try{for(f.s();!(n=f.n()).done;){var m=n.value,p=m.row,v=m.cell;u[p-o].push(v)}}catch(k){f.e(k)}finally{f.f()}var g=a.row<r.row,b=a.column<r.column;return g&&u.reverse(),b&&u.forEach((function(e){return e.reverse()})),{cells:u.flat(),backward:g||b}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[eg]}}]),n}(bu),Ag=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view.document;this.listenTo(n,"copy",(function(t,n){return e._onCopyCut(t,n)})),this.listenTo(n,"cut",(function(t,n){return e._onCopyCut(t,n)})),this.listenTo(t.model,"insertContent",(function(t,n){return e._onInsertContent.apply(e,[t].concat(l(n)))}),{priority:"high"})}},{key:"_onCopyCut",value:function(e,t){var n=this.editor.plugins.get(Ng);if(n.getSelectedTableCells()&&("cut"!=e.name||!this.editor.isReadOnly)){t.preventDefault(),e.stop();var i=this.editor.data,r=this.editor.editing.view.document,a=i.toView(n.getSelectionAsFragment());r.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:a,method:e.name})}}},{key:"_onInsertContent",value:function(e,t,n){if(!n||n.is("documentSelection")){var i=this.editor.model,r=this.editor.plugins.get(eg),a=function(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("table"))return e;if(1==e.childCount&&e.getChild(0).is("table"))return e.getChild(0);var n,i=t.createRangeIn(e),r=d(i.getItems());try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.is("table")){var o=t.createRange(i.start,t.createPositionBefore(a));if(t.hasContent(o,{ignoreWhitespaces:!0}))return null;var s=t.createRange(t.createPositionAfter(a),i.end);return t.hasContent(s,{ignoreWhitespaces:!0})?null:a}}}catch(c){r.e(c)}finally{r.f()}return null}(t,i);if(a){var o=Nv(i.document.selection);o.length?(e.stop(),i.change((function(e){var t={width:r.getColumns(a),height:r.getRows(a)},n=function(e,t,n,i){var r=iv("table",e[0]),a=Tv(e),o=Av(e),s={firstColumn:a.first,lastColumn:a.last,firstRow:o.first,lastRow:o.last},c=1===e.length;return c&&(s.lastRow+=t.height-1,s.lastColumn+=t.width-1,function(e,t,n,i,r){var a=r.getColumns(e),o=r.getRows(e);n>a&&r.insertColumns(e,{batch:i.batch,at:a,columns:n-a}),t>o&&r.insertRows(e,{batch:i.batch,at:o,rows:t-o})}(r,s.lastRow+1,s.lastColumn+1,n,i)),c||!Sv(e,i)?function(e,t,n){var i=t.firstRow,r=t.lastRow,a=t.firstColumn,o=t.lastColumn,s={first:i,last:r},c={first:a,last:o};Sg(e,a,s,n),Sg(e,o+1,s,n),Tg(e,i,c,n),Tg(e,r+1,c,n,i)}(r,s,n):(s.lastRow=Zv(r,s),s.lastColumn=Gv(r,s)),s}(o,t,e,r),i=n.lastRow-n.firstRow+1,s=n.lastColumn-n.firstColumn+1,c={startRow:0,startColumn:0,endRow:Math.min(i,t.height)-1,endColumn:Math.min(s,t.width)-1};a=Rv(a,c,e);var u=iv("table",o[0]);!function(e,t,n,i,r){for(var a,o=t.width,s=t.height,c=function(e,t,n){var i,r=new Array(n).fill(null).map((function(){return new Array(t).fill(null)})),a=d(new uv(e));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.column,c=o.row,l=o.cell;r[c][s]=l}}catch(u){a.e(u)}finally{a.f()}return r}(e,o,s),u=[],h=0,f=l(new uv(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0}));h<f.length;h++){var m=f[h],p=m.row,v=m.column,g=m.cell,b=m.isAnchor;v===i.firstColumn&&(a=m.getPositionBefore()),b&&r.remove(g);var k=p-i.firstRow,y=v-i.firstColumn,w=c[k%s][y%o];if(w){var _=r.cloneElement(w);Hv(_,p,v,i.lastRow,i.lastColumn,r),r.insert(_,a),u.push(_),a=r.createPositionAfter(_)}}r.setSelection(u.map((function(e){return r.createRangeOn(e)})))}(a,t,u,n,e)}))):Wv(a,r)}}}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[Ng,eg]}}]),n}(bu);function Tg(e,t,n,i){if(!(t<1)){var r,a=Dv(e,t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0).filter((function(e){return Mg(e.column,e.cellWidth,n)})),o=d(a);try{for(o.s();!(r=o.n()).done;)zv(r.value.cell,t,i)}catch(s){o.e(s)}finally{o.f()}}}function Sg(e,t,n,i){if(!(t<1)){var r,a=Bv(e,t).filter((function(e){return Mg(e.row,e.cellHeight,n)})),o=d(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;Fv(s.cell,s.column,t,i)}}catch(c){o.e(c)}finally{o.f()}}}function Mg(e,t,n){var i=e+t-1,r=n.first,a=n.last;return e>=r&&e<=a||e<r&&i>=r}var Lg=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",(function(){return e._handleTabOnSelectedTable.apply(e,arguments)}),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(t,"keydown",(function(){return e._onKeydown.apply(e,arguments)}),{priority:An.get("high")-10})}},{key:"_handleTabOnSelectedTable",value:function(e,t){var n=this.editor,i=n.model.document.selection;if(!i.isCollapsed&&1===i.rangeCount&&i.getFirstRange().isFlat){var r=i.getSelectedElement();if(!r||!r.is("table"))return;t(),n.model.change((function(e){e.setSelection(e.createRangeIn(r.getChild(0).getChild(0)))}))}}},{key:"_getTabHandler",value:function(e){var t=this.editor;return function(n,i){var r=Ov(t.model.document.selection)[0];if(r){i();var a=r.parent,o=a.parent,s=o.getChildIndex(a),c=a.getChildIndex(r),l=0===c;if(e||!l||0!==s){var u=c===a.childCount-1,d=s===o.childCount-1;if(!(e&&d&&u&&(t.execute("insertTableRowBelow"),s===o.childCount-1))){var h;if(e&&u){var f=o.getChild(s+1);h=f.getChild(0)}else if(!e&&l){var m=o.getChild(s-1);h=m.getChild(m.childCount-1)}else h=a.getChild(c+(e?1:-1));t.model.change((function(e){e.setSelection(e.createRangeIn(h))}))}}}}}},{key:"_onKeydown",value:function(e,t){var n=this.editor,i=t.keyCode;if(Ir(i)){var r=Vr(i,n.locale.contentLanguageDirection);this._handleArrowKeys(r,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}}},{key:"_handleArrowKeys",value:function(e,t){var n,i=this.editor.model,r=i.document.selection,a=["right","down"].includes(e),o=Cv(r);if(o.length)return n=t?this.editor.plugins.get("TableSelection").getFocusCell():a?o[o.length-1]:o[0],this._navigateFromCellInDirection(n,e,t),!0;var s=iv("tableCell",r.focus);if(!s)return!1;var c=i.createRangeIn(s);if(this._isSelectionAtCellEdge(r,a))return this._navigateFromCellInDirection(s,e,t),!0;var l=this._findTextRangeFromSelection(c,r,a);return l?!["left","right"].includes(e)&&(this._isSingleLineRange(l,a)?(i.change((function(e){var n=a?c.end:c.start;if(t){var o=i.createSelection(r.anchor);o.setFocus(n),e.setSelection(o)}else e.setSelection(n)})),!0):void 0):(this._navigateFromCellInDirection(s,e,t),!0)}},{key:"_isSelectionAtCellEdge",value:function(e,t){var n=this.editor.model,i=this.editor.model.schema,r=t?e.getLastPosition():e.getFirstPosition();if(!i.getLimitElement(r).is("tableCell"))return!1;var a=n.createSelection(r);return n.modifySelection(a,{direction:t?"forward":"backward"}),r.isEqual(a.focus)}},{key:"_findTextRangeFromSelection",value:function(e,t,n){var i=this.editor.model;if(n){var r=t.getLastPosition(),a=this._getNearestVisibleTextPosition(e,"backward");return a&&r.isBefore(a)?i.createRange(r,a):null}var o=t.getFirstPosition(),s=this._getNearestVisibleTextPosition(e,"forward");return s&&o.isAfter(s)?i.createRange(s,o):null}},{key:"_getNearestVisibleTextPosition",value:function(e,t){var n,i=this.editor.model.schema,r=this.editor.editing.mapper,a=d(e.getWalker({direction:t}));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.nextPosition,c=o.item;if(i.checkChild(s,"$text")){var l=r.toViewElement(c);if(l&&!l.hasClass("ck-hidden"))return s}}}catch(u){a.e(u)}finally{a.f()}}},{key:"_isSingleLineRange",value:function(e,t){var n=this.editor.model,i=this.editor.editing,r=i.view.domConverter;if(t){var a=n.createSelection(e.start);n.modifySelection(a),a.focus.isAtEnd||e.start.isEqual(a.focus)||(e=n.createRange(a.focus,e.end))}var o,s,c=i.mapper.toViewRange(e),l=r.viewRangeToDom(c),u=bo.getDomRangeRects(l),h=d(u);try{for(h.s();!(s=h.n()).done;){var f=s.value;if(void 0!==o){if(Math.round(f.top)>=o)return!1;o=Math.max(o,Math.round(f.bottom))}else o=Math.round(f.bottom)}}catch(m){h.e(m)}finally{h.f()}return!0}},{key:"_navigateFromCellInDirection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.editor.model,r=iv("table",e),a=l(new uv(r,{includeAllSlots:!0})),o=a[a.length-1],s=o.row,c=o.column,u=a.find((function(t){return t.cell==e})),d=u.row,h=u.column;switch(t){case"left":h--;break;case"up":d--;break;case"right":h+=u.cellWidth;break;case"down":d+=u.cellHeight}if(d<0||d>s||h<0&&d<=0||h>c&&d>=s)i.change((function(e){e.setSelection(e.createRangeOn(r))}));else{h<0?(h=n?0:c,d--):h>c&&(h=n?c:0,d++);var f=a.find((function(e){return e.row==d&&e.column==h})).cell,m=["right","down"].includes(t),p=this.editor.plugins.get("TableSelection");if(n&&p.isEnabled){var v=p.getAnchorCell()||e;p.setCellSelection(v,f)}else{var g=i.createPositionAt(f,m?0:"end");i.change((function(e){e.setSelection(g)}))}}}}],[{key:"pluginName",get:function(){return"TableKeyboard"}},{key:"requires",get:function(){return[Ng]}}]),n}(bu),Eg=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType=["mousemove","mouseup","mouseleave"],i}return m(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}($a),Pg=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){this.editor.editing.view.addObserver(Eg),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"_enableShiftClickSelection",value:function(){var e=this,t=this.editor,n=!1,i=t.plugins.get(Ng);this.listenTo(t.editing.view.document,"mousedown",(function(r,a){if(e.isEnabled&&i.isEnabled&&a.domEvent.shiftKey){var o=i.getAnchorCell()||Ov(t.model.document.selection)[0];if(o){var s=e._getModelTableCellFromDomEvent(a);s&&Ig(o,s)&&(n=!0,i.setCellSelection(o,s),a.preventDefault())}}})),this.listenTo(t.editing.view.document,"mouseup",(function(){n=!1})),this.listenTo(t.editing.view.document,"selectionChange",(function(e){n&&e.stop()}),{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var e,t,n=this,i=this.editor,r=!1,a=!1,o=i.plugins.get(Ng);this.listenTo(i.editing.view.document,"mousedown",(function(t,i){n.isEnabled&&o.isEnabled&&(i.domEvent.shiftKey||i.domEvent.ctrlKey||i.domEvent.altKey||(e=n._getModelTableCellFromDomEvent(i)))})),this.listenTo(i.editing.view.document,"mousemove",(function(i,s){if(s.domEvent.buttons&&e){var c=n._getModelTableCellFromDomEvent(s);c&&Ig(e,c)&&(t=c,r||t==e||(r=!0)),r&&(a=!0,o.setCellSelection(e,t),s.preventDefault())}})),this.listenTo(i.editing.view.document,"mouseup",(function(){r=!1,a=!1,e=null,t=null})),this.listenTo(i.editing.view.document,"selectionChange",(function(e){a&&e.stop()}),{priority:"highest"})}},{key:"_getModelTableCellFromDomEvent",value:function(e){var t=e.target,n=this.editor.editing.view.createPositionAt(t,0),i=this.editor.editing.mapper.toModelPosition(n).parent;return i.is("tableCell")?i:iv("tableCell",i)}}],[{key:"pluginName",get:function(){return"TableMouse"}},{key:"requires",get:function(){return[Ng]}}]),n}(bu);function Ig(e,t){return e.parent.parent==t.parent.parent}function Vg(e){var t=e.getSelectedElement();return t&&Dg(t)?t:null}function Rg(e){var t=iv("table",e.getFirstPosition());return t&&Dg(t.parent)?t.parent:null}function Dg(e){return!!e.getCustomProperty("table")&&eh(e)}n(94);var zg=function(){function e(t,n){var i=this;f(this,e),this.model=t,this.testCallback=n,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(function(){i.isEnabled?i._startListening():(i.stopListening(t.document.selection),i.stopListening(t.document))})),this._startListening()}return m(e,[{key:"_startListening",value:function(){var e=this,t=this.model.document;this.listenTo(t.selection,"change:range",(function(n,i){i.directChange&&(t.selection.isCollapsed?e._evaluateTextBeforeSelection("selection"):e.hasMatch&&(e.fire("unmatched"),e.hasMatch=!1))})),this.listenTo(t,"change:data",(function(t,n){"transparent"!=n.type&&e._evaluateTextBeforeSelection("data",{batch:n})}))}},{key:"_evaluateTextBeforeSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model,i=n.document.selection,r=function(e,t){var n=e.start;return{text:Array.from(e.getItems()).reduce((function(e,i){return i.is("text")||i.is("textProxy")?e+i.data:(n=t.createPositionAfter(i),"")}),""),range:t.createRange(n,e.end)}}(n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),n),a=r.text,o=r.range,s=this.testCallback(a);if(!s&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!s,s){var c=Object.assign(t,{text:a,range:o});"object"==typeof s&&Object.assign(c,s),this.fire("matched:"+e,c)}}}]),e}();Bn(zg,ar);var Bg=/[\\^$.*+?()[\]{}|]/g,Fg=RegExp(Bg.source),Hg=function(e){return(e=pi(e))&&Fg.test(e)?e.replace(Bg,"\\$&"):e},Ug={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xbd"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xbc"},threeQuarters:{from:"3/4",to:"\xbe"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Qg('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:Qg("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Qg("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Qg('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:Qg('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:Qg("'"),to:[null,"\u201a",null,"\u2019"]}},qg={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Wg=["symbols","mathematical","typography","quotes"];function Zg(e){return"string"==typeof e?new RegExp("(".concat(Hg(e),")$")):e}function Gg(e){return"string"==typeof e?function(){return[e]}:e instanceof Array?function(){return e}:e}function Yg(e){return(e.textNode?e.textNode:e.nodeAfter).getAttributes()}function Qg(e){return new RegExp("(^|\\s)(".concat(e,")([^").concat(e,"]*)(").concat(e,")$"))}var Kg=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"underline"}),e.model.schema.setAttributeProperties("underline",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"underline",view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add("underline",new Pd(e,"underline")),e.keystrokes.set("CTRL+U","underline")}}],[{key:"pluginName",get:function(){return"UnderlineEditing"}}]),n}(bu),$g=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("underline",(function(i){var r=t.commands.get("underline"),a=new eu(i);return a.set({label:n("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(r,"value","isEnabled"),e.listenTo(a,"execute",(function(){t.execute("underline"),t.editing.view.focus()})),a}))}}]),n}(bu),Jg=["left","right","center","justify"];function Xg(e){return Jg.includes(e)}function eb(e,t){return"rtl"==t.contentLanguageDirection?"right"===e:"left"===e}var tb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=this.editor.locale,t=zd(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value="rtl"===e.contentLanguageDirection?"right":"left"}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,i=n.locale,r=n.model,a=r.document,o=t.value;r.change((function(t){var n=Array.from(a.selection.getSelectedBlocks()).filter((function(t){return e._canBeAligned(t)})),r=n[0].getAttribute("alignment");eb(o,i)||r===o||!o?function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.removeAttribute("alignment",r)}}catch(a){i.e(a)}finally{i.f()}}(n,t):function(e,t,n){var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var a=i.value;t.setAttribute("alignment",n,a)}}catch(o){r.e(o)}finally{r.f()}}(n,t,o)}))}},{key:"_canBeAligned",value:function(e){return this.editor.model.schema.checkAttribute(e,"alignment")}}]),n}(ju),nb=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("alignment",{options:[].concat(Jg)}),i}return m(n,null,[{key:"pluginName",get:function(){return"AlignmentEditing"}}]),m(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.model.schema,i=e.config.get("alignment.options").filter(Xg);n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0});var r=function(e){var t,n={model:{key:"alignment",values:e.slice()},view:{}},i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.view[r]={key:"style",value:{"text-align":r}}}}catch(a){i.e(a)}finally{i.f()}return n}(i.filter((function(e){return!eb(e,t)})));e.conversion.attributeToAttribute(r),e.commands.add("alignment",new tb(e))}}]),n}(bu),ib='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',rb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',ab=new Map([["left",ib],["right",rb],["center",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'],["justify",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>']]),ob=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.ui.componentFactory,i=t.t,r=t.config.get("alignment.options");r.filter(Xg).forEach((function(t){return e._addButton(t)})),n.add("alignment",(function(e){var t=cu(e),a=r.map((function(e){return n.create("alignment:"+e)}));lu(t,a),t.buttonView.set({label:i("Text alignment"),tooltip:!0}),t.toolbarView.isVertical=!0,t.toolbarView.ariaLabel=i("Text alignment toolbar"),t.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});var o="rtl"===e.contentLanguageDirection?rb:ib;return t.buttonView.bind("icon").toMany(a,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.findIndex((function(e){return e}));return i<0?o:a[i].icon})),t.bind("isEnabled").toMany(a,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),t}))}},{key:"_addButton",value:function(e){var t=this,n=this.editor;n.ui.componentFactory.add("alignment:"+e,(function(i){var r=n.commands.get("alignment"),a=new eu(i);return a.set({label:t.localizedOptionTitles[e],icon:ab.get(e),tooltip:!0,isToggleable:!0}),a.bind("isEnabled").to(r),a.bind("isOn").to(r,"value",(function(t){return t===e})),t.listenTo(a,"execute",(function(){n.execute("alignment",{value:e}),n.editing.view.focus()})),a}))}},{key:"localizedOptionTitles",get:function(){var e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}}],[{key:"pluginName",get:function(){return"AlignmentUI"}}]),n}(bu),sb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){this.isEnabled=function(e){var t=e.schema,n=e.document.selection;return function(e,t,n){var i=function(e,t){var n=ah(e,t).parent;return n.isEmpty&&!n.is("$root")?n.parent:n}(e,n);return t.checkChild(i,"horizontalLine")}(n,t,e)&&!function(e,t){var n=e.getSelectedElement();return n&&t.isObject(n)}(n,t)}(this.editor.model)}},{key:"execute",value:function(){var e=this.editor.model;e.change((function(t){var n=t.createElement("horizontalLine");e.insertContent(n);var i=n.nextSibling;!(i&&e.schema.checkChild(i,"$text"))&&e.schema.checkChild(n.parent,"paragraph")&&(i=t.createElement("paragraph"),e.insertContent(i,t.createPositionAfter(n))),i&&t.setSelection(i,0)}))}}]),n}(ju);n(96);var cb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.t,i=e.conversion;t.register("horizontalLine",{isObject:!0,allowWhere:"$block"}),i.for("dataDowncast").elementToElement({model:"horizontalLine",view:function(e,t){return t.createEmptyElement("hr")}}),i.for("editingDowncast").elementToElement({model:"horizontalLine",view:function(e,t){var i=n("Horizontal line"),r=t.createContainerElement("div"),a=t.createEmptyElement("hr");return t.addClass("ck-horizontal-line",r),t.setCustomProperty("hr",!0,r),t.insert(t.createPositionAt(r,0),a),function(e,t,n){return t.setCustomProperty("horizontalLine",!0,e),th(e,t,{label:n})}(r,t,i)}}),i.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new sb(e))}}],[{key:"pluginName",get:function(){return"HorizontalLineEditing"}}]),n}(bu),lb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("horizontalLine",(function(i){var r=t.commands.get("horizontalLine"),a=new eu(i);return a.set({label:n("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),a.bind("isEnabled").to(r,"isEnabled"),e.listenTo(a,"execute",(function(){t.execute("horizontalLine"),t.editing.view.focus()})),a}))}}]),n}(bu),ub=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=t.selection.getAttribute("highlight"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"highlight")}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document.selection,r=t.value;n.change((function(t){var a=n.schema.getValidRanges(i.getRanges(),"highlight");if(i.isCollapsed){var o=i.getFirstPosition();if(i.hasAttribute("highlight")){var s=function(t){return t.item.hasAttribute("highlight")&&t.item.getAttribute("highlight")===e.value},c=o.getLastMatchingPosition(s,{direction:"backward"}),l=o.getLastMatchingPosition(s),u=t.createRange(c,l);r&&e.value!==r?(t.setAttribute("highlight",r,u),t.setSelectionAttribute("highlight",r)):(t.removeAttribute("highlight",u),t.removeSelectionAttribute("highlight"))}else r&&t.setSelectionAttribute("highlight",r)}else{var h,f=d(a);try{for(f.s();!(h=f.n()).done;){var m=h.value;r?t.setAttribute("highlight",r,m):t.removeAttribute("highlight",m)}}catch(p){f.e(p)}finally{f.f()}}}))}}]),n}(ju),db=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]}),i}return m(n,null,[{key:"pluginName",get:function(){return"HighlightEditing"}}]),m(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"highlight"});var t=e.config.get("highlight.options");e.conversion.attributeToElement(function(e){var t,n={model:{key:"highlight",values:[]},view:{}},i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.model.values.push(r.model),n.view[r.model]={name:"mark",classes:r.class}}}catch(a){i.e(a)}finally{i.f()}return n}(t)),e.commands.add("highlight",new ub(e))}}]),n}(bu),hb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>';n(98);var fb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e,t=this.editor.config.get("highlight.options"),n=d(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this._addHighlighterButton(i)}}catch(r){n.e(r)}finally{n.f()}this._addRemoveHighlightButton(),this._addDropdown(t)}},{key:"_addRemoveHighlightButton",value:function(){var e=this.editor.t;this._addButton("removeHighlight",e("Remove highlight"),hb)}},{key:"_addHighlighterButton",value:function(e){var t=this.editor.commands.get("highlight");this._addButton("highlight:"+e.model,e.title,mb(e.type),e.model,(function(n){n.bind("isEnabled").to(t,"isEnabled"),n.bind("isOn").to(t,"value",(function(t){return t===e.model})),n.iconView.fillColor=e.color,n.isToggleable=!0}))}},{key:"_addButton",value:function(e,t,n,i){var r=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=this.editor;o.ui.componentFactory.add(e,(function(e){var s=new eu(e),c=r.localizedOptionTitles[t]?r.localizedOptionTitles[t]:t;return s.set({label:c,icon:n,tooltip:!0}),s.on("execute",(function(){o.execute("highlight",{value:i}),o.editing.view.focus()})),a(s),s}))}},{key:"_addDropdown",value:function(e){var t=this,n=this.editor,i=n.t,r=n.ui.componentFactory,a=e[0],o=e.reduce((function(e,t){return e[t.model]=t,e}),{});r.add("highlight",(function(s){var c=n.commands.get("highlight"),l=cu(s,_g),u=l.buttonView;u.set({tooltip:i("Highlight"),lastExecuted:a.model,commandValue:a.model,isToggleable:!0}),u.bind("icon").to(c,"value",(function(e){return mb(h(e,"type"))})),u.bind("color").to(c,"value",(function(e){return h(e,"color")})),u.bind("commandValue").to(c,"value",(function(e){return h(e,"model")})),u.bind("isOn").to(c,"value",(function(e){return!!e})),u.delegate("execute").to(l);var d=e.map((function(e){var n=r.create("highlight:"+e.model);return t.listenTo(n,"execute",(function(){return l.buttonView.set({lastExecuted:e.model})})),n}));function h(e,t){var n=e&&e!==u.lastExecuted?e:u.lastExecuted;return o[n][t]}return l.bind("isEnabled").toMany(d,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),d.push(new Gl),d.push(r.create("removeHighlight")),lu(l,d),function(e){e.buttonView.actionView.iconView.bind("fillColor").to(e.buttonView,"color")}(l),l.toolbarView.ariaLabel=i("Text highlight toolbar"),u.on("execute",(function(){n.execute("highlight",{value:u.commandValue}),n.editing.view.focus()})),l}))}},{key:"localizedOptionTitles",get:function(){var e=this.editor.t;return{"Yellow marker":e("Yellow marker"),"Green marker":e("Green marker"),"Pink marker":e("Pink marker"),"Blue marker":e("Blue marker"),"Red pen":e("Red pen"),"Green pen":e("Green pen")}}}],[{key:"pluginName",get:function(){return"HighlightUI"}}]),n}(bu);function mb(e){return"marker"===e?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59L3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="M2.556 16.727l.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415l1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656l-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5L9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268L2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="M4.5 18.088l-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166l-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5L9.59 17h9.406v1.5H8.245z"/></svg>'}n(100);var pb=function(e){p(n,e);var t=v(n);function n(e,i){var r;f(this,n),r=t.call(this,e);var a=e.t;return r.set("class","ck-special-characters-navigation"),r.groupDropdownView=r._createGroupDropdown(i),r.groupDropdownView.panelPosition="rtl"===e.uiLanguageDirection?"se":"sw",r.label=a("Special characters"),r.children.add(r.groupDropdownView),r}return m(n,[{key:"_createGroupDropdown",value:function(e){var t=this.locale,n=t.t,i=cu(t),r=this._getCharacterGroupListItemDefinitions(i,e);return i.set("value",r.first.model.label),i.buttonView.bind("label").to(i,"value"),i.buttonView.set({isOn:!1,withText:!0,tooltip:n("Character categories"),class:["ck-dropdown__button_label-width_auto"]}),i.on("execute",(function(e){i.value=e.source.label})),i.delegate("execute").to(this),uu(i,r),i}},{key:"_getCharacterGroupListItemDefinitions",value:function(e,t){var n,i=new Fn,r=d(t);try{var a=function(){var t=n.value,r={type:"button",model:new sm({label:t,withText:!0})};r.model.bind("isOn").to(e,"value",(function(e){return e===r.model.label})),i.add(r)};for(r.s();!(n=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return i}},{key:"currentGroupName",get:function(){return this.groupDropdownView.value}}]),n}(function(e){p(n,e);var t=v(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,n);var a=(i=t.call(this,e)).bindTemplate;i.set("label",r.label||""),i.set("class",r.class||null),i.children=i.createCollection(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",a.to("class")]},children:i.children});var o=new Tl(e);return o.setTemplate({tag:"span",attributes:{class:["ck","ck-form__header__label"]},children:[{text:a.to("label")}]}),i.children.add(o),i}return n}(Tl));n(102);var vb=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).tiles=i.createCollection(),i.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:i.tiles}],attributes:{class:["ck","ck-character-grid"]}}),i}return m(n,[{key:"createTile",value:function(e,t){var n=this,i=new eu(this.locale);return i.set({label:e,withText:!0,class:"ck-character-grid__tile"}),i.extendTemplate({attributes:{title:t},on:{mouseover:i.bindTemplate.to("mouseover")}}),i.on("mouseover",(function(){n.fire("tileHover",{name:t,character:e})})),i.on("execute",(function(){n.fire("execute",{name:t,character:e})})),i}}]),n}(Tl);n(104);var gb=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.set("character",null),i.set("name",null),i.bind("code").to(o(i),"character",bb),i.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:r.to("name",(function(e){return e||"\u200b"}))}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:r.to("code")}]}],attributes:{class:["ck","ck-character-info"]}}),i}return n}(Tl);function bb(e){return null===e?"":"U+"+("0000"+e.codePointAt(0).toString(16)).slice(-4)}n(106);var kb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:t("Dollar sign")},{character:"\u20ac",title:t("Euro sign")},{character:"\xa5",title:t("Yen sign")},{character:"\xa3",title:t("Pound sign")},{character:"\xa2",title:t("Cent sign")},{character:"\u20a0",title:t("Euro-currency sign")},{character:"\u20a1",title:t("Colon sign")},{character:"\u20a2",title:t("Cruzeiro sign")},{character:"\u20a3",title:t("French franc sign")},{character:"\u20a4",title:t("Lira sign")},{character:"\xa4",title:t("Currency sign")},{character:"\u20bf",title:t("Bitcoin sign")},{character:"\u20a5",title:t("Mill sign")},{character:"\u20a6",title:t("Naira sign")},{character:"\u20a7",title:t("Peseta sign")},{character:"\u20a8",title:t("Rupee sign")},{character:"\u20a9",title:t("Won sign")},{character:"\u20aa",title:t("New sheqel sign")},{character:"\u20ab",title:t("Dong sign")},{character:"\u20ad",title:t("Kip sign")},{character:"\u20ae",title:t("Tugrik sign")},{character:"\u20af",title:t("Drachma sign")},{character:"\u20b0",title:t("German penny sign")},{character:"\u20b1",title:t("Peso sign")},{character:"\u20b2",title:t("Guarani sign")},{character:"\u20b3",title:t("Austral sign")},{character:"\u20b4",title:t("Hryvnia sign")},{character:"\u20b5",title:t("Cedi sign")},{character:"\u20b6",title:t("Livre tournois sign")},{character:"\u20b7",title:t("Spesmilo sign")},{character:"\u20b8",title:t("Tenge sign")},{character:"\u20b9",title:t("Indian rupee sign")},{character:"\u20ba",title:t("Turkish lira sign")},{character:"\u20bb",title:t("Nordic mark sign")},{character:"\u20bc",title:t("Manat sign")},{character:"\u20bd",title:t("Ruble sign")}])}}]),n}(bu),yb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:t("Less-than sign")},{character:">",title:t("Greater-than sign")},{character:"\u2264",title:t("Less-than or equal to")},{character:"\u2265",title:t("Greater-than or equal to")},{character:"\u2013",title:t("En dash")},{character:"\u2014",title:t("Em dash")},{character:"\xaf",title:t("Macron")},{character:"\u203e",title:t("Overline")},{character:"\xb0",title:t("Degree sign")},{character:"\u2212",title:t("Minus sign")},{character:"\xb1",title:t("Plus-minus sign")},{character:"\xf7",title:t("Division sign")},{character:"\u2044",title:t("Fraction slash")},{character:"\xd7",title:t("Multiplication sign")},{character:"\u0192",title:t("Latin small letter f with hook")},{character:"\u222b",title:t("Integral")},{character:"\u2211",title:t("N-ary summation")},{character:"\u221e",title:t("Infinity")},{character:"\u221a",title:t("Square root")},{character:"\u223c",title:t("Tilde operator")},{character:"\u2245",title:t("Approximately equal to")},{character:"\u2248",title:t("Almost equal to")},{character:"\u2260",title:t("Not equal to")},{character:"\u2261",title:t("Identical to")},{character:"\u2208",title:t("Element of")},{character:"\u2209",title:t("Not an element of")},{character:"\u220b",title:t("Contains as member")},{character:"\u220f",title:t("N-ary product")},{character:"\u2227",title:t("Logical and")},{character:"\u2228",title:t("Logical or")},{character:"\xac",title:t("Not sign")},{character:"\u2229",title:t("Intersection")},{character:"\u222a",title:t("Union")},{character:"\u2202",title:t("Partial differential")},{character:"\u2200",title:t("For all")},{character:"\u2203",title:t("There exists")},{character:"\u2205",title:t("Empty set")},{character:"\u2207",title:t("Nabla")},{character:"\u2217",title:t("Asterisk operator")},{character:"\u221d",title:t("Proportional to")},{character:"\u2220",title:t("Angle")},{character:"\xbc",title:t("Vulgar fraction one quarter")},{character:"\xbd",title:t("Vulgar fraction one half")},{character:"\xbe",title:t("Vulgar fraction three quarters")}])}}]),n}(bu),wb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Arrows",[{title:t("leftwards double arrow"),character:"\u21d0"},{title:t("rightwards double arrow"),character:"\u21d2"},{title:t("upwards double arrow"),character:"\u21d1"},{title:t("downwards double arrow"),character:"\u21d3"},{title:t("leftwards dashed arrow"),character:"\u21e0"},{title:t("rightwards dashed arrow"),character:"\u21e2"},{title:t("upwards dashed arrow"),character:"\u21e1"},{title:t("downwards dashed arrow"),character:"\u21e3"},{title:t("leftwards arrow to bar"),character:"\u21e4"},{title:t("rightwards arrow to bar"),character:"\u21e5"},{title:t("upwards arrow to bar"),character:"\u2912"},{title:t("downwards arrow to bar"),character:"\u2913"},{title:t("up down arrow with base"),character:"\u21a8"},{title:t("back with leftwards arrow above"),character:"\ud83d\udd19"},{title:t("end with leftwards arrow above"),character:"\ud83d\udd1a"},{title:t("on with exclamation mark with left right arrow above"),character:"\ud83d\udd1b"},{title:t("soon with rightwards arrow above"),character:"\ud83d\udd1c"},{title:t("top with upwards arrow above"),character:"\ud83d\udd1d"}])}}]),n}(bu),_b=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:t("Latin capital letter a with macron")},{character:"\u0101",title:t("Latin small letter a with macron")},{character:"\u0102",title:t("Latin capital letter a with breve")},{character:"\u0103",title:t("Latin small letter a with breve")},{character:"\u0104",title:t("Latin capital letter a with ogonek")},{character:"\u0105",title:t("Latin small letter a with ogonek")},{character:"\u0106",title:t("Latin capital letter c with acute")},{character:"\u0107",title:t("Latin small letter c with acute")},{character:"\u0108",title:t("Latin capital letter c with circumflex")},{character:"\u0109",title:t("Latin small letter c with circumflex")},{character:"\u010a",title:t("Latin capital letter c with dot above")},{character:"\u010b",title:t("Latin small letter c with dot above")},{character:"\u010c",title:t("Latin capital letter c with caron")},{character:"\u010d",title:t("Latin small letter c with caron")},{character:"\u010e",title:t("Latin capital letter d with caron")},{character:"\u010f",title:t("Latin small letter d with caron")},{character:"\u0110",title:t("Latin capital letter d with stroke")},{character:"\u0111",title:t("Latin small letter d with stroke")},{character:"\u0112",title:t("Latin capital letter e with macron")},{character:"\u0113",title:t("Latin small letter e with macron")},{character:"\u0114",title:t("Latin capital letter e with breve")},{character:"\u0115",title:t("Latin small letter e with breve")},{character:"\u0116",title:t("Latin capital letter e with dot above")},{character:"\u0117",title:t("Latin small letter e with dot above")},{character:"\u0118",title:t("Latin capital letter e with ogonek")},{character:"\u0119",title:t("Latin small letter e with ogonek")},{character:"\u011a",title:t("Latin capital letter e with caron")},{character:"\u011b",title:t("Latin small letter e with caron")},{character:"\u011c",title:t("Latin capital letter g with circumflex")},{character:"\u011d",title:t("Latin small letter g with circumflex")},{character:"\u011e",title:t("Latin capital letter g with breve")},{character:"\u011f",title:t("Latin small letter g with breve")},{character:"\u0120",title:t("Latin capital letter g with dot above")},{character:"\u0121",title:t("Latin small letter g with dot above")},{character:"\u0122",title:t("Latin capital letter g with cedilla")},{character:"\u0123",title:t("Latin small letter g with cedilla")},{character:"\u0124",title:t("Latin capital letter h with circumflex")},{character:"\u0125",title:t("Latin small letter h with circumflex")},{character:"\u0126",title:t("Latin capital letter h with stroke")},{character:"\u0127",title:t("Latin small letter h with stroke")},{character:"\u0128",title:t("Latin capital letter i with tilde")},{character:"\u0129",title:t("Latin small letter i with tilde")},{character:"\u012a",title:t("Latin capital letter i with macron")},{character:"\u012b",title:t("Latin small letter i with macron")},{character:"\u012c",title:t("Latin capital letter i with breve")},{character:"\u012d",title:t("Latin small letter i with breve")},{character:"\u012e",title:t("Latin capital letter i with ogonek")},{character:"\u012f",title:t("Latin small letter i with ogonek")},{character:"\u0130",title:t("Latin capital letter i with dot above")},{character:"\u0131",title:t("Latin small letter dotless i")},{character:"\u0132",title:t("Latin capital ligature ij")},{character:"\u0133",title:t("Latin small ligature ij")},{character:"\u0134",title:t("Latin capital letter j with circumflex")},{character:"\u0135",title:t("Latin small letter j with circumflex")},{character:"\u0136",title:t("Latin capital letter k with cedilla")},{character:"\u0137",title:t("Latin small letter k with cedilla")},{character:"\u0138",title:t("Latin small letter kra")},{character:"\u0139",title:t("Latin capital letter l with acute")},{character:"\u013a",title:t("Latin small letter l with acute")},{character:"\u013b",title:t("Latin capital letter l with cedilla")},{character:"\u013c",title:t("Latin small letter l with cedilla")},{character:"\u013d",title:t("Latin capital letter l with caron")},{character:"\u013e",title:t("Latin small letter l with caron")},{character:"\u013f",title:t("Latin capital letter l with middle dot")},{character:"\u0140",title:t("Latin small letter l with middle dot")},{character:"\u0141",title:t("Latin capital letter l with stroke")},{character:"\u0142",title:t("Latin small letter l with stroke")},{character:"\u0143",title:t("Latin capital letter n with acute")},{character:"\u0144",title:t("Latin small letter n with acute")},{character:"\u0145",title:t("Latin capital letter n with cedilla")},{character:"\u0146",title:t("Latin small letter n with cedilla")},{character:"\u0147",title:t("Latin capital letter n with caron")},{character:"\u0148",title:t("Latin small letter n with caron")},{character:"\u0149",title:t("Latin small letter n preceded by apostrophe")},{character:"\u014a",title:t("Latin capital letter eng")},{character:"\u014b",title:t("Latin small letter eng")},{character:"\u014c",title:t("Latin capital letter o with macron")},{character:"\u014d",title:t("Latin small letter o with macron")},{character:"\u014e",title:t("Latin capital letter o with breve")},{character:"\u014f",title:t("Latin small letter o with breve")},{character:"\u0150",title:t("Latin capital letter o with double acute")},{character:"\u0151",title:t("Latin small letter o with double acute")},{character:"\u0152",title:t("Latin capital ligature oe")},{character:"\u0153",title:t("Latin small ligature oe")},{character:"\u0154",title:t("Latin capital letter r with acute")},{character:"\u0155",title:t("Latin small letter r with acute")},{character:"\u0156",title:t("Latin capital letter r with cedilla")},{character:"\u0157",title:t("Latin small letter r with cedilla")},{character:"\u0158",title:t("Latin capital letter r with caron")},{character:"\u0159",title:t("Latin small letter r with caron")},{character:"\u015a",title:t("Latin capital letter s with acute")},{character:"\u015b",title:t("Latin small letter s with acute")},{character:"\u015c",title:t("Latin capital letter s with circumflex")},{character:"\u015d",title:t("Latin small letter s with circumflex")},{character:"\u015e",title:t("Latin capital letter s with cedilla")},{character:"\u015f",title:t("Latin small letter s with cedilla")},{character:"\u0160",title:t("Latin capital letter s with caron")},{character:"\u0161",title:t("Latin small letter s with caron")},{character:"\u0162",title:t("Latin capital letter t with cedilla")},{character:"\u0163",title:t("Latin small letter t with cedilla")},{character:"\u0164",title:t("Latin capital letter t with caron")},{character:"\u0165",title:t("Latin small letter t with caron")},{character:"\u0166",title:t("Latin capital letter t with stroke")},{character:"\u0167",title:t("Latin small letter t with stroke")},{character:"\u0168",title:t("Latin capital letter u with tilde")},{character:"\u0169",title:t("Latin small letter u with tilde")},{character:"\u016a",title:t("Latin capital letter u with macron")},{character:"\u016b",title:t("Latin small letter u with macron")},{character:"\u016c",title:t("Latin capital letter u with breve")},{character:"\u016d",title:t("Latin small letter u with breve")},{character:"\u016e",title:t("Latin capital letter u with ring above")},{character:"\u016f",title:t("Latin small letter u with ring above")},{character:"\u0170",title:t("Latin capital letter u with double acute")},{character:"\u0171",title:t("Latin small letter u with double acute")},{character:"\u0172",title:t("Latin capital letter u with ogonek")},{character:"\u0173",title:t("Latin small letter u with ogonek")},{character:"\u0174",title:t("Latin capital letter w with circumflex")},{character:"\u0175",title:t("Latin small letter w with circumflex")},{character:"\u0176",title:t("Latin capital letter y with circumflex")},{character:"\u0177",title:t("Latin small letter y with circumflex")},{character:"\u0178",title:t("Latin capital letter y with diaeresis")},{character:"\u0179",title:t("Latin capital letter z with acute")},{character:"\u017a",title:t("Latin small letter z with acute")},{character:"\u017b",title:t("Latin capital letter z with dot above")},{character:"\u017c",title:t("Latin small letter z with dot above")},{character:"\u017d",title:t("Latin capital letter z with caron")},{character:"\u017e",title:t("Latin small letter z with caron")},{character:"\u017f",title:t("Latin small letter long s")}])}}]),n}(bu),xb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:t("Single left-pointing angle quotation mark")},{character:"\u203a",title:t("Single right-pointing angle quotation mark")},{character:"\xab",title:t("Left-pointing double angle quotation mark")},{character:"\xbb",title:t("Right-pointing double angle quotation mark")},{character:"\u2018",title:t("Left single quotation mark")},{character:"\u2019",title:t("Right single quotation mark")},{character:"\u201c",title:t("Left double quotation mark")},{character:"\u201d",title:t("Right double quotation mark")},{character:"\u201a",title:t("Single low-9 quotation mark")},{character:"\u201e",title:t("Double low-9 quotation mark")},{character:"\xa1",title:t("Inverted exclamation mark")},{character:"\xbf",title:t("Inverted question mark")},{character:"\u2025",title:t("Two dot leader")},{character:"\u2026",title:t("Horizontal ellipsis")},{character:"\u2021",title:t("Double dagger")},{character:"\u2030",title:t("Per mille sign")},{character:"\u2031",title:t("Per ten thousand sign")},{character:"\u203c",title:t("Double exclamation mark")},{character:"\u2048",title:t("Question exclamation mark")},{character:"\u2049",title:t("Exclamation question mark")},{character:"\u2047",title:t("Double question mark")},{character:"\xa9",title:t("Copyright sign")},{character:"\xae",title:t("Registered sign")},{character:"\u2122",title:t("Trade mark sign")},{character:"\xa7",title:t("Section sign")},{character:"\xb6",title:t("Paragraph sign")},{character:"\u204b",title:t("Reversed paragraph sign")}])}}]),n}(bu),jb=function(e){p(n,e);var t=v(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).attributeKey=i,r}return m(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document.selection,r=t.value;n.change((function(t){if(i.isCollapsed)r?t.setSelectionAttribute(e.attributeKey,r):t.removeSelectionAttribute(e.attributeKey);else{var a,o=n.schema.getValidRanges(i.getRanges(),e.attributeKey),s=d(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;r?t.setAttribute(e.attributeKey,r,c):t.removeAttribute(e.attributeKey,c)}}catch(l){s.e(l)}finally{s.f()}}}))}}]),n}(ju),Cb=function(e){p(n,e);var t=v(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.set("color"),i.set("hasBorder"),i.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035L8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',i.extendTemplate({attributes:{style:{backgroundColor:r.to("color")},class:["ck","ck-color-grid__tile",r.if("hasBorder","ck-color-table__color-tile_bordered")]}}),i}return m(n,[{key:"render",value:function(){r(a(n.prototype),"render",this).call(this),this.iconView.fillColor="hsl(0, 0%, 100%)"}}]),n}(eu);n(108);var Ob=function(e){p(n,e);var t=v(n);function n(e,i){var r;f(this,n),r=t.call(this,e);var a=i&&i.colorDefinitions||[],o={};return i&&i.columns&&(o.gridTemplateColumns="repeat( ".concat(i.columns,", 1fr)")),r.set("selectedColor"),r.items=r.createCollection(),r.focusTracker=new tl,r.keystrokes=new Wc,r._focusCycler=new Wl({focusables:r.items,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),r.items.on("add",(function(e,t){t.isOn=t.color===r.selectedColor})),a.forEach((function(e){var t=new Cb;t.set({color:e.color,label:e.label,tooltip:!0,hasBorder:e.options.hasBorder}),t.on("execute",(function(){r.fire("execute",{value:e.color,hasBorder:e.options.hasBorder,label:e.label})})),r.items.add(t)})),r.setTemplate({tag:"div",children:r.items,attributes:{class:["ck","ck-color-grid"],style:o}}),r.on("change:selectedColor",(function(e,t,n){var i,a=d(r.items);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.isOn=o.color===n}}catch(s){a.e(s)}finally{a.f()}})),r}return m(n,[{key:"focus",value:function(){this.items.length&&this.items.first.focus()}},{key:"focusLast",value:function(){this.items.length&&this.items.last.focus()}},{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this);var t,i=d(this.items);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.focusTracker.add(o.element)}}catch(s){i.e(s)}finally{i.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}}]),n}(Tl),Nb=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).set("isEmpty",!0),i}return m(n,[{key:"add",value:function(e,t){this.find((function(t){return t.color===e.color}))||(r(a(n.prototype),"add",this).call(this,e,t),this.set("isEmpty",!1))}},{key:"remove",value:function(e){var t=r(a(n.prototype),"remove",this).call(this,e);return 0===this.length&&this.set("isEmpty",!0),t}},{key:"hasColor",value:function(e){return!!this.find((function(t){return t.color===e}))}}]),n}(Fn);Bn(Nb,ar),n(110);var Ab=function(e){p(n,e);var t=v(n);function n(e,i){var r,a=i.colors,o=i.columns,s=i.removeButtonLabel,c=i.documentColorsLabel,l=i.documentColorsCount;return f(this,n),(r=t.call(this,e)).items=r.createCollection(),r.colorDefinitions=a,r.focusTracker=new tl,r.keystrokes=new Wc,r.set("selectedColor"),r.removeButtonLabel=s,r.columns=o,r.documentColors=new Nb,r.documentColorsCount=l,r._focusCycler=new Wl({focusables:r.items,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),r._documentColorsLabel=c,r.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:r.items}),r.items.add(r._removeColorButton()),r}return m(n,[{key:"updateDocumentColors",value:function(e,t){var n=e.document,i=this.documentColorsCount;this.documentColors.clear();var r,a=d(n.getRootNames());try{for(a.s();!(r=a.n()).done;){var o,s=r.value,c=n.getRoot(s),l=e.createRangeIn(c),u=d(l.getItems());try{for(u.s();!(o=u.n()).done;){var h=o.value;if(h.is("textProxy")&&h.hasAttribute(t)&&(this._addColorToDocumentColors(h.getAttribute(t)),this.documentColors.length>=i))return}}catch(f){u.e(f)}finally{u.f()}}}catch(f){a.e(f)}finally{a.f()}}},{key:"updateSelectedColors",value:function(){var e=this.documentColorsGrid,t=this.staticColorsGrid,n=this.selectedColor;t.selectedColor=n,e&&(e.selectedColor=n)}},{key:"render",value:function(){r(a(n.prototype),"render",this).call(this);var e,t=d(this.items);try{for(t.s();!(e=t.n()).done;){var i=e.value;this.focusTracker.add(i.element)}}catch(o){t.e(o)}finally{t.f()}this.keystrokes.listenTo(this.element)}},{key:"appendGrids",value:function(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount)){var e=ul.bind(this.documentColors,this.documentColors),t=new yf(this.locale);t.text=this._documentColorsLabel,t.extendTemplate({attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]}}),this.items.add(t),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"_removeColorButton",value:function(){var e=this,t=new eu;return t.set({withText:!0,icon:hb,tooltip:!0,label:this.removeButtonLabel}),t.class="ck-color-table__remove-color",t.on("execute",(function(){e.fire("execute",{value:null})})),t}},{key:"_createStaticColorsGrid",value:function(){var e=new Ob(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.delegate("execute").to(this),e}},{key:"_createDocumentColorsGrid",value:function(){var e=this,t=ul.bind(this.documentColors,this.documentColors),n=new Ob(this.locale,{columns:this.columns});return n.delegate("execute").to(this),n.extendTemplate({attributes:{class:t.if("isEmpty","ck-hidden")}}),n.items.bindTo(this.documentColors).using((function(t){var n=new Cb;return n.set({color:t.color,hasBorder:t.options&&t.options.hasBorder}),t.label&&n.set({label:t.label,tooltip:!0}),n.on("execute",(function(){e.fire("execute",{value:t.color})})),n})),this.documentColors.on("change:isEmpty",(function(e,t,i){i&&(n.selectedColor=null)})),n}},{key:"_addColorToDocumentColors",value:function(e){var t=this.colorDefinitions.find((function(t){return t.color===e}));t?this.documentColors.add(Object.assign({},t)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}]),n}(Tl);function Tb(e,t){var n,i={model:{key:e,values:[]},view:{},upcastAlso:{}},r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.model.values.push(a.model),i.view[a.model]=a.view,a.upcastAlso&&(i.upcastAlso[a.model]=a.upcastAlso)}}catch(o){r.e(o)}finally{r.f()}return i}function Sb(e){return function(t){return t.getStyle(e).replace(/\s/g,"")}}function Mb(e){return function(t,n){return n.createAttributeElement("span",{style:"".concat(e,":").concat(t)},{priority:7})}}var Lb=function(e){p(n,e);var t=v(n);function n(e){return f(this,n),t.call(this,e,"fontFamily")}return n}(jb);function Eb(e){return e.map(Pb).filter((function(e){return!!e}))}function Pb(e){return"object"==typeof e?e:"default"===e?{title:"Default",model:void 0}:"string"==typeof e?function(e){var t=e.replace(/"|'/g,"").split(","),n=t[0],i=t.map(Ib).join(", ");return{title:n,model:i,view:{name:"span",styles:{"font-family":i},priority:7}}}(e):void 0}function Ib(e){return(e=e.trim()).indexOf(" ")>0&&(e="'".concat(e,"'")),e}var Vb=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("fontFamily",{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1}),i}return m(n,null,[{key:"pluginName",get:function(){return"FontFamilyEditing"}}]),m(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"fontFamily"}),e.model.schema.setAttributeProperties("fontFamily",{isFormatting:!0,copyOnEnter:!0});var t=Tb("fontFamily",Eb(e.config.get("fontFamily.options")).filter((function(e){return e.model})));e.config.get("fontFamily.supportAllValues")?this._prepareAnyValueConverters():e.conversion.attributeToElement(t),e.commands.add("fontFamily",new Lb(e))}},{key:"_prepareAnyValueConverters",value:function(){var e=this.editor;e.conversion.for("downcast").attributeToElement({model:"fontFamily",view:function(e,t){return t.createAttributeElement("span",{style:"font-family:"+e},{priority:7})}}),e.conversion.for("upcast").attributeToAttribute({model:{key:"fontFamily",value:function(e){return e.getStyle("font-family")}},view:{name:"span",styles:{"font-family":/.*/}}})}}]),n}(bu),Rb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,i=this._getLocalizedOptions(),r=t.commands.get("fontFamily");t.ui.componentFactory.add("fontFamily",(function(a){var o=cu(a);return uu(o,function(e,t){var n,i=new Fn,r=d(e);try{var a=function(){var e=n.value,r={type:"button",model:new sm({commandName:"fontFamily",commandParam:e.model,label:e.title,withText:!0})};r.model.bind("isOn").to(t,"value",(function(t){return t===e.model||!(!t||!e.model)&&t.split(",")[0].replace(/'/g,"").toLowerCase()===e.model.toLowerCase()})),e.view&&e.view.styles&&r.model.set("labelStyle","font-family: "+e.view.styles["font-family"]),i.add(r)};for(r.s();!(n=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return i}(i,r)),o.buttonView.set({label:n("Font Family"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),o.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),o.bind("isEnabled").to(r),e.listenTo(o,"execute",(function(e){t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()})),o}))}},{key:"_getLocalizedOptions",value:function(){var e=this.editor,t=e.t;return Eb(e.config.get("fontFamily").options).map((function(e){return"Default"===e.title&&(e.title=t("Default")),e}))}}]),n}(bu),Db=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Vb,Rb]}},{key:"pluginName",get:function(){return"FontFamily"}}]),n}(bu),zb=function(e){p(n,e);var t=v(n);function n(e){return f(this,n),t.call(this,e,"fontSize")}return n}(jb);function Bb(e){return e.map((function(e){return function(e){if("object"==typeof(t=e)&&t.title&&t.model&&t.view)return Hb(e);var t,n=function(e){return Fb[e]||Fb[e.model]}(e);return n?Hb(n):"default"===e?{model:void 0,title:"Default"}:function(e){var t;if("object"==typeof e){if(!e.model)throw new Tn.b("font-size-invalid-definition: Provided font size definition is invalid.",null,e);t=parseFloat(e.model)}else t=parseFloat(e);return isNaN(t)}(e)?void 0:function(e){return"number"!=typeof e&&"string"!=typeof e||(e={title:String(e),model:parseFloat(e)+"px"}),e.view={name:"span",styles:{"font-size":e.model}},Hb(e)}(e)}(e)})).filter((function(e){return!!e}))}var Fb={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function Hb(e){return e.view.priority||(e.view.priority=7),e}var Ub=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("fontSize",{options:["tiny","small","default","big","huge"],supportAllValues:!1}),i}return m(n,null,[{key:"pluginName",get:function(){return"FontSizeEditing"}}]),m(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"fontSize"}),e.model.schema.setAttributeProperties("fontSize",{isFormatting:!0,copyOnEnter:!0});var t=e.config.get("fontSize.supportAllValues"),n=Tb("fontSize",Bb(this.editor.config.get("fontSize.options")).filter((function(e){return e.model})));t?this._prepareAnyValueConverters(n):e.conversion.attributeToElement(n),e.commands.add("fontSize",new zb(e))}},{key:"_prepareAnyValueConverters",value:function(e){var t=this.editor,n=e.model.values.filter((function(e){return!String(e).match(/[\d.]+[\w%]+/)}));if(n.length)throw new Tn.b("font-size-invalid-use-of-named-presets: If config.fontSize.supportAllValues is set to true, you need to use numerical values as font size options.",null,{presets:n});t.conversion.for("downcast").attributeToElement({model:"fontSize",view:function(e,t){if(e)return t.createAttributeElement("span",{style:"font-size:"+e},{priority:7})}}),t.conversion.for("upcast").attributeToAttribute({model:{key:"fontSize",value:function(e){return e.getStyle("font-size")}},view:{name:"span"}})}}]),n}(bu);n(112);var qb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,i=this._getLocalizedOptions(),r=t.commands.get("fontSize");t.ui.componentFactory.add("fontSize",(function(a){var o=cu(a);return uu(o,function(e,t){var n,i=new Fn,r=d(e);try{var a=function(){var e=n.value,r={type:"button",model:new sm({commandName:"fontSize",commandParam:e.model,label:e.title,class:"ck-fontsize-option",withText:!0})};e.view&&e.view.styles&&r.model.set("labelStyle","font-size:"+e.view.styles["font-size"]),e.view&&e.view.classes&&r.model.set("class","".concat(r.model.class," ").concat(e.view.classes)),r.model.bind("isOn").to(t,"value",(function(t){return t===e.model})),i.add(r)};for(r.s();!(n=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return i}(i,r)),o.buttonView.set({label:n("Font Size"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),o.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),o.bind("isEnabled").to(r),e.listenTo(o,"execute",(function(e){t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()})),o}))}},{key:"_getLocalizedOptions",value:function(){var e=this.editor,t=e.t,n={Default:t("Default"),Tiny:t("Tiny"),Small:t("Small"),Big:t("Big"),Huge:t("Huge")};return Bb(e.config.get("fontSize").options).map((function(e){var t=n[e.title];return t&&t!=e.title&&(e=Object.assign({},e,{title:t})),e}))}}]),n}(bu),Wb=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Ub,qb]}},{key:"pluginName",get:function(){return"FontSize"}}]),n}(bu),Zb=function(e){p(n,e);var t=v(n);function n(e){return f(this,n),t.call(this,e,"fontColor")}return n}(jb),Gb=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("fontColor",{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:"fontColor",value:Sb("color")}}),e.conversion.for("downcast").attributeToElement({model:"fontColor",view:Mb("color")}),e.commands.add("fontColor",new Zb(e)),e.model.schema.extend("$text",{allowAttributes:"fontColor"}),e.model.schema.setAttributeProperties("fontColor",{isFormatting:!0,copyOnEnter:!0}),i}return m(n,null,[{key:"pluginName",get:function(){return"FontColorEditing"}}]),n}(bu);function Yb(e){return"string"==typeof e?{model:e,label:e,hasBorder:!1,view:{name:"span",styles:{color:e}}}:{model:e.color,label:e.label||e.color,hasBorder:void 0!==e.hasBorder&&e.hasBorder,view:{name:"span",styles:{color:""+e.color}}}}var Qb=function(e){p(n,e);var t=v(n);function n(e,i){var r,a=i.commandName,o=i.icon,s=i.componentName,c=i.dropdownLabel;return f(this,n),(r=t.call(this,e)).commandName=a,r.componentName=s,r.icon=o,r.dropdownLabel=c,r.columns=e.config.get(r.componentName+".columns"),r.colorTableView,r}return m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.locale,i=n.t,r=t.commands.get(this.commandName),a=function(e,t){var n=e.t,i={Black:n("Black"),"Dim grey":n("Dim grey"),Grey:n("Grey"),"Light grey":n("Light grey"),White:n("White"),Red:n("Red"),Orange:n("Orange"),Yellow:n("Yellow"),"Light green":n("Light green"),Green:n("Green"),Aquamarine:n("Aquamarine"),Turquoise:n("Turquoise"),"Light blue":n("Light blue"),Blue:n("Blue"),Purple:n("Purple")};return t.map((function(e){var t=i[e.label];return t&&t!=e.label&&(e.label=t),e}))}(n,t.config.get(this.componentName).colors.map(Yb).filter((function(e){return!!e}))),o=t.config.get(this.componentName+".documentColors");t.ui.componentFactory.add(this.componentName,(function(n){var s=cu(n);return e.colorTableView=function(e){var t=e.dropdownView,n=e.colors,i=e.columns,r=e.removeButtonLabel,a=e.documentColorsLabel,o=e.documentColorsCount,s=t.locale,c=new Ab(s,{colors:n,columns:i,removeButtonLabel:r,documentColorsLabel:a,documentColorsCount:o});return t.colorTableView=c,t.panelView.children.add(c),c.delegate("execute").to(t,"execute"),c}({dropdownView:s,colors:a.map((function(e){return{label:e.label,color:e.model,options:{hasBorder:e.hasBorder}}})),columns:e.columns,removeButtonLabel:i("Remove color"),documentColorsLabel:0!==o?i("Document colors"):void 0,documentColorsCount:void 0===o?e.columns:o}),e.colorTableView.bind("selectedColor").to(r,"value"),s.buttonView.set({label:e.dropdownLabel,icon:e.icon,tooltip:!0}),s.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),s.bind("isEnabled").to(r),s.on("execute",(function(n,i){t.execute(e.commandName,i),t.editing.view.focus()})),s.on("change:isOpen",(function(n,i,r){s.colorTableView.appendGrids(),r&&(0!==o&&e.colorTableView.updateDocumentColors(t.model,e.componentName),e.colorTableView.updateSelectedColors())})),s}))}}]),n}(bu),Kb=function(e){p(n,e);var t=v(n);function n(e){return f(this,n),t.call(this,e,{commandName:"fontColor",componentName:"fontColor",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:(0,e.locale.t)("Font Color")})}return m(n,null,[{key:"pluginName",get:function(){return"FontColorUI"}}]),n}(Qb),$b=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Gb,Kb]}},{key:"pluginName",get:function(){return"FontColor"}}]),n}(bu),Jb=function(e){p(n,e);var t=v(n);function n(e){return f(this,n),t.call(this,e,"fontBackgroundColor")}return n}(jb),Xb=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("fontBackgroundColor",{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:"fontBackgroundColor",value:Sb("background-color")}}),e.conversion.for("downcast").attributeToElement({model:"fontBackgroundColor",view:Mb("background-color")}),e.commands.add("fontBackgroundColor",new Jb(e)),e.model.schema.extend("$text",{allowAttributes:"fontBackgroundColor"}),e.model.schema.setAttributeProperties("fontBackgroundColor",{isFormatting:!0,copyOnEnter:!0}),i}return m(n,null,[{key:"pluginName",get:function(){return"FontBackgroundColorEditing"}}]),n}(bu),ek=function(e){p(n,e);var t=v(n);function n(e){return f(this,n),t.call(this,e,{commandName:"fontBackgroundColor",componentName:"fontBackgroundColor",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:(0,e.locale.t)("Font Background Color")})}return m(n,null,[{key:"pluginName",get:function(){return"FontBackgroundColorUI"}}]),n}(Qb),tk=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Xb,ek]}},{key:"pluginName",get:function(){return"FontBackgroundColor"}}]),n}(bu);n(114);var nk=function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e.locale)).focusTracker=new tl,i.keystrokes=new Wc,i.emojiButtonViews=new ll(e.locale),e.config.get("emoji").forEach((function(e){i.emojiButtonViews.add(i._createButton(e.text,"emoji:"+e.name))})),i._focusables=new ll,i._focusCycler=new Wl({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i.setTemplate({tag:"form",attributes:{class:["ck-emoji"],tabindex:"-1"},children:[{tag:"div",attributes:{class:["ck-emoji__actions"]},children:i.emojiButtonViews}]}),i}return m(n,[{key:"render",value:function(){var e=this;r(a(n.prototype),"render",this).call(this),jf({view:this}),this.emojiButtonViews.map((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,t){var n=new eu(this.locale);return n.label=e,n.withText=!0,t&&n.delegate("execute").to(this,t),n}}]),n}(Tl),ik=function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return n}(gu);ik.builtinPlugins=[function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[xu,Su,Bu,Pu,td,wd]}},{key:"pluginName",get:function(){return"Essentials"}}]),n}(bu),Ad,function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}},{key:"_addListAutoformats",value:function(){var e=this.editor.commands;e.get("bulletedList")&&Sd(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Sd(this.editor,this,/^1[.|)]\s$/,"numberedList")}},{key:"_addBasicStylesAutoformats",value:function(){var e=this.editor.commands;if(e.get("bold")){var t=Ed(this.editor,"bold");Md(this.editor,this,/(\*\*)([^*]+)(\*\*)$/g,t),Md(this.editor,this,/(__)([^_]+)(__)$/g,t)}if(e.get("italic")){var n=Ed(this.editor,"italic");Md(this.editor,this,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,n),Md(this.editor,this,/(?:^|[^_])(_)([^_]+)(_)$/g,n)}if(e.get("code")){var i=Ed(this.editor,"code");Md(this.editor,this,/(`)([^`]+)(`)$/g,i)}if(e.get("strikethrough")){var r=Ed(this.editor,"strikethrough");Md(this.editor,this,/(~~)([^~]+)(~~)$/g,r)}}},{key:"_addHeadingAutoformats",value:function(){var e=this,t=this.editor.commands.get("heading");t&&t.modelElements.filter((function(e){return e.match(/^heading[1-6]$/)})).forEach((function(n){var i=n[7],r=new RegExp("^(#{".concat(i,"})\\s$"));Sd(e.editor,e,r,(function(){if(!t.isEnabled)return!1;e.editor.execute("heading",{value:n})}))}))}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&Sd(this.editor,this,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){this.editor.commands.get("codeBlock")&&Sd(this.editor,this,/^```$/,"codeBlock")}}],[{key:"pluginName",get:function(){return"Autoformat"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Id,Vd]}},{key:"pluginName",get:function(){return"Bold"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Rd,Dd]}},{key:"pluginName",get:function(){return"Italic"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Kg,$g]}},{key:"pluginName",get:function(){return"Underline"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[nb,ob]}},{key:"pluginName",get:function(){return"Alignment"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[qd,Wd]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return[rf,Zd,Ad]}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[df,If,$f]}},{key:"pluginName",get:function(){return"EasyImage"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[om,cm]}},{key:"pluginName",get:function(){return"Heading"}}]),n}(bu),If,function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=new Vm(e);this._registerSchema(),this._registerConverters(),e.commands.add("imageResize",t),e.editing.downcastDispatcher.on("insert:image",(function(n,i,r){var a=r.mapper.toViewElement(i.item),o=e.plugins.get(Im).attachTo({unit:e.config.get("image.resizeUnit")||"%",modelElement:i.item,viewElement:a,editor:e,getHandleHost:function(e){return e.querySelector("img")},getResizeHost:function(e){return e},isCentered:function(){var e=i.item.getAttribute("imageStyle");return!e||"full"==e||"alignCenter"==e},onCommit:function(t){e.execute("imageResize",{width:t})}});o.on("updateSize",(function(){a.hasClass("image_resized")||e.editing.view.change((function(e){e.addClass("image_resized",a)}))})),o.bind("isEnabled").to(t)}),{priority:"low"})}},{key:"_registerSchema",value:function(){this.editor.model.schema.extend("image",{allowAttributes:"width"})}},{key:"_registerConverters",value:function(){var e=this.editor;e.conversion.for("downcast").add((function(e){return e.on("attribute:width:image",(function(e,t,n){if(n.consumable.consume(t.item,e.name)){var i=n.writer,r=n.mapper.toViewElement(t.item);null!==t.attributeNewValue?(i.setStyle("width",t.attributeNewValue,r),i.addClass("image_resized",r)):(i.removeStyle("width",r),i.removeClass("image_resized",r))}}))})),e.conversion.for("upcast").attributeToAttribute({view:{name:"figure",styles:{width:/.+/}},model:{key:"width",value:function(e){return e.getStyle("width")}}})}}],[{key:"requires",get:function(){return[Im]}},{key:"pluginName",get:function(){return"ImageResize"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[dm]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Om,Nm]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"afterInit",value:function(){var e=this.editor,t=e.t;e.plugins.get(Am).register("image",{ariaLabel:t("Image toolbar"),items:e.config.get("image.toolbar")||[],getRelatedElement:lh})}}],[{key:"requires",get:function(){return[Am]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),n}(bu),$f,function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Rm,Zm]}},{key:"pluginName",get:function(){return"LinkImage"}}]),n}(bu),Xm,function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Xh,qm]}},{key:"pluginName",get:function(){return"Link"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Sp,Lp]}},{key:"pluginName",get:function(){return"List"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Fp,Wp,Up,vf]}},{key:"pluginName",get:function(){return"MediaEmbed"}}]),n}(bu),tm,function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view.document,n=[];n.push(new nv(t)),n.push(new Kp(t)),e.plugins.get("Clipboard").on("inputTransformation",(function(e,t){if(!t.isTransformedWithPasteFromOffice){var i=t.dataTransfer.getData("text/html"),r=n.find((function(e){return e.isActive(i)}));r&&(r.execute(t),t.isTransformedWithPasteFromOffice=!0)}}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[xu]}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[wg,Cg,Ng,Pg,Lg,Ag,vf]}},{key:"pluginName",get:function(){return"Table"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"afterInit",value:function(){var e=this.editor,t=e.t,n=e.plugins.get(Am),i=e.config.get("table.contentToolbar"),r=e.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:Rg}),r&&n.register("table",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:Vg})}}],[{key:"requires",get:function(){return[Am]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("typing",{transformations:{include:Wg}}),i}return m(n,null,[{key:"pluginName",get:function(){return"TextTransformation"}}]),m(n,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",(function(){e.isEnabled=!t.anchor.parent.is("codeBlock")})),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var e=this.editor,t=e.model,n=e.plugins.get("Input"),i=function(e){var t=e.extra||[],n=e.remove||[],i=function(e){return!n.includes(e)};return function(e){var t,n=new Set,i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(qg[r]){var a,o=d(qg[r]);try{for(o.s();!(a=o.n()).done;){var s=a.value;n.add(s)}}catch(c){o.e(c)}finally{o.f()}}else n.add(r)}}catch(c){i.e(c)}finally{i.f()}return Array.from(n)}(e.include.concat(t).filter(i)).filter(i).map((function(e){return Ug[e]||e})).map((function(e){return{from:Zg(e.from),to:Gg(e.to)}}))}(e.config.get("typing.transformations")),r=new zg(e.model,(function(e){var t,n=d(i);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.from.test(e))return{normalizedTransformation:r}}}catch(a){n.e(a)}finally{n.f()}}));r.on("matched:data",(function(e,i){if(n.isInput(i.batch)){var r=i.normalizedTransformation,a=r.from,o=r.to,s=a.exec(i.text),c=o(s.slice(1)),l=i.range,u=s.index;t.enqueueChange((function(e){for(var n=1;n<s.length;n++){var i=s[n],r=c[n-1];if(null!=r){var a=l.start.getShiftedBy(u),o=t.createRange(a,a.getShiftedBy(i.length)),d=Yg(a);t.insertContent(e.createText(r,d),o),u+=r.length}else u+=i.length}}))}})),r.bind("isEnabled").to(this)}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[cb,lb]}},{key:"pluginName",get:function(){return"HorizontalLine"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[db,fb]}},{key:"pluginName",get:function(){return"Highlight"}}]),n}(bu),Xm,function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("indentBlock",{offset:40,unit:"px"}),i}return m(n,[{key:"init",value:function(){var e=this.editor,t=e.config.get("indentBlock"),n=!t.classes||!t.classes.length,i=Object.assign({direction:"forward"},t),r=Object.assign({direction:"backward"},t);n?(e.data.addStyleProcessorRules(ap),this._setupConversionUsingOffset(e.conversion),e.commands.add("indentBlock",new ep(e,new tp(i))),e.commands.add("outdentBlock",new ep(e,new tp(r)))):(this._setupConversionUsingClasses(t.classes),e.commands.add("indentBlock",new ep(e,new np(i))),e.commands.add("outdentBlock",new ep(e,new np(r))))}},{key:"afterInit",value:function(){var e=this.editor,t=e.model.schema,n=e.commands.get("indent"),i=e.commands.get("outdent");["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"].forEach((function(e){t.isRegistered(e)&&t.extend(e,{allowAttributes:"blockIndent"})})),n.registerChildCommand(e.commands.get("indentBlock")),i.registerChildCommand(e.commands.get("outdentBlock"))}},{key:"_setupConversionUsingOffset",value:function(){var e=this.editor.conversion,t="rtl"===this.editor.locale.contentLanguageDirection?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:i({},t,/[\s\S]+/)},model:{key:"blockIndent",value:function(e){return e.getStyle(t)}}}),e.for("downcast").attributeToAttribute({model:"blockIndent",view:function(e){return{key:"style",value:i({},t,e)}}})}},{key:"_setupConversionUsingClasses",value:function(e){var t,n={model:{key:"blockIndent",values:[]},view:{}},i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.model.values.push(r),n.view[r]={key:"class",value:[r]}}}catch(a){i.e(a)}finally{i.f()}this.editor.conversion.attributeToAttribute(n)}}],[{key:"pluginName",get:function(){return"IndentBlock"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._characters=new Map,i._groups=new Map,i}return m(n,null,[{key:"requires",get:function(){return[td]}},{key:"pluginName",get:function(){return"SpecialCharacters"}}]),m(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,i=t.commands.get("input");t.ui.componentFactory.add("specialCharacters",(function(r){var a,o=cu(r);return o.buttonView.set({label:n("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',tooltip:!0}),o.bind("isEnabled").to(i),o.on("execute",(function(e,n){t.execute("input",{text:n.character}),t.editing.view.focus()})),o.on("change:isOpen",(function(){a||(a=e._createDropdownPanelContent(r,o),o.panelView.children.add(a.navigationView),o.panelView.children.add(a.gridView),o.panelView.children.add(a.infoView)),a.infoView.set({character:null,name:null})})),o}))}},{key:"addItems",value:function(e,t){if("All"===e)throw new Tn.b('special-character-invalid-group-name: The name "All" is reserved and cannot be used.');var n,i=this._getGroup(e),r=d(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;i.add(a.title),this._characters.set(a.title,a.character)}}catch(o){r.e(o)}finally{r.f()}}},{key:"getGroups",value:function(){return this._groups.keys()}},{key:"getCharactersForGroup",value:function(e){return"All"===e?new Set(this._characters.keys()):this._groups.get(e)}},{key:"getCharacter",value:function(e){return this._characters.get(e)}},{key:"_getGroup",value:function(e){return this._groups.has(e)||this._groups.set(e,new Set),this._groups.get(e)}},{key:"_updateGrid",value:function(e,t){t.tiles.clear();var n,i=this.getCharactersForGroup(e),r=d(i);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=this.getCharacter(a);t.tiles.add(t.createTile(o,a))}}catch(s){r.e(s)}finally{r.f()}}},{key:"_createDropdownPanelContent",value:function(e,t){var n=this,i=l(this.getGroups());i.unshift("All");var r=new pb(e,i),a=new vb(e),o=new gb(e);return a.delegate("execute").to(t),a.on("tileHover",(function(e,t){o.set(t)})),r.on("execute",(function(){n._updateGrid(r.currentGroupName,a)})),this._updateGrid(r.currentGroupName,a),{navigationView:r,gridView:a,infoView:o}}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[kb,xb,yb,wb,_b]}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,null,[{key:"requires",get:function(){return[Db,Wb,$b,tk]}},{key:"pluginName",get:function(){return"Font"}}]),n}(bu),function(e){p(n,e);var t=v(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"init",value:function(){var e=this,t=this.editor;t.editing.view.addObserver(Dm),t.config.define("emoji",[{name:"smile",text:"\ud83d\ude00"},{name:"wink",text:"\ud83d\ude09"},{name:"cool",text:"\ud83d\ude0e"},{name:"surprise",text:"\ud83d\ude2e"},{name:"confusion",text:"\ud83d\ude15"},{name:"crying",text:"\ud83d\ude22"}]),this._balloon=t.plugins.get(Tf),this.formView=this._createForm(),t.ui.componentFactory.add("emoji",(function(n){var i=new eu(n);return i.isEnabled=!0,i.label=t.t("Emoji"),i.icon='<svg width="128" height="128" style="enable-background:new 0 0 128 128;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t<symbol id="Grid" viewBox="-64.5 -64.5 129 129">\n\t\t<g id="XMLID_102_">\n\t\t\t<rect id="XMLID_110_" height="128" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" width="128" x="-64" y="-64"/>\n\t\t\t<path id="XMLID_109_" d="M36.95,37.82C27.32,46.32,14.2,51,0,51 c-14.27,0-27.39-4.62-36.96-13.01C-47.45,28.79-53,15.65-53,0c0-15.58,5.55-28.69,16.04-37.92C-27.36-46.35-14.24-51,0-51 c14.17,0,27.29,4.71,36.95,13.25C47.45-28.45,53-15.4,53,0C53,15.47,47.45,28.55,36.95,37.82z" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;"/>\n\t\t\t<path id="XMLID_108_" d="M0,55L0,55L0,55c-29.59,0-57-19.01-57-55 c0-35.8,27.41-55,57-55h0h0c29.59,0,57,19.69,57,55C57,35.51,29.59,55,0,55z" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;"/>\n\t\t\t<path id="XMLID_107_" d="M0-43c-12.29,0-23.54,3.94-31.68,11.09 C-40.39-24.25-45-13.21-45,0c0,29.7,22.6,43,45,43c21.67,0,45-13.46,45-43S21.67-43,0-43L0-43z" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;"/>\n\t\t\t<line id="XMLID_106_" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" x1="-0.01" x2="-0.01" y1="51" y2="-51"/>\n\t\t\t<line id="XMLID_105_" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" x1="-16" x2="-16" y1="48.95" y2="-48.93"/>\n\t\t\t<line id="XMLID_104_" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" x1="15.99" x2="15.99" y1="48.91" y2="-48.93"/>\n\t\t\t<line id="XMLID_103_" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" x1="53" x2="-53" y1="0.08" y2="0.08"/>\n\t\t</g>\n\t</symbol>\n\t<g id="Layer_1">\n\t\t<g>\n\t\t\t<g>\n\t\t\t\t<linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="64" x2="64" y1="19.7166" y2="107.7021">\n\t\t\t\t\t<stop offset="0.5" style="stop-color:#FEE133"/>\n\t\t\t\t\t<stop offset="0.6118" style="stop-color:#FEDE32"/>\n\t\t\t\t\t<stop offset="0.7076" style="stop-color:#FCD32F"/>\n\t\t\t\t\t<stop offset="0.7975" style="stop-color:#FAC12B"/>\n\t\t\t\t\t<stop offset="0.8834" style="stop-color:#F7A924"/>\n\t\t\t\t\t<stop offset="0.9" style="stop-color:#F6A323"/>\n\t\t\t\t</linearGradient>\n\t\t\t\t<path d="M64,119.89C36.07,119.89,6,102.4,6,64S36.07,8.11,64,8.11c15.48,0,29.81,5.12,40.36,14.43 C115.9,32.72,122,47.06,122,64c0,16.86-6.1,31.17-17.64,41.39C93.78,114.74,79.45,119.89,64,119.89z" style="fill:url(#SVGID_1_);"/>\n\t\t\t\t<path d="M64,10.11L64,10.11c14.99,0,28.86,4.95,39.03,13.93C114.13,33.83,120,47.65,120,64 c0,16.27-5.87,30.07-16.97,39.89c-10.21,9.03-24.07,14-39.03,14c-15.04,0-28.9-4.91-39.04-13.82C13.86,94.32,8,80.46,8,64 c0-16.54,5.86-30.42,16.96-40.15C35.07,14.99,48.93,10.11,64,10.11 M64,6.11L64,6.11L64,6.11L64,6.11C32.85,6.11,4,26.11,4,64 c0,37.68,28.85,57.89,60,57.89h0h0h0c31.15,0,60-20.73,60-57.89C124,26.63,95.15,6.11,64,6.11L64,6.11z" style="fill:#EB8F00;"/>\n\t\t\t</g>\n\t\t\t<g>\n\t\t\t\t<defs>\n\t\t\t\t\t<path id="SVGID_3_" d="M63.47,62.53c-15.71,0-30.31-1.32-42.49-3.57c-3.02-0.56-5.69,2.1-5.08,5.11 c4.04,19.81,23.55,36.08,47.55,36.08c26.27,0,43.94-16.8,47.61-36.15c0.57-2.99-2.1-5.6-5.09-5.04 C93.79,61.21,79.19,62.53,63.47,62.53z"/>\n\t\t\t\t</defs>\n\t\t\t\t<clipPath id="SVGID_4_">\n\t\t\t\t\t<use style="overflow:visible;" xlink:href="#SVGID_3_"/>\n\t\t\t\t</clipPath>\n\t\t\t\t<path d="M63.47,62.53c-15.71,0-30.31-1.32-42.49-3.57 c-3.02-0.56-5.69,2.1-5.08,5.11c4.04,19.81,23.55,36.08,47.55,36.08c26.27,0,43.94-16.8,47.61-36.15c0.57-2.99-2.1-5.6-5.09-5.04 C93.79,61.21,79.19,62.53,63.47,62.53z" style="clip-path:url(#SVGID_4_);fill:#242424;"/>\n\t\t\t\t<path d="M116.72,61.38V46.49H10.24v14.89C26.61,71,44.6,76.35,63.48,76.35 S100.34,71,116.72,61.38z" style="clip-path:url(#SVGID_4_);fill:#FFFFFF;"/>\n\t\t\t\t<path d="M63.48,86.42c-11.78,0-22.05,6.42-27.53,15.95 c7.12,3.89,16.83,6.29,27.53,6.29s20.41-2.4,27.53-6.29C85.53,92.84,75.26,86.42,63.48,86.42z" style="clip-path:url(#SVGID_4_);fill:#ED7770;"/>\n\t\t\t\t<g style="clip-path:url(#SVGID_4_);">\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<path id="SVGID_5_" d="M10.24,46.49v14.89C26.62,71,44.6,76.35,63.48,76.35c18.88,0,36.86-5.35,53.24-14.97V46.49H10.24z M63.48,86.42c-11.78,0-22.05,6.42-27.53,15.95c7.12,3.89,16.83,6.29,27.53,6.29c10.71,0,20.41-2.4,27.53-6.29 C85.53,92.84,75.26,86.42,63.48,86.42z"/>\n\t\t\t\t\t</defs>\n\t\t\t\t\t<clipPath id="SVGID_6_">\n\t\t\t\t\t\t<use style="overflow:visible;" xlink:href="#SVGID_5_"/>\n\t\t\t\t\t</clipPath>\n\t\t\t\t\t<g style="clip-path:url(#SVGID_6_);">\n\t\t\t\t\t\t<path d="M106.79,62.88c0.16,0,0.26,0.11,0.29,0.14c0.08,0.1,0.07,0.18,0.06,0.23 c-1.69,8.9-6.63,17.06-13.92,22.97c-8.01,6.49-18.3,9.92-29.76,9.92c-10.51,0-20.73-3.47-28.8-9.76 c-7.76-6.06-13.03-14.27-14.83-23.11c-0.01-0.05-0.03-0.13,0.06-0.23c0.03-0.03,0.13-0.15,0.29-0.15c0.03,0,0.05,0,0.08,0.01 c12.85,2.38,27.8,3.64,43.22,3.64c15.43,0,30.38-1.26,43.24-3.64C106.74,62.88,106.76,62.88,106.79,62.88 M106.79,58.88 c-0.27,0-0.54,0.02-0.81,0.08c-12.18,2.26-26.79,3.58-42.51,3.58c-15.71,0-30.31-1.32-42.49-3.57 c-0.27-0.05-0.54-0.08-0.81-0.08c-2.67,0-4.83,2.44-4.27,5.18c4.04,19.81,23.55,36.08,47.55,36.08 c26.27,0,43.94-16.8,47.61-36.15C111.58,61.28,109.43,58.88,106.79,58.88L106.79,58.88z" style="fill:#EB8F00;"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t\t<path d="M82.74,30.19L82.74,30.19c4.19,0,8,3.54,8,9.42s-3.81,9.42-8,9.42l0,0c-4.19,0-8-3.54-8-9.42 S78.55,30.19,82.74,30.19z" style="fill:#242424;"/>\n\t\t\t<path d="M45.2,30.19L45.2,30.19c-4.19,0-8,3.54-8,9.42s3.81,9.42,8,9.42l0,0c4.19,0,8-3.54,8-9.42 S49.39,30.19,45.2,30.19z" style="fill:#242424;"/>\n\t\t</g>\n\t</g>\n\t<g id="Layer_2" style="display:none;">\n\t\t<g style="display:inline;">\n\t\t\t<g style="opacity:0.6;">\n\t\t\t\t<circle cx="64" cy="64" r="28" style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.2625;stroke-miterlimit:10;"/>\n\t\t\t\t<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="84" x2="84" y1="0" y2="128"/>\n\t\t\t\t<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="44" x2="44" y1="0" y2="128"/>\n\t\t\t\t<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="64" x2="64" y1="0" y2="128"/>\n\t\t\t\t<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="64" y2="64"/>\n\t\t\t\t<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="44" y2="44"/>\n\t\t\t\t<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="83.75" y2="83.75"/>\n\t\t\t\t<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="128" y2="0"/>\n\t\t\t\t<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="0" x2="128" y1="128" y2="0"/>\n\t\t\t\t<g style="opacity:0.61;">\n\t\t\t\t\t<path d="M64,4.26c32.94,0,59.74,26.8,59.74,59.74S96.94,123.74,64,123.74S4.26,96.94,4.26,64S31.06,4.26,64,4.26 M64,4 C30.86,4,4,30.86,4,64s26.86,60,60,60s60-26.86,60-60S97.14,4,64,4L64,4z"/>\n\t\t\t\t</g>\n\t\t\t\t<path d="M107.97,115.97H20.03 c-4.42,0-8.03-3.61-8.03-8.03V20.03c0-4.42,3.61-8.03,8.03-8.03h87.94c4.42,0,8.03,3.61,8.03,8.03v87.91 C116,112.36,112.39,115.97,107.97,115.97z" style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.2578;stroke-miterlimit:10;"/>\n\t\t\t\t<path d="M100,124H28c-4.4,0-8-3.6-8-8 V12c0-4.4,3.6-8,8-8h72c4.4,0,8,3.6,8,8v104C108,120.4,104.4,124,100,124z" style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.2628;stroke-miterlimit:10;"/>\n\t\t\t\t<path d="M113.77,108H14.23 C8.6,108,4,103.4,4,97.77V30.28c0-5.63,4.6-10.23,10.23-10.23h99.54c5.63,0,10.23,4.6,10.23,10.23v67.48 C124,103.4,119.4,108,113.77,108z" style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.2627;stroke-miterlimit:10;"/>\n\t\t\t</g>\n\t\t\t<g>\n\t\t\t\t<g style="opacity:0.2;">\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<rect id="SVGID_2_" height="128" style="opacity:0.2;" width="128" x="0" y="0"/>\n\t\t\t\t\t</defs>\n\t\t\t\t\t<clipPath id="SVGID_7_">\n\t\t\t\t\t\t<use style="overflow:visible;" xlink:href="#SVGID_2_"/>\n\t\t\t\t\t</clipPath>\n\t\t\t\t\t<g style="clip-path:url(#SVGID_7_);">\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-28" x2="-28" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-24" x2="-24" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-20" x2="-20" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-16" x2="-16" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-12" x2="-12" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-8" x2="-8" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-4" x2="-4" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="0" x2="0" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="4" x2="4" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="8" x2="8" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="12" x2="12" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="16" x2="16" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="20" x2="20" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="24" x2="24" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="28" x2="28" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="32" x2="32" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="36" x2="36" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="40" x2="40" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="44" x2="44" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="48" x2="48" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="52" x2="52" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="56" x2="56" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="60" x2="60" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="64" x2="64" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="68" x2="68" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="72" x2="72" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="76" x2="76" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="80" x2="80" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="84" x2="84" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="88" x2="88" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="92" x2="92" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="96" x2="96" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="100" x2="100" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="104" x2="104" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="108" x2="108" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="112" x2="112" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="116" x2="116" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="120" x2="120" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="124" x2="124" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="128" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="132" x2="132" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="136" x2="136" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="137" x2="137" y1="166.05" y2="-25.95"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="144" x2="144" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="148" x2="148" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="152" x2="152" y1="160" y2="-32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="156" x2="156" y1="160" y2="-32"/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-28" y2="-28"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-24" y2="-24"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-20" y2="-20"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-16" y2="-16"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-12" y2="-12"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-8" y2="-8"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-4" y2="-4"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="0" y2="0"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="4" y2="4"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="8" y2="8"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="12" y2="12"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="16" y2="16"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="20" y2="20"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="24" y2="24"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="28" y2="28"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="32" y2="32"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="36" y2="36"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="40" y2="40"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="44" y2="44"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="48" y2="48"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="52" y2="52"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="56" y2="56"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="60" y2="60"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="64" y2="64"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="68" y2="68"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="72" y2="72"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="76" y2="76"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="80" y2="80"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="84" y2="84"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="88" y2="88"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="92" y2="92"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="96" y2="96"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="100" y2="100"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="104" y2="104"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="108" y2="108"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="112" y2="112"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="116" y2="116"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="120" y2="120"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="124" y2="124"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="128" y2="128"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="132" y2="132"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="136" y2="136"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="140" y2="140"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="144" y2="144"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="148" y2="148"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="152" y2="152"/>\n\t\t\t\t\t\t\t<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="156" y2="156"/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<path d="M159.75-31.75v191.5h-191.5v-191.5H159.75 M160-32H-32v192h192V-32L160-32z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t\t<g>\n\t\t\t\t\t<rect height="128" style="opacity:0.3;fill:#F44336;" width="4" x="0" y="0"/>\n\t\t\t\t\t<rect height="128" style="opacity:0.3;fill:#F44336;" width="4" x="124" y="0"/>\n\t\t\t\t\t<rect height="120" style="opacity:0.3;fill:#F44336;" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 66 -62)" width="4" x="62" y="-58"/>\n\t\t\t\t\t<rect height="120" style="opacity:0.3;fill:#F44336;" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 190 62)" width="4" x="62" y="66"/>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n\t<g id="Layer_3" style="display:none;">\n\t\t<rect id="XMLID_46_" height="128" style="display:inline;fill:none;stroke:#616161;stroke-width:0.25;stroke-miterlimit:10;" transform="matrix(-1.346904e-10 -1 1 -1.346904e-10 8.631098e-09 128)" width="128" x="0"/>\n\t\t<g id="XMLID_9_" style="display:inline;">\n\t\t\t<rect id="XMLID_45_" height="128" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" width="128" x="0"/>\n\t\t\t<line id="XMLID_44_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="8" x2="8" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_43_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="16" x2="16" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_42_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="24" x2="24" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_41_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="32" x2="32" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_40_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="40" x2="40" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_39_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="48" x2="48" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_38_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="56" x2="56" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_37_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="63.99" x2="63.99" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_36_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="71.99" x2="71.99" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_35_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="79.99" x2="79.99" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_34_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="87.99" x2="87.99" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_33_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="95.99" x2="95.99" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_32_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="103.99" x2="103.99" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_47_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="111.99" x2="111.99" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_48_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="119.99" x2="119.99" y1="0" y2="128"/>\n\t\t\t<line id="XMLID_49_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="120" y2="120"/>\n\t\t\t<line id="XMLID_50_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="112" y2="112"/>\n\t\t\t<line id="XMLID_51_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="104" y2="104"/>\n\t\t\t<line id="XMLID_52_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="96" y2="96"/>\n\t\t\t<line id="XMLID_53_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="88" y2="88"/>\n\t\t\t<line id="XMLID_54_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="80" y2="80"/>\n\t\t\t<line id="XMLID_55_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="72" y2="72"/>\n\t\t\t<line id="XMLID_56_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="64.01" y2="64.01"/>\n\t\t\t<line id="XMLID_57_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="56.01" y2="56.01"/>\n\t\t\t<line id="XMLID_58_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="48.01" y2="48.01"/>\n\t\t\t<line id="XMLID_60_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="40.01" y2="40.01"/>\n\t\t\t<line id="XMLID_61_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="32.01" y2="32.01"/>\n\t\t\t<line id="XMLID_62_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="24.01" y2="24.01"/>\n\t\t\t<line id="XMLID_63_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="16.01" y2="16.01"/>\n\t\t\t<line id="XMLID_64_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="8.01" y2="8.01"/>\n\t\t</g>\n\t\t<use id="XMLID_31_" height="129" style="display:inline;overflow:visible;" transform="matrix(1 0 0 -1 64 64)" width="129" x="-64.5" xlink:href="#Grid" y="-64.5"/>\n\t</g>\n</svg>',i.tooltip=!0,setTimeout((function(){i.iconView.set("viewBox","0 0 128 128")}),0),e.listenTo(i,"execute",(function(){return e._showPanel(!0)})),i})),this._attachActions()}},{key:"_createForm",value:function(){var e=this,t=this.editor,n=new nk(t);return t.config.get("emoji").forEach((function(i){e.listenTo(n,"emoji:"+i.name,(function(){t.model.change((function(n){n.insertText(i.text,t.model.document.selection.getFirstPosition()),e._hidePanel()}))}))})),n.keystrokes.set("Esc",(function(t,n){e._hidePanel(!0),n()})),n}},{key:"_getBalloonPositionData",value:function(){var e=this.editor.editing.view,t=e.document;return{target:e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}},{key:"_showPanel",value:function(){this._balloon.add({view:this.formView,position:this._getBalloonPositionData()})}},{key:"_attachActions",value:function(){var e=this;this.editor.keystrokes.set("Tab",(function(t,n){e._balloon.visibleView!==e.formView||e.formView.focusTracker.isFocused||(e.formView.focus(),n())}),{priority:"high"}),this.editor.keystrokes.set("Esc",(function(t,n){e._balloon.visibleView===e.formView&&(e._hidePanel(),n())})),su({emitter:this.formView,activator:function(){return e._balloon.hasView(e.formView)},contextElements:[this._balloon.view.element],callback:function(){return e._hidePanel()}})}},{key:"_hidePanel",value:function(e){this.stopListening(this.editor.editing.view,"render"),this._balloon.hasView(this.formView)&&(e&&this.editor.editing.view.focus(),this.stopListening(this.editor.editing.view,"render"),this._balloon.remove(this.formView))}}],[{key:"requires",get:function(){return[Tf]}},{key:"pluginName",get:function(){return"Emoji"}}]),n}(bu)],ik.defaultConfig={toolbar:{items:["heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","blockQuote","bold","italic","underline","emoji","|","imageUpload","link","|","indent","outdent","alignment","|","undo","redo","|","insertTable","horizontalLine","bulletedList","numberedList","specialCharacters","highLight"]},image:{toolbar:["imageTextAlternative","linkImage","|","imageStyle:alignLeft","imageStyle:full","imageStyle:alignRight"],styles:["full","alignLeft","alignRight"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default}},[[304,1,2]]]);
//# sourceMappingURL=main.eead085e.chunk.js.map